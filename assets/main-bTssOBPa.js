const e=Object.freeze(Object.defineProperty({__proto__:null,get default(){return CC}},Symbol.toStringTag,{value:"Module"}));!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const t=Symbol("OWNER");function r(e){return e[t]}function n(e){return r(e)}function i(e,r){!function(e,r){e[t]=r}(e,r)}const s=n,o=Object.freeze(Object.defineProperty({__proto__:null,getOwner:s,setOwner:i},Symbol.toStringTag,{value:"Module"})),a="object"==typeof self&&null!==self&&self.Object===Object&&"undefined"!=typeof Window&&self.constructor===Window&&"object"==typeof document&&null!==document&&self.document===document&&"object"==typeof location&&null!==location&&self.location===location&&"object"==typeof history&&null!==history&&self.history===history&&"object"==typeof navigator&&null!==navigator&&self.navigator===navigator&&"string"==typeof navigator.userAgent,l=a?self:null,c=a?self.location:null,u=a?self.history:null,h=a?self.navigator.userAgent:"Lynx (textmode)",d=!(!a||"object"!=typeof chrome||"object"==typeof opera),p=!!a&&/Firefox|FxiOS/.test(h),f=Object.freeze(Object.defineProperty({__proto__:null,hasDOM:a,history:u,isChrome:d,isFirefox:p,location:c,userAgent:h,window:l},Symbol.toStringTag,{value:"Module"}));function g(e){return e&&e.Object===Object?e:void 0}const m=g((y="object"==typeof global&&global)&&void 0===y.nodeType?y:void 0)||g("object"==typeof self&&self)||g("object"==typeof window&&window)||"undefined"!=typeof mainContext&&mainContext||new Function("return this")();var y;const b=function(e,t){return void 0===t?{imports:e,exports:e,lookup:e}:{imports:t.imports||e,exports:t.exports||e,lookup:t.lookup||e}}(m,m.Ember);function _(){return b.lookup}function v(e){b.lookup=e}const w={ENABLE_OPTIONAL_FEATURES:!1,EXTEND_PROTOTYPES:{Array:!1},LOG_STACKTRACE_ON_DEPRECATION:!0,LOG_VERSION:!0,RAISE_ON_DEPRECATION:!1,STRUCTURED_PROFILE:!1,_DEBUG_RENDER_TREE:!1,_ALL_DEPRECATIONS_ENABLED:!1,_OVERRIDE_DEPRECATION_VERSION:null,_DEFAULT_ASYNC_OBSERVERS:!1,_RERENDER_LOOP_LIMIT:1e3,EMBER_LOAD_HOOKS:{},FEATURES:{}};function k(){return w}(e=>{if("object"!=typeof e||null===e)return;for(let n in e){if(!Object.prototype.hasOwnProperty.call(e,n)||"EXTEND_PROTOTYPES"===n||"EMBER_LOAD_HOOKS"===n)continue;let t=w[n];w[n]=!0===t?!1!==e[n]:!1===t?!0===e[n]:e[n]}let{EMBER_LOAD_HOOKS:t}=e;if("object"==typeof t&&null!==t)for(let n in t){if(!Object.prototype.hasOwnProperty.call(t,n))continue;let e=t[n];Array.isArray(e)&&(w.EMBER_LOAD_HOOKS[n]=e.filter(e=>"function"==typeof e))}let{FEATURES:r}=e;if("object"==typeof r&&null!==r)for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(w.FEATURES[n]=!0===r[n])})(m.EmberENV);let S=()=>{},x=!1;function A(){return x}function R(e){x=Boolean(e)}const{toString:T}=Object.prototype,{toString:E}=Function.prototype,{isArray:C}=Array,{keys:O}=Object,{stringify:M}=JSON,I=100,P=/^[\w$]+$/;function D(e){return"number"==typeof e&&2===arguments.length?this:N(e,0)}function N(e,t,r){let n=!1;switch(typeof e){case"undefined":return"undefined";case"object":if(null===e)return"null";if(C(e)){n=!0;break}if(e.toString===T||void 0===e.toString)break;return e.toString();case"function":return e.toString===E?e.name?`[Function:${e.name}]`:"[Function]":e.toString();case"string":return M(e);default:return e.toString()}if(void 0===r)r=new WeakSet;else if(r.has(e))return"[Circular]";return r.add(e),n?function(e,t,r){if(t>4)return"[Array]";let n="[";for(let i=0;i<e.length;i++){if(n+=0===i?" ":", ",i>=I){n+=`... ${e.length-I} more items`;break}n+=N(e[i],t,r)}return n+=" ]",n}(e,t+1,r):function(e,t,r){if(t>4)return"[Object]";let n="{",i=O(e);for(let s=0;s<i.length;s++){if(n+=0===s?" ":", ",s>=I){n+=`... ${i.length-I} more keys`;break}let o=i[s];n+=`${j(String(o))}: ${N(e[o],t,r)}`}return n+=" }",n}(e,t+1,r)}function j(e){return P.test(e)?e:M(e)}function L(e){let t=Object.create(null);t[e]=1;for(let r in t)if(r===e)return r;return e}function q(e){return null!==e&&("object"==typeof e||"function"==typeof e)}let F=0;function z(){return++F}const U="ember",B=new WeakMap,$=new Map,H=L(`__ember${Date.now()}`);function V(e,t=U){let r=t+z().toString();return q(e)&&B.set(e,r),r}function W(e){let t;if(q(e))t=B.get(e),void 0===t&&(t=`${U}${z()}`,B.set(e,t));else if(t=$.get(e),void 0===t){let r=typeof e;t="string"===r?`st${z()}`:"number"===r?`nu${z()}`:"symbol"===r?`sy${z()}`:`(${e})`,$.set(e,t)}return t}const K=void 0,Q=/\.(_super|call\(this|apply\(this)/,G=Function.prototype.toString,Y=G.call(function(){return this}).indexOf("return this")>-1?function(e){return Q.test(G.call(e))}:function(){return!0},J=new WeakMap,Z=Object.freeze(function(){});function X(e){let t=J.get(e);return void 0===t&&(t=Y(e),J.set(e,t)),t}J.set(Z,!1);class ee{listeners=void 0;observers=void 0}const te=new WeakMap;function re(e){let t=te.get(e);return void 0===t&&(t=new ee,te.set(e,t)),t}function ne(e){return te.get(e)}function ie(e,t){re(e).observers=t}function se(e,t){re(e).listeners=t}const oe=new WeakSet;function ae(e,t){return X(e)?!oe.has(t)&&X(t)?le(e,le(t,Z)):le(e,t):e}function le(e,t){function r(){let r=this._super;this._super=t;let n=e.apply(this,arguments);return this._super=r,n}oe.add(r);let n=te.get(e);return void 0!==n&&te.set(r,n),r}function ce(e,t){let r=e;do{let e=Object.getOwnPropertyDescriptor(r,t);if(void 0!==e)return e;r=Object.getPrototypeOf(r)}while(null!==r);return null}let ue,he,de;function pe(e){let t=Object.create(e);return t._dict=null,delete t._dict,t}const fe={get onerror(){}},ge=[];function me(e){return-1!==ge.indexOf(e)}function ye(e){return L(`__${e}${H+Math.floor(Math.random()*Date.now()).toString()}__`)}const be=Symbol,_e=Object.prototype.toString;function ve(e){return null==e}function we(e){if("string"==typeof e)return e;if(null===e)return"null";if(void 0===e)return"undefined";if(Array.isArray(e)){let t="";for(let r=0;r<e.length;r++)r>0&&(t+=","),ve(e[r])||(t+=we(e[r]));return t}return"function"==typeof e.toString?e.toString():_e.call(e)}let ke,Se,xe,Ae,Re,Te,Ee,Ce,Oe,Me,Ie=()=>{},Pe=new WeakMap;function De(e,t){return null===e?t:Array.isArray(e)?(e.push(t),e):[e,t]}function Ne(e,t){Array.isArray(e)?e.forEach(t):null!==e&&t(e)}function je(e,t){if(Array.isArray(e)&&e.length>1){let r=e.indexOf(t);return e.splice(r,1),e}return null}function Le(e){let t=Pe.get(e);return void 0===t&&(t={parents:null,children:null,eagerDestructors:null,destructors:null,state:0},Pe.set(e,t)),t}function qe(e,t){let r=Le(e),n=Le(t);return r.children=De(r.children,t),n.parents=De(n.parents,e),t}function Fe(e,t,r=!1){let n=Le(e),i=r?"eagerDestructors":"destructors";return n[i]=De(n[i],t),t}function ze(e,t,r=!1){let n=Le(e),i=r?"eagerDestructors":"destructors";n[i]=je(n[i],t)}function Ue(e){let t=Le(e);if(t.state>=1)return;let{parents:r,children:n,eagerDestructors:i,destructors:s}=t;t.state=1,Ne(n,Ue),Ne(i,t=>{t(e)}),Ne(s,t=>{ke(e,t)}),Se(()=>{Ne(r,t=>{!function(e,t){let r=Le(t);0===r.state&&(r.children=je(r.children,e))}(e,t)}),t.state=2})}function Be(e){let t=Pe.get(e);return void 0!==t&&null!==t.children}function $e(e){let t=Pe.get(e);return void 0!==t&&t.state>=1}function He(e){let t=Pe.get(e);return void 0!==t&&t.state>=2}const Ve=Object.prototype;let We;const Ke=be("undefined");var Qe=function(e){return e[e.ADD=0]="ADD",e[e.ONCE=1]="ONCE",e[e.REMOVE=2]="REMOVE",e}(Qe||{});let Ge=1;class Ye{_descriptors;_mixins;_isInit;_lazyChains;_values;_revisions;source;proto;_parent;_listeners;_listenersVersion=1;_inheritedEnd=-1;_flattenedVersion=0;constructor(e){this._parent=void 0,this._descriptors=void 0,this._mixins=void 0,this._lazyChains=void 0,this._values=void 0,this._revisions=void 0,this._isInit=!1,this.source=e,this.proto=void 0===e.constructor?void 0:e.constructor.prototype,this._listeners=void 0}get parent(){let e=this._parent;if(void 0===e){let t=Je(this.source);this._parent=e=null===t||t===Ve?null:tt(t)}return e}setInitializing(){this._isInit=!0}unsetInitializing(){this._isInit=!1}isInitializing(){return this._isInit}isPrototypeMeta(e){return this.proto===this.source&&this.source===e}_getOrCreateOwnMap(e){return this[e]||(this[e]=Object.create(null))}_getOrCreateOwnSet(e){return this[e]||(this[e]=new Set)}_findInheritedMap(e,t){let r=this;for(;null!==r;){let n=r[e];if(void 0!==n){let e=n.get(t);if(void 0!==e)return e}r=r.parent}}_hasInInheritedSet(e,t){let r=this;for(;null!==r;){let n=r[e];if(void 0!==n&&n.has(t))return!0;r=r.parent}return!1}valueFor(e){let t=this._values;return void 0!==t?t[e]:void 0}setValueFor(e,t){this._getOrCreateOwnMap("_values")[e]=t}revisionFor(e){let t=this._revisions;return void 0!==t?t[e]:void 0}setRevisionFor(e,t){this._getOrCreateOwnMap("_revisions")[e]=t}writableLazyChainsFor(e){let t=this._getOrCreateOwnMap("_lazyChains"),r=t[e];return void 0===r&&(r=t[e]=[]),r}readableLazyChainsFor(e){let t=this._lazyChains;if(void 0!==t)return t[e]}addMixin(e){this._getOrCreateOwnSet("_mixins").add(e)}hasMixin(e){return this._hasInInheritedSet("_mixins",e)}forEachMixins(e){let t,r=this;for(;null!==r;){let n=r._mixins;void 0!==n&&(t=void 0===t?new Set:t,n.forEach(r=>{t.has(r)||(t.add(r),e(r))})),r=r.parent}}writeDescriptors(e,t){(this._descriptors||(this._descriptors=new Map)).set(e,t)}peekDescriptors(e){let t=this._findInheritedMap("_descriptors",e);return t===Ke?void 0:t}removeDescriptors(e){this.writeDescriptors(e,Ke)}forEachDescriptors(e){let t,r=this;for(;null!==r;){let n=r._descriptors;void 0!==n&&(t=void 0===t?new Set:t,n.forEach((r,n)=>{t.has(n)||(t.add(n),r!==Ke&&e(n,r))})),r=r.parent}}addToListeners(e,t,r,n,i){this.pushListener(e,t,r,n?Qe.ONCE:Qe.ADD,i)}removeFromListeners(e,t,r){this.pushListener(e,t,r,Qe.REMOVE)}pushListener(e,t,r,n,i=!1){let s=this.writableListeners(),o=rt(s,e,t,r);if(-1!==o&&o<this._inheritedEnd&&(s.splice(o,1),this._inheritedEnd--,o=-1),-1===o)s.push({event:e,target:t,method:r,kind:n,sync:i});else{let e=s[o];n===Qe.REMOVE&&e.kind!==Qe.REMOVE?s.splice(o,1):(e.kind=n,e.sync=i)}}writableListeners(){return this._flattenedVersion!==Ge||this.source!==this.proto&&-1!==this._inheritedEnd||Ge++,-1===this._inheritedEnd&&(this._inheritedEnd=0,this._listeners=[]),this._listeners}flattenedListeners(){if(this._flattenedVersion<Ge){let e=this.parent;if(null!==e){let t=e.flattenedListeners();if(void 0!==t)if(void 0===this._listeners)this._listeners=t;else{let e=this._listeners;this._inheritedEnd>0&&(e.splice(0,this._inheritedEnd),this._inheritedEnd=0);for(let r of t)-1===rt(e,r.event,r.target,r.method)&&(e.unshift(r),this._inheritedEnd++)}}this._flattenedVersion=Ge}return this._listeners}matchingListeners(e){let t,r=this.flattenedListeners();if(void 0!==r)for(let n of r)n.event!==e||n.kind!==Qe.ADD&&n.kind!==Qe.ONCE||(void 0===t&&(t=[]),t.push(n.target,n.method,n.kind===Qe.ONCE));return t}observerEvents(){let e,t=this.flattenedListeners();if(void 0!==t)for(let r of t)r.kind!==Qe.ADD&&r.kind!==Qe.ONCE||-1===r.event.indexOf(":change")||(void 0===e&&(e=[]),e.push(r));return e}}const Je=Object.getPrototypeOf,Ze=new WeakMap;function Xe(e,t){Ze.set(e,t)}function et(e){let t=Ze.get(e);if(void 0!==t)return t;let r=Je(e);for(;null!==r;){if(t=Ze.get(r),void 0!==t)return t.proto!==r&&(t.proto=r),t;r=Je(r)}return null}const tt=function(e){let t=et(e);if(null!==t&&t.source===e)return t;let r=new Ye(e);return Xe(e,r),r};function rt(e,t,r,n){for(let i=e.length-1;i>=0;i--){let s=e[i];if(s.event===t&&s.target===r&&s.method===n)return i}return-1}let nt=1;const it=Symbol("TAG_COMPUTE");function st(e){return e[it]()}function ot(e,t){return t>=e[it]()}Reflect.set(globalThis,"COMPUTE_SYMBOL",it);const at=Symbol("TAG_TYPE");class lt{static combine(e){switch(e.length){case 0:return pt;case 1:return e[0];default:{let t=new lt(2);return t.subtag=e,t}}}constructor(e){this.revision=1,this.lastChecked=1,this.lastValue=1,this.isUpdating=!1,this.subtag=null,this.subtagBufferCache=null,this[at]=e}[it](){let{lastChecked:e}=this;if(this.isUpdating)this.lastChecked=++nt;else if(e!==nt){this.isUpdating=!0,this.lastChecked=nt;try{let{subtag:e,revision:t}=this;if(null!==e)if(Array.isArray(e))for(const r of e){let e=r[it]();t=Math.max(e,t)}else{let r=e[it]();r===this.subtagBufferCache?t=Math.max(t,this.lastValue):(this.subtagBufferCache=null,t=Math.max(t,r))}this.lastValue=t}finally{this.isUpdating=!1}}return this.lastValue}static updateTag(e,t){let r=e,n=t;n===pt?r.subtag=null:(r.subtagBufferCache=n[it](),r.subtag=n)}static dirtyTag(e,t){e.revision=++nt,Ie()}}const ct=lt.dirtyTag,ut=lt.updateTag;function ht(){return new lt(0)}function dt(){return new lt(1)}const pt=new lt(3);function ft(e){return e===pt}class gt{[it](){return NaN}constructor(){this[at]=100}}const mt=new gt;class yt{[it](){return nt}constructor(){this[at]=101}}const bt=new yt,_t=lt.combine;let vt=dt(),wt=dt(),kt=dt();st(vt),ct(vt),st(vt),ut(vt,_t([wt,kt])),st(vt),ct(wt),st(vt),ct(kt),st(vt),ut(vt,kt),st(vt),ct(kt),st(vt);class St{add(e){e!==pt&&(this.tags.add(e),this.last=e)}combine(){let{tags:e}=this;return 0===e.size?pt:1===e.size?this.last:_t(Array.from(this.tags))}constructor(){this.tags=new Set,this.last=null}}let xt=null;const At=[];function Rt(){At.push(xt),xt=new St}function Tt(){let e=xt;return xt=At.pop()||null,function(e){if(null==e)throw new Error("Expected value to be present");return e}(e).combine()}function Et(){At.push(xt),xt=null}function Ct(){xt=At.pop()||null}function Ot(){return null!==xt}function Mt(e){null!==xt&&xt.add(e)}const It=Symbol("FN"),Pt=Symbol("LAST_VALUE"),Dt=Symbol("TAG"),Nt=Symbol("SNAPSHOT");function jt(e){return{[It]:e,[Pt]:void 0,[Dt]:void 0,[Nt]:-1}}function Lt(e){let t=e[It],r=e[Dt],n=e[Nt];if(void 0!==r&&ot(r,n))Mt(r);else{Rt();try{e[Pt]=t()}finally{r=Tt(),e[Dt]=r,e[Nt]=st(r),Mt(r)}}return e[Pt]}function qt(e){return ft(e[Dt])}function Ft(e){let t;Rt();try{e()}finally{t=Tt()}return t}function zt(e){Et();try{return e()}finally{Ct()}}const Ut=new Set([Symbol.iterator,"concat","entries","every","filter","find","findIndex","flat","flatMap","forEach","includes","indexOf","join","keys","lastIndexOf","map","reduce","reduceRight","slice","some","values"]),Bt=new Set(["fill","push","unshift"]);function $t(e){if("symbol"==typeof e)return null;const t=Number(e);return isNaN(t)?null:t%1==0?t:null}class Ht{#e;constructor(e,t){this.#t=dt(),this.#r=new Map,this.#e=t;const r=e.slice(),n=this,i=new Map;let s=!1;return new Proxy(r,{get(e,t){const r=$t(t);if(null!==r)return n.#n(r),Mt(n.#t),e[r];if("length"===t)return s?s=!1:Mt(n.#t),e[t];if(Bt.has(t)&&(s=!0),Ut.has(t)){let r=i.get(t);return void 0===r&&(r=(...r)=>(Mt(n.#t),e[t](...r)),i.set(t,r)),r}return e[t]},set(e,t,r){if(n.#e.equals(e[t],r))return!0;e[t]=r;const i=$t(t);return null!==i?(n.#i(i),n.#s()):"length"===t&&n.#s(),!0},getPrototypeOf:()=>Ht.prototype})}#t;#r;#n(e){let t=this.#r.get(e);void 0===t&&(t=dt(),this.#r.set(e,t)),Mt(t)}#i(e){const t=this.#r.get(e);t&&ct(t)}#s(){ct(this.#t),this.#r.clear()}}Object.setPrototypeOf(Ht.prototype,Array.prototype);class Vt{#e;#t;#r;#o;#a(e){const t=this.#r;let r=t.get(e);return void 0===r&&(r=dt(),t.set(e,r)),r}#i(e){const t=this.#r.get(e);t&&ct(t)}constructor(e,t){this.#t=dt(),this.#r=new Map,this.#o=e instanceof Map?new Map(e.entries()):new Map(e),this.#e=t}get(e){return Mt(this.#a(e)),this.#o.get(e)}has(e){return Mt(this.#a(e)),this.#o.has(e)}entries(){return Mt(this.#t),this.#o.entries()}keys(){return Mt(this.#t),this.#o.keys()}values(){return Mt(this.#t),this.#o.values()}forEach(e){Mt(this.#t),this.#o.forEach(e)}get size(){return Mt(this.#t),this.#o.size}[Symbol.iterator](){let e=this.keys(),t=this;return{next(){let r=e.next(),n=r.value;return r.done?{value:[void 0,void 0],done:!0}:{value:[n,t.get(n)],done:!1}}}}get[Symbol.toStringTag](){return this.#o[Symbol.toStringTag]}set(e,t){let r=this.#o.get(e);return r&&this.#e.equals(r,t)||(this.#i(e),r||ct(this.#t),this.#o.set(e,t)),this}delete(e){return!this.#o.has(e)||(this.#i(e),ct(this.#t),this.#r.delete(e),this.#o.delete(e))}clear(){0!==this.#o.size&&(this.#r.forEach(e=>ct(e)),this.#r.clear(),ct(this.#t),this.#o.clear())}}Object.setPrototypeOf(Vt.prototype,Map.prototype);class Wt{#e;#r;#t;#n(e){let t=this.#r.get(e);void 0===t&&(t=dt(),this.#r.set(e,t)),Mt(t)}#i(e){const t=this.#r.get(e);t&&ct(t)}#s(){ct(this.#t)}constructor(e,t){this.#r=new Map,this.#t=dt(),this.#e=t;const r=Object.getPrototypeOf(e),n=Object.getOwnPropertyDescriptors(e),i=Object.create(r);for(const o in n)Object.defineProperty(i,o,n[o]);const s=this;return new Proxy(i,{get:(e,t)=>(s.#n(t),e[t]),has:(e,t)=>(s.#n(t),t in e),ownKeys:e=>(Mt(s.#t),Reflect.ownKeys(e)),set:(e,t,r)=>(s.#e.equals(e[t],r)||(e[t]=r,s.#i(t),s.#s()),!0),deleteProperty:(e,t)=>(t in e&&(delete e[t],s.#i(t),s.#r.delete(t),s.#s()),!0),getPrototypeOf:()=>Wt.prototype})}}class Kt{#e;#t;#r;#o;#a(e){const t=this.#r;let r=t.get(e);return void 0===r&&(r=dt(),t.set(e,r)),r}#i(e){const t=this.#r.get(e);t&&ct(t)}constructor(e,t){this.#t=dt(),this.#r=new Map,this.#o=new Set(e),this.#e=t}has(e){return Mt(this.#a(e)),this.#o.has(e)}entries(){return Mt(this.#t),this.#o.entries()}keys(){return Mt(this.#t),this.#o.keys()}values(){return Mt(this.#t),this.#o.values()}union(e){return Mt(this.#t),this.#o.union(e)}intersection(e){return Mt(this.#t),this.#o.intersection(e)}difference(e){return Mt(this.#t),this.#o.difference(e)}symmetricDifference(e){return Mt(this.#t),this.#o.symmetricDifference(e)}isSubsetOf(e){return Mt(this.#t),this.#o.isSubsetOf(e)}isSupersetOf(e){return Mt(this.#t),this.#o.isSupersetOf(e)}isDisjointFrom(e){return Mt(this.#t),this.#o.isDisjointFrom(e)}forEach(e){Mt(this.#t),this.#o.forEach(e)}get size(){return Mt(this.#t),this.#o.size}[Symbol.iterator](){return Mt(this.#t),this.#o[Symbol.iterator]()}get[Symbol.toStringTag](){return this.#o[Symbol.toStringTag]}add(e){if(this.#o.has(e)){if(this.#e.equals(e,e))return this}else ct(this.#t);return this.#i(e),this.#o.add(e),this}delete(e){return!this.#o.has(e)||(this.#i(e),ct(this.#t),this.#r.delete(e),this.#o.delete(e))}clear(){0!==this.#o.size&&(this.#r.forEach(e=>ct(e)),ct(this.#t),this.#r.clear(),this.#o.clear())}}Object.setPrototypeOf(Kt.prototype,Set.prototype);class Qt{#e;#r;#o;#a(e){let t=this.#r.get(e);return void 0===t&&(t=dt(),this.#r.set(e,t)),t}#i(e){const t=this.#r.get(e);t&&ct(t)}constructor(e,t){this.#r=new WeakMap,this.#o=e instanceof WeakMap?e:new WeakMap(e),this.#e=t}get(e){return Mt(this.#a(e)),this.#o.get(e)}has(e){return Mt(this.#a(e)),this.#o.has(e)}set(e,t){let r=this.#o.get(e);return r&&this.#e.equals(r,t)||(this.#i(e),this.#o.set(e,t)),this}delete(e){return!this.#o.has(e)||(this.#i(e),this.#r.delete(e),this.#o.delete(e))}get[Symbol.toStringTag](){return this.#o[Symbol.toStringTag]}}Object.setPrototypeOf(Qt.prototype,WeakMap.prototype);class Gt{#e;#r;#o;#a(e){let t=this.#r.get(e);return void 0===t&&(t=dt(),this.#r.set(e,t)),t}#i(e){const t=this.#r.get(e);t&&ct(t)}constructor(e,t){this.#r=new WeakMap,this.#e=t,this.#o=new WeakSet(e)}has(e){return Mt(this.#a(e)),this.#o.has(e)}add(e){return this.#o.has(e)&&this.#e.equals(e,e)||(this.#o.add(e),this.#i(e)),this}delete(e){return!this.#o.has(e)||(this.#i(e),this.#r.delete(e),this.#o.delete(e))}get[Symbol.toStringTag](){return this.#o[Symbol.toStringTag]}}Object.setPrototypeOf(Gt.prototype,WeakSet.prototype);const Yt=new WeakMap;function Jt(e,t,r){let n=void 0===r?Yt.get(e):r;if(void 0===n)return;let i=n.get(t);void 0!==i&&ct(i,!0)}function Zt(e){let t=Yt.get(e);return void 0===t&&(t=new Map,Yt.set(e,t)),t}function Xt(e,t,r){let n=void 0===r?Zt(e):r,i=n.get(t);return void 0===i&&(i=dt(),n.set(t,i)),i}function er(e,t){let r=new WeakMap,n="function"==typeof t;return{getter:function(i){let s;return Mt(Xt(i,e)),n&&!r.has(i)?(s=t.call(i),r.set(i,s)):s=r.get(i),s},setter:function(t,n){Jt(t,e),r.set(t,n)}}}const tr=Symbol("GLIMMER_VALIDATOR_REGISTRATION");if(Reflect.has(globalThis,tr))throw new Error("The `@glimmer/validator` library has been included twice in this application. It could be different versions of the package, or the same version included twice by mistake. `@glimmer/validator` depends on having a single copy of the package in use at any time in an application, even if they are the same version. You must dedupe your build to remove the duplicate packages in order to prevent this error.");Reflect.set(globalThis,tr,!0);const rr=Object.freeze(Object.defineProperty({__proto__:null,ALLOW_CYCLES:void 0,COMPUTE:it,CONSTANT:0,CONSTANT_TAG:pt,CURRENT_TAG:bt,CurrentTag:yt,INITIAL:1,VOLATILE:NaN,VOLATILE_TAG:mt,VolatileTag:gt,beginTrackFrame:Rt,beginUntrackFrame:Et,bump:function(){nt++},combine:_t,consumeTag:Mt,createCache:jt,createTag:ht,createUpdatableTag:dt,debug:{},dirtyTag:ct,dirtyTagFor:Jt,endTrackFrame:Tt,endUntrackFrame:Ct,getValue:Lt,isConst:qt,isConstTag:ft,isTracking:Ot,resetTracking:function(){for(;At.length>0;)At.pop();xt=null},tagFor:Xt,tagMetaFor:Zt,track:Ft,trackedArray:function(e,t){return new Ht(e??[],{equals:t?.equals??Object.is,description:t?.description})},trackedData:er,trackedMap:function(e,t){return new Vt(e??[],{equals:t?.equals??Object.is,description:t?.description})},trackedObject:function(e,t){return new Wt(e??{},{equals:t?.equals??Object.is,description:t?.description})},trackedSet:function(e,t){return new Kt(e??[],{equals:t?.equals??Object.is,description:t?.description})},trackedWeakMap:function(e,t){return new Qt(e??[],{equals:t?.equals??Object.is,description:t?.description})},trackedWeakSet:function(e,t){return new Gt(e??[],{equals:t?.equals??Object.is,description:t?.description})},untrack:zt,updateTag:ut,validateTag:ot,valueForTag:st},Symbol.toStringTag,{value:"Module"})),nr=Object.freeze([]);function ir(){return nr}const sr=ir(),or=ir();function*ar(e){for(let t=e.length-1;t>=0;t--)yield e[t]}function*lr(e){let t=0;for(const r of e)yield[t++,r]}function cr(e){return!!e&&e.length>0}function ur(e){return 0===e.length?void 0:e[e.length-1]}function hr(){return Object.create(null)}function dr(e){return null!=e}function pr(e){return"function"==typeof e||"object"==typeof e&&null!==e}class fr{constructor(e=[]){this.current=null,this.stack=e}get size(){return this.stack.length}push(e){this.current=e,this.stack.push(e)}pop(){let e=this.stack.pop();return this.current=ur(this.stack)??null,void 0===e?null:e}nth(e){let t=this.stack.length;return t<e?null:this.stack[t-e]}isEmpty(){return 0===this.stack.length}snapshot(){return[...this.stack]}toArray(){return this.stack}}function gr(e){let t=e.firstChild;for(;t;){let r=t.nextSibling;e.removeChild(t),t=r}}const mr=Object.assign,yr=console,br=console,_r=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARRAY:nr,EMPTY_NUMBER_ARRAY:or,EMPTY_STRING_ARRAY:sr,LOCAL_LOGGER:yr,LOGGER:br,SERIALIZATION_FIRST_NODE_STRING:"%+b:0%",Stack:fr,assertNever:function(e,t="unexpected unreachable branch"){throw br.log("unreachable",e),br.log(`${t} :: ${JSON.stringify(e)} (${e})`),new Error("code reached unreachable")},assign:mr,beginTestSteps:void 0,clearElement:gr,dict:hr,emptyArray:ir,endTestSteps:void 0,entries:function(e){return Object.entries(e)},enumerate:lr,intern:function(e){let t={};t[e]=1;for(let r in t)if(r===e)return r;return e},isDict:dr,isEmptyArray:function(e){return e===nr},isIndexable:pr,isSerializationFirstNode:function(e){return"%+b:0%"===e.nodeValue},keys:function(e){return Object.keys(e)},logStep:void 0,reverse:ar,strip:function(e,...t){let r="";for(const[a,l]of lr(e))r+=`${l}${void 0!==t[a]?String(t[a]):""}`;let n=r.split("\n");for(;cr(n)&&/^\s*$/u.test(0===(i=n).length?void 0:i[0]);)n.shift();for(var i;cr(n)&&/^\s*$/u.test(ur(n));)n.pop();let s=1/0;for(let a of n){let e=/^\s*/u.exec(a)[0].length;s=Math.min(s,e)}let o=[];for(let a of n)o.push(a.slice(s));return o.join("\n")},values:function(e){return Object.values(e)},verifySteps:void 0,zipArrays:function*(e,t){for(let r=0;r<e.length;r++){const n=r<t.length?"retain":"pop";yield[n,r,e[r],t[r]]}for(let r=e.length;r<t.length;r++)yield["push",r,void 0,t[r]]},zipTuples:function*(e,t){for(let r=0;r<e.length;r++)yield[r,e[r],t[r]]}},Symbol.toStringTag,{value:"Module"})),vr=Symbol("REFERENCE");class wr{constructor(e){this.tag=null,this.lastRevision=1,this.children=null,this.compute=null,this.update=null,this[vr]=e}}function kr(e){const t=new wr(2);return t.tag=pt,t.lastValue=e,t}const Sr=kr(void 0),xr=kr(null),Ar=kr(!0),Rr=kr(!1);function Tr(e){const t=new wr(0);return t.lastValue=e,t.tag=pt,t}function Er(e){const t=new wr(2);return t.lastValue=e,t.tag=pt,t}function Cr(e,t=null){const r=new wr(1);return r.compute=e,r.update=t,r}function Or(e){return Dr(e)?Cr(()=>Nr(e),null,e.debugLabel):e}function Mr(e){return 3===e[vr]}function Ir(e){const t=Cr(()=>Nr(e),t=>jr(e,t));return t.debugLabel=e.debugLabel,t[vr]=3,t}function Pr(e){return e.tag===pt}function Dr(e){return null!==e.update}function Nr(e){const t=e;let{tag:r}=t;if(r===pt)return t.lastValue;const{lastRevision:n}=t;let i;if(null!==r&&ot(r,n))i=t.lastValue;else{const{compute:e}=t,n=Ft(()=>{i=t.lastValue=e()});r=t.tag=n,t.lastRevision=st(n)}return Mt(r),i}function jr(e,t){(0,e.update)(t)}function Lr(e,t){const r=e,n=r[vr];let i,s=r.children;if(null===s)s=r.children=new Map;else{const e=s.get(t);if(e)return e}if(2===n){const e=Nr(r);i=dr(e)?Er(e[t]):Sr}else i=Cr(()=>{const e=Nr(r);if(dr(e))return Re(e,t)},e=>{const n=Nr(r);if(dr(n))return Te(n,t,e)});return s.set(t,i),i}function qr(e,t){let r=e;for(const n of t)r=Lr(r,n);return r}const Fr={},zr=(e,t)=>t,Ur=(e,t)=>String(t),Br=e=>null===e?Fr:e;class $r{get weakMap(){return void 0===this._weakMap&&(this._weakMap=new WeakMap),this._weakMap}get primitiveMap(){return void 0===this._primitiveMap&&(this._primitiveMap=new Map),this._primitiveMap}set(e,t){pr(e)?this.weakMap.set(e,t):this.primitiveMap.set(e,t)}get(e){return pr(e)?this.weakMap.get(e):this.primitiveMap.get(e)}}const Hr=new $r;function Vr(e){let t=new $r;return(r,n)=>{let i=e(r,n),s=t.get(i)||0;return t.set(i,s+1),0===s?i:function(e,t){let r=Hr.get(e);void 0===r&&(r=[],Hr.set(e,r));let n=r[t];return void 0===n&&(n={value:e,count:t},r[t]=n),n}(i,s)}}function Wr(e,t){return Cr(()=>{let r=Nr(e),n=function(e){switch(e){case"@key":return Vr(zr);case"@index":return Vr(Ur);case"@identity":return Vr(Br);default:return t=e,Vr(e=>Ee(e,t))}var t}(t);if(Array.isArray(r))return new Gr(r,n);let i=xe(r);return null===i?new Gr(nr,()=>null):new Qr(i,n)})}function Kr(e){let t=e,r=ht();return Cr(()=>(Mt(r),t),e=>{t!==e&&(t=e,ct(r))})}class Qr{constructor(e,t){this.inner=e,this.keyFor=t}isEmpty(){return this.inner.isEmpty()}next(){let e=this.inner.next();return null!==e&&(e.key=this.keyFor(e.value,e.memo)),e}}let Gr=class{constructor(e,t){this.iterator=e,this.keyFor=t,this.pos=0,0===e.length?this.current={kind:"empty"}:this.current={kind:"first",value:e[this.pos]}}isEmpty(){return"empty"===this.current.kind}next(){let e,t=this.current;if("first"===t.kind)this.current={kind:"progress"},e=t.value;else{if(this.pos>=this.iterator.length-1)return null;e=this.iterator[++this.pos]}let{keyFor:r}=this;return{key:r(e,this.pos),value:e,memo:this.pos}}};const Yr=Object.freeze(Object.defineProperty({__proto__:null,FALSE_REFERENCE:Rr,NULL_REFERENCE:xr,REFERENCE:vr,TRUE_REFERENCE:Ar,UNDEFINED_REFERENCE:Sr,childRefFor:Lr,childRefFromParts:qr,createComputeRef:Cr,createConstRef:Tr,createDebugAliasRef:void 0,createInvokableRef:Ir,createIteratorItemRef:Kr,createIteratorRef:Wr,createPrimitiveRef:kr,createReadOnlyRef:Or,createUnboundRef:Er,isConstRef:Pr,isInvokableRef:Mr,isUpdatableRef:Dr,updateRef:jr,valueForRef:Nr},Symbol.toStringTag,{value:"Module"})),Jr={Empty:0,dynamicLayout:1,dynamicTag:2,prepareArgs:4,createArgs:8,attributeHook:16,elementHook:32,dynamicScope:64,createCaller:128,updateHook:256,createInstance:512,wrapped:1024,willDestroy:2048,hasSubOwner:4096},Zr=1024,Xr=new WeakMap;function en(e){return Xr.get(e)}function tn(e,t){Xr.set(e,t)}function rn(e){if("symbol"==typeof e)return null;const t=Number(e);return isNaN(t)?null:t%1==0?t:null}class nn{constructor(e){this.named=e}get(e,t){const r=this.named[t];if(void 0!==r)return Nr(r)}has(e,t){return t in this.named}ownKeys(){return Object.keys(this.named)}isExtensible(){return!1}getOwnPropertyDescriptor(e,t){return{enumerable:!0,configurable:!0}}}class sn{constructor(e){this.positional=e}get(e,t){let{positional:r}=this;if("length"===t)return r.length;const n=rn(t);return null!==n&&n<r.length?Nr(r[n]):e[t]}isExtensible(){return!1}has(e,t){const r=rn(t);return null!==r&&r<this.positional.length}}const on=e=>{const{named:t,positional:r}=e,n=new nn(t),i=new sn(r),s=Object.create(null),o=new Proxy(s,n),a=new Proxy([],i);return tn(o,(e,r)=>function(e,t){return Ft(()=>{t in e&&Nr(e[t])})}(t,r)),tn(a,(e,t)=>function(e,t){return Ft(()=>{"[]"===t&&e.forEach(Nr);const r=rn(t);null!==r&&r<e.length&&Nr(e[r])})}(r,t)),{named:o,positional:a}},an=Jr.Empty;function ln(e){return an|cn(e,"dynamicLayout")|cn(e,"dynamicTag")|cn(e,"prepareArgs")|cn(e,"createArgs")|cn(e,"attributeHook")|cn(e,"elementHook")|cn(e,"dynamicScope")|cn(e,"createCaller")|cn(e,"updateHook")|cn(e,"createInstance")|cn(e,"wrapped")|cn(e,"willDestroy")|cn(e,"hasSubOwner")}function cn(e,t){return e[t]?Jr[t]:an}function un(e,t,r){return!!(t&r)}function hn(e,t){return!!(e&t)}function dn(e,t={}){return{hasValue:Boolean(t.hasValue),hasDestroyable:Boolean(t.hasDestroyable),hasScheduledEffect:Boolean(t.hasScheduledEffect)}}function pn(e){return e.capabilities.hasValue}function fn(e){return e.capabilities.hasDestroyable}class gn{constructor(e){this.factory=e,this.helperManagerDelegates=new WeakMap,this.undefinedDelegate=null}getDelegateForOwner(e){let t=this.helperManagerDelegates.get(e);if(void 0===t){let{factory:r}=this;t=r(e),this.helperManagerDelegates.set(e,t)}return t}getDelegateFor(e){if(void 0===e){let{undefinedDelegate:e}=this;if(null===e){let{factory:t}=this;this.undefinedDelegate=e=t(void 0)}return e}return this.getDelegateForOwner(e)}getHelper(e){return(t,r)=>{let n=this.getDelegateFor(r);const i=on(t),s=n.createHelper(e,i);if(pn(n)){let e=Cr(()=>n.getValue(s),null);return fn(n)&&qe(e,n.getDestroyable(s)),e}if(fn(n)){let e=Tr(void 0);return qe(e,n.getDestroyable(s)),e}return Sr}}}class mn{createHelper(e,t){return{fn:e,args:t}}getValue({fn:e,args:t}){return Object.keys(t.named).length>0?e(...t.positional,t.named):e(...t.positional)}getDebugName(e){return e.name?`(helper function ${e.name})`:"(anonymous helper function)"}constructor(){this.capabilities={hasValue:!0,hasDestroyable:!1,hasScheduledEffect:!1}}}const yn=new WeakMap,bn=new WeakMap,_n=new WeakMap,vn=Object.getPrototypeOf;function wn(e,t,r){return e.set(r,t),r}function kn(e,t){let r=t;for(;null!==r;){const t=e.get(r);if(void 0!==t)return t;r=vn(r)}}function Sn(e,t){return wn(bn,e,t)}function xn(e){const t=kn(bn,e);return void 0===t?null:t}function An(e,t){return wn(_n,e,t)}const Rn=new gn(()=>new mn);function Tn(e){let t=kn(_n,e);return void 0===t&&"function"==typeof e&&(t=Rn),t||null}function En(e,t){return wn(yn,e,t)}function Cn(e){const t=kn(yn,e);return void 0===t?null:t}function On(e){return void 0!==kn(yn,e)}function Mn(e){return function(e){return"function"==typeof e}(e)||void 0!==kn(_n,e)}const In={dynamicLayout:!1,dynamicTag:!1,prepareArgs:!1,createArgs:!0,attributeHook:!1,elementHook:!1,createCaller:!1,dynamicScope:!0,updateHook:!0,createInstance:!0,wrapped:!1,willDestroy:!1,hasSubOwner:!1};function Pn(e,t={}){let r=Boolean(t.updateHook);return{asyncLifeCycleCallbacks:Boolean(t.asyncLifecycleCallbacks),destructor:Boolean(t.destructor),updateHook:r}}function Dn(e){return e.capabilities.asyncLifeCycleCallbacks}function Nn(e){return e.capabilities.updateHook}class jn{constructor(e){this.factory=e,this.componentManagerDelegates=new WeakMap}getDelegateFor(e){let{componentManagerDelegates:t}=this,r=t.get(e);if(void 0===r){let{factory:n}=this;r=n(e),t.set(e,r)}return r}create(e,t,r){let n=this.getDelegateFor(e),i=on(r.capture()),s=n.createComponent(t,i);return new Ln(s,n,i)}getDebugName(e){return"function"==typeof e?e.name:e.toString()}update(e){let{delegate:t}=e;if(Nn(t)){let{component:r,args:n}=e;t.updateComponent(r,n)}}didCreate({component:e,delegate:t}){Dn(t)&&t.didCreateComponent(e)}didUpdate({component:e,delegate:t}){(function(e){return Dn(e)&&Nn(e)})(t)&&t.didUpdateComponent(e)}didRenderLayout(){}didUpdateLayout(){}getSelf({component:e,delegate:t}){return Tr(t.getContext(e))}getDestroyable(e){const{delegate:t}=e;if(function(e){return e.capabilities.destructor}(t)){const{component:r}=e;return Fe(e,()=>t.destroyComponent(r)),e}return null}getCapabilities(){return In}}class Ln{constructor(e,t,r){this.component=e,this.delegate=t,this.args=r}}class qn{constructor(e){this.factory=e,this.componentManagerDelegates=new WeakMap}getDelegateFor(e){let{componentManagerDelegates:t}=this,r=t.get(e);if(void 0===r){let{factory:n}=this;r=n(e),t.set(e,r)}return r}create(e,t,r,n){let i,s=this.getDelegateFor(e),o=on(n),a=s.createModifier(r,o);return i={tag:dt(),element:t,delegate:s,args:o,modifier:a},Fe(i,()=>s.destroyModifier(a,o)),i}getDebugName(e){return"function"==typeof e?e.name||e.toString():"<unknown>"}getDebugInstance({modifier:e}){return e}getTag({tag:e}){return e}install({element:e,args:t,modifier:r,delegate:n}){let{capabilities:i}=n;i.disableAutoTracking?zt(()=>n.installModifier(r,e,t)):n.installModifier(r,e,t)}update({args:e,modifier:t,delegate:r}){let{capabilities:n}=r;n.disableAutoTracking?zt(()=>r.updateModifier(t,e)):r.updateModifier(t,e)}getDestroyable(e){return e}}function Fn(e,t){return En(new jn(e),t)}function zn(e,t){return An(new gn(e),t)}const Un=new WeakMap,Bn=Reflect.getPrototypeOf;function $n(e,t){return Un.set(t,e),t}function Hn(e){let t=e;for(;null!==t;){let e=Un.get(t);if(void 0!==e)return e;t=Bn(t)}}const Vn=Object.freeze(Object.defineProperty({__proto__:null,CustomComponentManager:jn,CustomHelperManager:gn,CustomModifierManager:qn,capabilityFlagsFrom:ln,componentCapabilities:Pn,getComponentTemplate:Hn,getCustomTagFor:en,getInternalComponentManager:Cn,getInternalHelperManager:Tn,getInternalModifierManager:xn,hasCapability:hn,hasDestroyable:fn,hasInternalComponentManager:On,hasInternalHelperManager:Mn,hasInternalModifierManager:function(e){return void 0!==kn(bn,e)},hasValue:pn,helperCapabilities:dn,managerHasCapability:un,modifierCapabilities:function(e,t={}){return{disableAutoTracking:Boolean(t.disableAutoTracking)}},setComponentManager:Fn,setComponentTemplate:$n,setCustomTagFor:tn,setHelperManager:zn,setInternalComponentManager:En,setInternalHelperManager:An,setInternalModifierManager:Sn,setModifierManager:function(e,t){return Sn(new qn(e),t)}},Symbol.toStringTag,{value:"Module"})),Wn=new WeakSet;function Kn(e){return!!q(e)&&Wn.has(e)}function Qn(e){q(e)&&Wn.add(e)}const Gn=new WeakSet;function Yn(e){return Gn.has(e)}let Jn=class{size=0;misses=0;hits=0;constructor(e,t,r=new Map){this.limit=e,this.func=t,this.store=r}get(e){return this.store.has(e)?(this.hits++,this.store.get(e)):(this.misses++,this.set(e,this.func(e)))}set(e,t){return this.limit>this.size&&(this.size++,this.store.set(e,t)),t}purge(){this.store.clear(),this.size=0,this.hits=0,this.misses=0}};const Zn="6.9.0",Xn=Object.freeze(Object.defineProperty({__proto__:null,default:Zn},Symbol.toStringTag,{value:"Module"}));function ei(e,t){return Array.isArray(e)?e[t]:e.objectAt(t)}const ti=be("SELF_TAG");function ri(e,t,r=!1,n){let i=en(e);return void 0!==i?i(e,t,r):Xt(e,t,n)}function ni(e){return q(e)?Xt(e,ti):pt}function ii(e,t){Jt(e,t),Jt(e,ti)}const si=new WeakSet;function oi(e,t,r){let n=e.readableLazyChainsFor(t);if(void 0!==n){if(q(r))for(let[e,t]of n)ut(e,li(r,t,Zt(r),et(r)));n.length=0}}function ai(e,t,r,n){let i=[];for(let s of t)ci(i,e,s,r,n);return _t(i)}function li(e,t,r,n){return _t(ci([],e,t,r,n))}function ci(e,t,r,n,i){let s,o,a=t,l=n,c=i,u=r.length,h=-1;for(;;){let t=h+1;if(h=r.indexOf(".",t),-1===h&&(h=u),s=r.slice(t,h),"@each"===s&&h!==u){t=h+1,h=r.indexOf(".",t);let n=a.length;if("number"!=typeof n||!Array.isArray(a)&&!("objectAt"in a))break;if(0===n){e.push(ri(a,"[]"));break}s=-1===h?r.slice(t):r.slice(t,h);for(let t=0;t<n;t++){let r=ei(a,t);r&&(e.push(ri(r,s,!0)),c=et(r),o=null!==c?c.peekDescriptors(s):void 0,void 0!==o&&"string"==typeof o.altKey&&r[s])}e.push(ri(a,"[]",!0,l));break}let n=ri(a,s,!0,l);if(o=null!==c?c.peekDescriptors(s):void 0,e.push(n),h===u){si.has(o)&&a[s];break}if(void 0===o)a=s in a||"function"!=typeof a.unknownProperty?a[s]:a.unknownProperty(s);else if(si.has(o))a=a[s];else{let t=c.source===a?c:tt(a),i=t.revisionFor(s);if(void 0===i||!ot(n,i)){let n=t.writableLazyChainsFor(s),i=r.substring(h+1),o=dt();n.push([o,i]),e.push(o);break}a=t.valueFor(s)}if(!q(a))break;l=Zt(a),c=et(a)}return e}function ui(e){let[t,r,n]=e;return 3===e.length&&("function"==typeof t||"object"==typeof t&&null!==t)&&"string"==typeof r&&("object"==typeof n&&null!==n||void 0===n)}function hi(e){let t=function(){return e};return wi(t),t}class di{enumerable=!0;configurable=!0;_dependentKeys=void 0;_meta=void 0;setup(e,t,r,n){n.writeDescriptors(t,this)}teardown(e,t,r){r.removeDescriptors(t)}}function pi(e,t){return function(){return t.get(this,e)}}function fi(e,t){let r=function(r){return t.set(this,e,r)};return gi.add(r),r}const gi=new WeakSet;function mi(e,t){let r=function(t,r,n,i){let s=3===arguments.length?tt(t):i;return e.setup(t,r,n,s),{enumerable:e.enumerable,configurable:e.configurable,get:pi(r,e),set:fi(r,e)}};return wi(r,e),Object.setPrototypeOf(r,t.prototype),r}const yi=new WeakMap;function bi(e,t,r){let n=void 0===r?et(e):r;if(null!==n)return n.peekDescriptors(t)}function _i(e){return yi.get(e)}function vi(e){return"function"==typeof e&&yi.has(e)}function wi(e,t=!0){yi.set(e,t)}const ki=/\.@each$/;function Si(e,t){let r=e.indexOf("{");r<0?t(e.replace(ki,".[]")):xi("",e,r,t)}function xi(e,t,r,n){let i,s,o=t.indexOf("}"),a=0,l=t.substring(r+1,o).split(","),c=t.substring(o+1);for(e+=t.substring(0,r),s=l.length;a<s;)i=c.indexOf("{"),i<0?n((e+l[a++]+c).replace(ki,".[]")):xi(e+l[a++],c,i,n)}function Ai(e){return e+":change"}function Ri(e,t,r,n,i,s=!0){n||"function"!=typeof r||(n=r,r=null),tt(e).addToListeners(t,r,n,!0===i,s)}function Ti(e,t,r,n){let i,s;"object"==typeof r?(i=r,s=n):(i=null,s=r),tt(e).removeFromListeners(t,i,s)}function Ei(e,t,r,n,i){if(void 0===n){let r=void 0===i?et(e):i;n=null!==r?r.matchingListeners(t):void 0}if(void 0===n||0===n.length)return!1;for(let s=n.length-3;s>=0;s-=3){let i=n[s],o=n[s+1],a=n[s+2];if(!o)continue;a&&Ti(e,t,i,o),i||(i=e);let l=typeof o;"string"!==l&&"symbol"!==l||(o=i[o]),o.apply(i,r)}return!0}function Ci(e,t){let r=et(e);if(null===r)return!1;let n=r.matchingListeners(t);return void 0!==n&&n.length>0}function Oi(...e){let t=e.pop();return se(t,e),t}const Mi=!w._DEFAULT_ASYNC_OBSERVERS,Ii=new Map,Pi=new Map;function Di(e,t,r,n,i=Mi){let s=Ai(t);Ri(e,s,r,n,!1,i);let o=et(e);null!==o&&(o.isPrototypeMeta(e)||o.isInitializing())||ji(e,s,i)}function Ni(e,t,r,n,i=Mi){let s=Ai(t),o=et(e);null!==o&&(o.isPrototypeMeta(e)||o.isInitializing())||Fi(e,s,i),Ti(e,s,r,n)}function ji(e,t,r=!1){let n=function(e,t){let r=!0===t?Ii:Pi;return r.has(e)||(r.set(e,new Map),Fe(e,()=>function(e){Ii.size>0&&Ii.delete(e),Pi.size>0&&Pi.delete(e)}(e),!0)),r.get(e)}(e,r);if(n.has(t))n.get(t).count++;else{let r=t.substring(0,t.lastIndexOf(":")),i=li(e,r,Zt(e),et(e));n.set(t,{count:1,path:r,tag:i,lastRevision:st(i),suspended:!1})}}let Li=!1,qi=[];function Fi(e,t,r=!1){if(!0===Li)return void qi.push([e,t,r]);let n=!0===r?Ii:Pi,i=n.get(e);if(void 0!==i){let r=i.get(t);r.count--,0===r.count&&(i.delete(t),0===i.size&&n.delete(e))}}function zi(e){Pi.has(e)&&Pi.get(e).forEach(t=>{t.tag=li(e,t.path,Zt(e),et(e)),t.lastRevision=st(t.tag)}),Ii.has(e)&&Ii.get(e).forEach(t=>{t.tag=li(e,t.path,Zt(e),et(e)),t.lastRevision=st(t.tag)})}let Ui=0;function Bi(e){let t=st(bt);Ui!==t&&(Ui=t,Pi.forEach((t,r)=>{let n=et(r);t.forEach((t,i)=>{if(!ot(t.tag,t.lastRevision)){let s=()=>{try{Ei(r,i,[r,t.path],void 0,n)}finally{t.tag=li(r,t.path,Zt(r),et(r)),t.lastRevision=st(t.tag)}};e?e("actions",s):s()}})}))}function $i(){Ii.forEach((e,t)=>{let r=et(t);e.forEach((e,n)=>{if(!e.suspended&&!ot(e.tag,e.lastRevision))try{e.suspended=!0,Ei(t,n,[t,e.path],void 0,r)}finally{e.tag=li(t,e.path,Zt(t),et(t)),e.lastRevision=st(e.tag),e.suspended=!1}})})}function Hi(e,t,r){let n=Ii.get(e);if(!n)return;let i=n.get(Ai(t));i&&(i.suspended=r)}const Vi=Symbol("PROPERTY_DID_CHANGE");let Wi=0;function Ki(e,t,r,n){let i=void 0===r?et(e):r;null!==i&&(i.isInitializing()||i.isPrototypeMeta(e))||(ii(e,t),Wi<=0&&$i(),Vi in e&&(4===arguments.length?e[Vi](t,n):e[Vi](t)))}function Qi(){Wi++,Li=!0}function Gi(){Wi--,Wi<=0&&($i(),function(){Li=!1;for(let[e,t,r]of qi)Fi(e,t,r);qi=[]}())}function Yi(e){Qi();try{e()}finally{Gi()}}function Ji(){}class Zi extends di{_readOnly=!1;_hasConfig=!1;_getter=void 0;_setter=void 0;constructor(e){super();let t=e[e.length-1];if("function"==typeof t||null!==t&&"object"==typeof t){this._hasConfig=!0;let t=e.pop();if("function"==typeof t)this._getter=t;else{const e=t;this._getter=e.get||Ji,this._setter=e.set}}e.length>0&&this._property(...e)}setup(e,t,r,n){if(super.setup(e,t,r,n),!1===this._hasConfig){let{get:e,set:t}=r;void 0!==e&&(this._getter=e),void 0!==t&&(this._setter=function(r,n){let i=t.call(this,n);return void 0!==e&&void 0===i?e.call(this):i})}}_property(...e){let t=[];function r(e){t.push(e)}for(let n of e)Si(n,r);this._dependentKeys=t}get(e,t){let r,n=tt(e),i=Zt(e),s=Xt(e,t,i),o=n.revisionFor(t);if(void 0!==o&&ot(s,o))r=n.valueFor(t);else{let{_getter:o,_dependentKeys:a}=this;zt(()=>{r=o.call(e,t)}),void 0!==a&&ut(s,ai(e,a,i,n)),n.setValueFor(t,r),n.setRevisionFor(t,st(s)),oi(n,t,r)}return Mt(s),Array.isArray(r)&&Mt(Xt(r,"[]")),r}set(e,t,r){this._readOnly&&this._throwReadOnlyError(e,t);let n,i=tt(e);i.isInitializing()&&void 0!==this._dependentKeys&&this._dependentKeys.length>0&&"function"==typeof e[Vi]&&e.isComponent&&Di(e,t,()=>{e[Vi](t)},void 0,!0);try{Qi(),n=this._set(e,t,r,i),oi(i,t,n);let s=Zt(e),o=Xt(e,t,s),{_dependentKeys:a}=this;void 0!==a&&ut(o,ai(e,a,s,i)),i.setRevisionFor(t,st(o))}finally{Gi()}return n}_throwReadOnlyError(e,t){throw new Error(`Cannot set read-only property "${t}" on object: ${D(e)}`)}_set(e,t,r,n){let i,s=void 0!==n.revisionFor(t),o=n.valueFor(t),{_setter:a}=this;Hi(e,t,!0);try{i=a.call(e,t,r,o)}finally{Hi(e,t,!1)}return s&&o===i||(n.setValueFor(t,i),Ki(e,t,n,r)),i}teardown(e,t,r){void 0!==r.revisionFor(t)&&(r.setRevisionFor(t,void 0),r.setValueFor(t,void 0)),super.teardown(e,t,r)}}class Xi extends Zi{get(e,t){let r,n=tt(e),i=Zt(e),s=Xt(e,t,i),o=n.revisionFor(t);if(void 0!==o&&ot(s,o))r=n.valueFor(t);else{let{_getter:i}=this,o=Ft(()=>{r=i.call(e,t)});ut(s,o),n.setValueFor(t,r),n.setRevisionFor(t,st(s)),oi(n,t,r)}return Mt(s),Array.isArray(r)&&Mt(Xt(r,"[]",i)),r}}class es extends Function{readOnly(){return _i(this)._readOnly=!0,this}meta(e){let t=_i(this);return 0===arguments.length?t._meta||{}:(t._meta=e,this)}get _getter(){return _i(this)._getter}set enumerable(e){_i(this).enumerable=e}}function ts(...e){return ui(e)?mi(new Zi([]),es)(e[0],e[1],e[2]):mi(new Zi(e),es)}function rs(...e){return mi(new Xi(e),es)}function ns(e,t){return Boolean(bi(e,t))}function is(e,t,r,n,i){let s=void 0===i?tt(e):i,o=bi(e,t,s),a=void 0!==o;a&&o.teardown(e,t,s),vi(r)?ss(e,t,r,s):null==r?os(e,t,n,a,!0):Object.defineProperty(e,t,r),s.isPrototypeMeta(e)||zi(e)}function ss(e,t,r,n){let i;return i=r(e,t,void 0,n),Object.defineProperty(e,t,i),r}function os(e,t,r,n,i=!0){return!0===n||!1===i?Object.defineProperty(e,t,{configurable:!0,enumerable:i,writable:!0,value:r}):e[t]=r,r}const as=new Jn(1e3,e=>e.indexOf("."));function ls(e){return"string"==typeof e&&-1!==as.get(e)}const cs=be("PROXY_CONTENT");function us(e){return"object"==typeof e&&null!==e&&"function"==typeof e.unknownProperty}function hs(e,t){return ls(t)?ps(e,t):ds(e,t)}function ds(e,t){if(null==e)return;let r;return"object"==typeof e||"function"==typeof e?(r=e[t],void 0===r&&"object"==typeof e&&!(t in e)&&us(e)&&(r=e.unknownProperty(t)),Ot()&&(Mt(Xt(e,t)),(Array.isArray(r)||Yn(r))&&Mt(Xt(r,"[]")))):r=e[t],r}function ps(e,t,r){let n="string"==typeof t?t.split("."):t;for(let i of n){if(null==e||e.isDestroyed)return;if(r&&("__proto__"===i||"constructor"===i))return;e=ds(e,i)}return e}ds("foo","a"),ds("foo",1),ds({},"a"),ds({},1),ds({unknownProperty(){}},"a"),ds({unknownProperty(){}},1),hs({},"foo"),hs({},"foo.bar");let fs={};Qn(fs),Ft(()=>ds({},"a")),Ft(()=>ds({},1)),Ft(()=>ds({a:[]},"a")),Ft(()=>ds({a:fs},"a"));class gs{_registry;_coreLibIndex;constructor(){this._registry=[],this._coreLibIndex=0}_getLibraryByName(e){let t=this._registry;for(let r of t)if(r.name===e)return r}register(e,t,r){let n=this._registry.length;this._getLibraryByName(e)||(r&&(n=this._coreLibIndex++),this._registry.splice(n,0,{name:e,version:t}))}registerCoreLibrary(e,t){this.register(e,t,!0)}deRegister(e){let t,r=this._getLibraryByName(e);r&&(t=this._registry.indexOf(r),this._registry.splice(t,1))}}const ms=new gs;let ys;function bs(e,...t){let r,i;ui(t)?r=t:"string"==typeof t[0]&&(i=t[0]);let s=ts({get:function(t){return(n(this)||this.container).lookup(`${e}:${i||t}`)},set(e,t){is(this,e,null,t)}});return r?s(r[0],r[1],r[2]):s}function _s(...e){if(!ui(e)){let t=e[0],r=t?t.initializer:void 0,n=t?t.value:void 0,i=function(e,t){return vs([e,t,{initializer:r||(()=>n)}])};return wi(i),i}return vs(e)}function vs([e,t,r]){let{getter:n,setter:i}=er(t,r?r.initializer:void 0);function s(){let e=n(this);return(Array.isArray(e)||Yn(e))&&Mt(Xt(e,"[]")),e}function o(e){i(this,e),Jt(this,ti)}let a={enumerable:!0,configurable:!0,isTracked:!0,get:s,set:o};return gi.add(o),tt(e).writeDescriptors(t,new ws(s,o)),a}ms.registerCoreLibrary("Ember",Zn);class ws{constructor(e,t){this._get=e,this._set=t,si.add(this)}get(e){return this._get.call(e)}set(e,t,r){this._set.call(e,r)}}const ks=setTimeout,Ss=()=>{};function xs(e){if("function"==typeof Promise){const t=Promise.resolve();return()=>t.then(e)}if("function"==typeof MutationObserver){let t=0,r=new MutationObserver(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),()=>(t=++t%2,n.data=""+t,t)}return()=>ks(e,0)}function As(e){let t=Ss;return{setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),now:()=>Date.now(),next:xs(e),clearNext:t}}const Rs=/\d+/;function Ts(e){let t=typeof e;return"number"===t&&e==e||"string"===t&&Rs.test(e)}function Es(e){return e.onError||e.onErrorTarget&&e.onErrorTarget[e.onErrorMethod]}function Cs(e,t,r){let n=-1;for(let i=0,s=r.length;i<s;i+=4)if(r[i]===e&&r[i+1]===t){n=i;break}return n}function Os(e,t,r){let n=-1;for(let i=2,s=r.length;i<s;i+=6)if(r[i]===e&&r[i+1]===t){n=i-2;break}return n}function Ms(e,t,r=0){let n=[];for(let i=0;i<e.length;i+=t){let t=e[i+3+r],s={target:e[i+0+r],method:e[i+1+r],args:e[i+2+r],stack:void 0!==t&&"stack"in t?t.stack:""};n.push(s)}return n}function Is(e,t){let r,n,i=0,s=t.length-6;for(;i<s;)n=(s-i)/6,r=i+n-n%6,e>=t[r]?i=r+6:s=r;return e>=t[i]?i+6:i}class Ps{constructor(e,t={},r={}){this._queueBeingFlushed=[],this.targetQueues=new Map,this.index=0,this._queue=[],this.name=e,this.options=t,this.globalOptions=r}stackFor(e){if(e<this._queue.length){let t=this._queue[3*e+4];return t?t.stack:null}}flush(e){let t,r,n,i,s,{before:o,after:a}=this.options;this.targetQueues.clear(),0===this._queueBeingFlushed.length&&(this._queueBeingFlushed=this._queue,this._queue=[]),void 0!==o&&o();let l=this._queueBeingFlushed;if(l.length>0){let e=Es(this.globalOptions);s=e?this.invokeWithOnError:this.invoke;for(let o=this.index;o<l.length;o+=4)if(this.index+=4,r=l[o+1],null!==r&&(t=l[o],n=l[o+2],i=l[o+3],s(t,r,n,e,i)),this.index!==this._queueBeingFlushed.length&&this.globalOptions.mustYield&&this.globalOptions.mustYield())return 1}void 0!==a&&a(),this._queueBeingFlushed.length=0,this.index=0,!1!==e&&this._queue.length>0&&this.flush(!0)}hasWork(){return this._queueBeingFlushed.length>0||this._queue.length>0}cancel({target:e,method:t}){let r=this._queue,n=this.targetQueues.get(e);void 0!==n&&n.delete(t);let i=Cs(e,t,r);return i>-1?(r[i+1]=null,!0):(r=this._queueBeingFlushed,i=Cs(e,t,r),i>-1&&(r[i+1]=null,!0))}push(e,t,r,n){return this._queue.push(e,t,r,n),{queue:this,target:e,method:t}}pushUnique(e,t,r,n){let i=this.targetQueues.get(e);void 0===i&&(i=new Map,this.targetQueues.set(e,i));let s=i.get(t);if(void 0===s){let s=this._queue.push(e,t,r,n)-4;i.set(t,s)}else{let e=this._queue;e[s+2]=r,e[s+3]=n}return{queue:this,target:e,method:t}}_getDebugInfo(e){if(e)return Ms(this._queue,4)}invoke(e,t,r){void 0===r?t.call(e):t.apply(e,r)}invokeWithOnError(e,t,r,n,i){try{void 0===r?t.call(e):t.apply(e,r)}catch(s){n(s,i)}}}class Ds{constructor(e=[],t){this.queues={},this.queueNameIndex=0,this.queueNames=e,e.reduce(function(e,r){return e[r]=new Ps(r,t[r],t),e},this.queues)}schedule(e,t,r,n,i,s){let o=this.queues[e];if(void 0===o)throw new Error(`You attempted to schedule an action in a queue (${e}) that doesn't exist`);if(null==r)throw new Error(`You attempted to schedule an action in a queue (${e}) for a method that doesn't exist`);return this.queueNameIndex=0,i?o.pushUnique(t,r,n,s):o.push(t,r,n,s)}flush(e=!1){let t,r,n=this.queueNames.length;for(;this.queueNameIndex<n;)if(r=this.queueNames[this.queueNameIndex],t=this.queues[r],!1===t.hasWork()){if(this.queueNameIndex++,e&&this.queueNameIndex<n)return 1}else if(1===t.flush(!1))return 1}_getDebugInfo(e){if(e){let t,r,n={},i=this.queueNames.length,s=0;for(;s<i;)r=this.queueNames[s],t=this.queues[r],n[r]=t._getDebugInfo(e),s++;return n}}}function Ns(e){let t=e(),r=t.next();for(;!1===r.done;)r.value(),r=t.next()}const js=function(){},Ls=Object.freeze([]);function qs(){let e,t,r,n=arguments.length;if(0===n);else if(1===n)r=null,t=arguments[0];else{let i=2,s=arguments[0],o=arguments[1],a=typeof o;if("function"===a?(r=s,t=o):null!==s&&"string"===a&&o in s?(r=s,t=r[o]):"function"==typeof s&&(i=1,r=null,t=s),n>i){let t=n-i;e=new Array(t);for(let r=0;r<t;r++)e[r]=arguments[r+i]}}return[r,t,e]}function Fs(){let e,t,r,n,i;return 2===arguments.length?(t=arguments[0],i=arguments[1],e=null):([e,t,n]=qs(...arguments),void 0===n?i=0:(i=n.pop(),Ts(i)||(r=!0===i,i=n.pop()))),i=parseInt(i,10),[e,t,n,i,r]}let zs=0,Us=0,Bs=0,$s=0,Hs=0,Vs=0,Ws=0,Ks=0,Qs=0,Gs=0,Ys=0,Js=0,Zs=0,Xs=0,eo=0,to=0,ro=0,no=0,io=0,so=0,oo=0;class ao{constructor(e,t){this.DEBUG=!1,this.currentInstance=null,this.instanceStack=[],this._eventCallbacks={end:[],begin:[]},this._timerTimeoutId=null,this._timers=[],this._autorun=!1,this._autorunStack=null,this.queueNames=e,this.options=t||{},"string"==typeof this.options.defaultQueue?this._defaultQueue=this.options.defaultQueue:this._defaultQueue=this.queueNames[0],this._onBegin=this.options.onBegin||js,this._onEnd=this.options.onEnd||js,this._boundRunExpiredTimers=this._runExpiredTimers.bind(this),this._boundAutorunEnd=()=>{io++,!1!==this._autorun&&(this._autorun=!1,this._autorunStack=null,this._end(!0))};let r=this.options._buildPlatform||As;this._platform=r(this._boundAutorunEnd)}get counters(){return{begin:Us,end:Bs,events:{begin:$s,end:0},autoruns:{created:no,completed:io},run:Hs,join:Vs,defer:Ws,schedule:Ks,scheduleIterable:Qs,deferOnce:Gs,scheduleOnce:Ys,setTimeout:Js,later:Zs,throttle:Xs,debounce:eo,cancelTimers:to,cancel:ro,loops:{total:so,nested:oo}}}get defaultQueue(){return this._defaultQueue}begin(){Us++;let e,t=this.options,r=this.currentInstance;return!1!==this._autorun?(e=r,this._cancelAutorun()):(null!==r&&(oo++,this.instanceStack.push(r)),so++,e=this.currentInstance=new Ds(this.queueNames,t),$s++,this._trigger("begin",e,r)),this._onBegin(e,r),e}end(){Bs++,this._end(!1)}on(e,t){if("function"!=typeof t)throw new TypeError("Callback must be a function");let r=this._eventCallbacks[e];if(void 0===r)throw new TypeError(`Cannot on() event ${e} because it does not exist`);r.push(t)}off(e,t){let r=this._eventCallbacks[e];if(!e||void 0===r)throw new TypeError(`Cannot off() event ${e} because it does not exist`);let n=!1;if(t)for(let i=0;i<r.length;i++)r[i]===t&&(n=!0,r.splice(i,1),i--);if(!n)throw new TypeError("Cannot off() callback that does not exist")}run(){Hs++;let[e,t,r]=qs(...arguments);return this._run(e,t,r)}join(){Vs++;let[e,t,r]=qs(...arguments);return this._join(e,t,r)}defer(e,t,r,...n){return Ws++,this.schedule(e,t,r,...n)}schedule(e,...t){Ks++;let[r,n,i]=qs(...t),s=this.DEBUG?new Error:void 0;return this._ensureInstance().schedule(e,r,n,i,!1,s)}scheduleIterable(e,t){Qs++;let r=this.DEBUG?new Error:void 0;return this._ensureInstance().schedule(e,null,Ns,[t],!1,r)}deferOnce(e,t,r,...n){return Gs++,this.scheduleOnce(e,t,r,...n)}scheduleOnce(e,...t){Ys++;let[r,n,i]=qs(...t),s=this.DEBUG?new Error:void 0;return this._ensureInstance().schedule(e,r,n,i,!0,s)}setTimeout(){return Js++,this.later(...arguments)}later(){Zs++;let[e,t,r,n]=function(){let[e,t,r]=qs(...arguments),n=0,i=void 0!==r?r.length:0;return i>0&&Ts(r[i-1])&&(n=parseInt(r.pop(),10)),[e,t,r,n]}(...arguments);return this._later(e,t,r,n)}throttle(){Xs++;let e,[t,r,n,i,s=!0]=Fs(...arguments),o=Os(t,r,this._timers);if(-1===o)e=this._later(t,r,s?Ls:n,i),s&&this._join(t,r,n);else{e=this._timers[o+1];let t=o+4;this._timers[t]!==Ls&&(this._timers[t]=n)}return e}debounce(){eo++;let e,[t,r,n,i,s=!1]=Fs(...arguments),o=this._timers,a=Os(t,r,o);if(-1===a)e=this._later(t,r,s?Ls:n,i),s&&this._join(t,r,n);else{let s=this._platform.now()+i,l=a+4;o[l]===Ls&&(n=Ls),e=o[a+1];let c=Is(s,o);if(a+6===c)o[a]=s,o[l]=n;else{let i=this._timers[a+5];this._timers.splice(c,0,s,e,t,r,n,i),this._timers.splice(a,6)}0===a&&this._reinstallTimerTimeout()}return e}cancelTimers(){to++,this._clearTimerTimeout(),this._timers=[],this._cancelAutorun()}hasTimers(){return this._timers.length>0||this._autorun}cancel(e){if(ro++,null==e)return!1;let t=typeof e;return"number"===t?this._cancelLaterTimer(e):!("object"!==t||!e.queue||!e.method)&&e.queue.cancel(e)}ensureInstance(){this._ensureInstance()}getDebugInfo(){if(this.DEBUG)return{autorun:this._autorunStack,counters:this.counters,timers:Ms(this._timers,6,2),instanceStack:[this.currentInstance,...this.instanceStack].map(e=>e&&e._getDebugInfo(this.DEBUG))}}_end(e){let t=this.currentInstance,r=null;if(null===t)throw new Error("end called without begin");let n,i=!1;try{n=t.flush(e)}finally{if(!i)if(i=!0,1===n){const e=this.queueNames[t.queueNameIndex];this._scheduleAutorun(e)}else this.currentInstance=null,this.instanceStack.length>0&&(r=this.instanceStack.pop(),this.currentInstance=r),this._trigger("end",t,r),this._onEnd(t,r)}}_join(e,t,r){return null===this.currentInstance?this._run(e,t,r):void 0===e&&void 0===r?t():t.apply(e,r)}_run(e,t,r){let n=Es(this.options);if(this.begin(),n)try{return t.apply(e,r)}catch(i){n(i)}finally{this.end()}else try{return t.apply(e,r)}finally{this.end()}}_cancelAutorun(){this._autorun&&(this._platform.clearNext(),this._autorun=!1,this._autorunStack=null)}_later(e,t,r,n){let i=this.DEBUG?new Error:void 0,s=this._platform.now()+n,o=zs++;if(0===this._timers.length)this._timers.push(s,o,e,t,r,i),this._installTimerTimeout();else{let n=Is(s,this._timers);this._timers.splice(n,0,s,o,e,t,r,i),this._reinstallTimerTimeout()}return o}_cancelLaterTimer(e){for(let t=1;t<this._timers.length;t+=6)if(this._timers[t]===e)return this._timers.splice(t-1,6),1===t&&this._reinstallTimerTimeout(),!0;return!1}_trigger(e,t,r){let n=this._eventCallbacks[e];if(void 0!==n)for(let i=0;i<n.length;i++)n[i](t,r)}_runExpiredTimers(){this._timerTimeoutId=null,this._timers.length>0&&(this.begin(),this._scheduleExpiredTimers(),this.end())}_scheduleExpiredTimers(){let e=this._timers,t=0,r=e.length,n=this._defaultQueue,i=this._platform.now();for(;t<r&&!(e[t]>i);t+=6){let r=e[t+4];if(r!==Ls){let i=e[t+2],s=e[t+3],o=e[t+5];this.currentInstance.schedule(n,i,s,r,!1,o)}}e.splice(0,t),this._installTimerTimeout()}_reinstallTimerTimeout(){this._clearTimerTimeout(),this._installTimerTimeout()}_clearTimerTimeout(){null!==this._timerTimeoutId&&(this._platform.clearTimeout(this._timerTimeoutId),this._timerTimeoutId=null)}_installTimerTimeout(){if(0===this._timers.length)return;let e=this._timers[0],t=this._platform.now(),r=Math.max(0,e-t);this._timerTimeoutId=this._platform.setTimeout(this._boundRunExpiredTimers,r)}_ensureInstance(){let e=this.currentInstance;return null===e&&(this._autorunStack=this.DEBUG?new Error:void 0,e=this.begin(),this._scheduleAutorun(this.queueNames[0])),e}_scheduleAutorun(e){no++;const t=this._platform.next,r=this.options.flush;r?r(e,t):t(),this._autorun=!0}}ao.Queue=Ps,ao.buildPlatform=As,ao.buildNext=xs;let lo=null;function co(){return lo}const uo=`${Math.random()}${Date.now()}`.replace(".",""),ho=["actions","routerTransitions","render","afterRender","destroy",uo],po=new ao(ho,{defaultQueue:"actions",onBegin:function(e){lo=e},onEnd:function(e,t){lo=t,Bi(yo)},onErrorTarget:fe,onErrorMethod:"onerror",flush:function(e,t){"render"!==e&&e!==uo||Bi(yo),t()}});function fo(...e){return po.run(...e)}function go(e,t,...r){return po.join(e,t,...r)}function mo(...e){return(...t)=>go(...e.concat(t))}function yo(...e){return po.schedule(...e)}function bo(...e){return po.scheduleOnce("actions",...e)}function _o(...e){return po.scheduleOnce(...e)}function vo(...e){return po.later(...e,1)}function wo(e){return po.cancel(e)}const ko=Object.freeze(Object.defineProperty({__proto__:null,_backburner:po,_cancelTimers:function(){po.cancelTimers()},_getCurrentRunLoop:co,_hasScheduledTimers:function(){return po.hasTimers()},_queues:ho,_rsvpErrorQueue:uo,begin:function(){po.begin()},bind:mo,cancel:wo,debounce:function(...e){return po.debounce(...e)},end:function(){po.end()},join:go,later:function(...e){return po.later(...e)},next:vo,once:bo,run:fo,schedule:yo,scheduleOnce:_o,throttle:function(...e){return po.throttle(...e)}},Symbol.toStringTag,{value:"Module"})),So=w.EMBER_LOAD_HOOKS||{},xo={};let Ao=xo;function Ro(e,t){if(xo[e]=t,l&&"function"==typeof CustomEvent){let r=new CustomEvent(e,{detail:t});l.dispatchEvent(r)}So[e]?.forEach(e=>e(t))}class To{static _leakTracking;owner;registry;cache;factoryManagerCache;validationCache;isDestroyed;isDestroying;constructor(e,t={}){this.registry=e,this.owner=t.owner||null,this.cache=pe(t.cache||null),this.factoryManagerCache=pe(t.factoryManagerCache||null),this.isDestroyed=!1,this.isDestroying=!1}lookup(e,t){if(this.isDestroyed)throw new Error(`Cannot call \`.lookup('${e}')\` after the owner has been destroyed`);return function(e,t,r={}){let n=t;if(!0===r.singleton||void 0===r.singleton&&Eo(e,t)){let t=e.cache[n];if(void 0!==t)return t}return function(e,t,r,n){let i=Oo(e,t,r);if(void 0!==i){if(function(e,t,{instantiate:r,singleton:n}){return!1!==n&&!1!==r&&(!0===n||Eo(e,t))&&Co(e,t)}(e,r,n)){let r=e.cache[t]=i.create();return e.isDestroying&&"function"==typeof r.destroy&&r.destroy(),r}if(function(e,t,{instantiate:r,singleton:n}){return!1!==r&&(!1===n||!Eo(e,t))&&Co(e,t)}(e,r,n))return i.create();if(function(e,t,{instantiate:r,singleton:n}){return!1!==n&&!r&&Eo(e,t)&&!Co(e,t)}(e,r,n)||function(e,t,{instantiate:r,singleton:n}){return!(!1!==r||!1!==n&&Eo(e,t)||Co(e,t))}(e,r,n))return i.class;throw new Error("Could not create factory")}}(e,n,t,r)}(this,this.registry.normalize(e),t)}destroy(){this.isDestroying=!0,Mo(this)}finalizeDestroy(){Io(this),this.isDestroyed=!0}reset(e){this.isDestroyed||(void 0===e?(Mo(this),Io(this)):function(e,t){let r=e.cache[t];delete e.factoryManagerCache[t],r&&(delete e.cache[t],r.destroy&&r.destroy())}(this,this.registry.normalize(e)))}ownerInjection(){let e={};return i(e,this.owner),e}factoryFor(e){if(this.isDestroyed)throw new Error(`Cannot call \`.factoryFor('${e}')\` after the owner has been destroyed`);return Oo(this,this.registry.normalize(e),e)}}function Eo(e,t){return!1!==e.registry.getOption(t,"singleton")}function Co(e,t){return!1!==e.registry.getOption(t,"instantiate")}function Oo(e,t,r){let n=e.factoryManagerCache[t];if(void 0!==n)return n;let i=e.registry.resolve(t);if(void 0===i)return;let s=new jo(e,i,r,t);return e.factoryManagerCache[t]=s,s}function Mo(e){let t=e.cache,r=Object.keys(t);for(let n of r){let e=t[n];e.destroy&&e.destroy()}}function Io(e){e.cache=pe(null),e.factoryManagerCache=pe(null)}const Po=Symbol("INIT_FACTORY");function Do(e){return e[Po]}function No(e,t){e[Po]=t}class jo{container;owner;class;fullName;normalizedName;madeToString;injections;constructor(e,t,r,n){this.container=e,this.owner=e.owner,this.class=t,this.fullName=r,this.normalizedName=n,this.madeToString=void 0,this.injections=void 0}toString(){return void 0===this.madeToString&&(this.madeToString=this.container.registry.makeToString(this.class,this.fullName)),this.madeToString}create(e){let{container:t}=this;if(t.isDestroyed)throw new Error(`Cannot create new instances after the owner has been destroyed (you attempted to create ${this.fullName})`);let r=e?{...e}:{};return i(r,t.owner),No(r,this),this.class.create(r)}}const Lo=/^[^:]+:[^:]+$/;class qo{_failSet;resolver;fallback;registrations;_normalizeCache;_options;_resolveCache;_typeOptions;constructor(e={}){this.fallback=e.fallback||null,this.resolver=e.resolver||null,this.registrations=pe(e.registrations||null),this._normalizeCache=pe(null),this._resolveCache=pe(null),this._failSet=new Set,this._options=pe(null),this._typeOptions=pe(null)}container(e){return new To(this,e)}register(e,t,r={}){let n=this.normalize(e);this._failSet.delete(n),this.registrations[n]=t,this._options[n]=r}unregister(e){let t=this.normalize(e);delete this.registrations[t],delete this._resolveCache[t],delete this._options[t],this._failSet.delete(t)}resolve(e){let t=function(e,t){let r,n=t,i=e._resolveCache[n];return void 0!==i?i:e._failSet.has(n)?void 0:(e.resolver&&(r=e.resolver.resolve(n)),void 0===r&&(r=e.registrations[n]),void 0===r?e._failSet.add(n):e._resolveCache[n]=r,r)}(this,this.normalize(e));return void 0===t&&null!==this.fallback&&(t=this.fallback.resolve(e)),t}describe(e){return null!==this.resolver&&this.resolver.lookupDescription?this.resolver.lookupDescription(e):null!==this.fallback?this.fallback.describe(e):e}normalizeFullName(e){return null!==this.resolver&&this.resolver.normalize?this.resolver.normalize(e):null!==this.fallback?this.fallback.normalizeFullName(e):e}normalize(e){return this._normalizeCache[e]||(this._normalizeCache[e]=this.normalizeFullName(e))}makeToString(e,t){return null!==this.resolver&&this.resolver.makeToString?this.resolver.makeToString(e,t):null!==this.fallback?this.fallback.makeToString(e,t):"string"==typeof e?e:e.name??"(unknown class)"}has(e){return!!this.isValidFullName(e)&&function(e,t){return void 0!==e.resolve(t)}(this,this.normalize(e))}optionsForType(e,t){this._typeOptions[e]=t}getOptionsForType(e){let t=this._typeOptions[e];return void 0===t&&null!==this.fallback&&(t=this.fallback.getOptionsForType(e)),t}options(e,t){let r=this.normalize(e);this._options[r]=t}getOptions(e){let t=this.normalize(e),r=this._options[t];return void 0===r&&null!==this.fallback&&(r=this.fallback.getOptions(e)),r}getOption(e,t){let r=this._options[e];if(void 0!==r&&void 0!==r[t])return r[t];let n=e.split(":")[0];return r=this._typeOptions[n],r&&void 0!==r[t]?r[t]:null!==this.fallback?this.fallback.getOption(e,t):void 0}knownForType(e){let t,r,n=pe(null),i=Object.keys(this.registrations);for(let s of i)s.split(":")[0]===e&&(n[s]=!0);return null!==this.fallback&&(t=this.fallback.knownForType(e)),null!==this.resolver&&this.resolver.knownForType&&(r=this.resolver.knownForType(e)),Object.assign({},t,n,r)}isValidFullName(e){return Lo.test(e)}}const Fo=pe(null),zo=`${Math.random()}${Date.now()}`.replace(".","");function Uo([e]){let t=Fo[e];if(t)return t;let[r,n]=e.split(":");return Fo[e]=L(`${r}:${n}-${zo}`)}const Bo=new WeakMap;function $o(e,t){q(e)&&Bo.set(e,t)}function Ho(e){return Bo.get(e)}const Vo=Object.prototype.hasOwnProperty;let Wo=!1;const Ko={_set:0,_unprocessedNamespaces:!1,get unprocessedNamespaces(){return this._unprocessedNamespaces},set unprocessedNamespaces(e){this._set++,this._unprocessedNamespaces=e}};let Qo=!1;const Go=[],Yo=Object.create(null);function Jo(e){Ko.unprocessedNamespaces=!0,Go.push(e)}function Zo(e){let t=Ho(e);delete Yo[t],Go.splice(Go.indexOf(e),1),t in b.lookup&&e===b.lookup[t]&&(b.lookup[t]=void 0)}function Xo(){if(!Ko.unprocessedNamespaces)return;let e=b.lookup,t=Object.keys(e);for(let r of t){if(!la(r.charCodeAt(0)))continue;let t=ca(e,r);t&&$o(t,r)}}function ea(e){return Wo||ra(),Yo[e]}function ta(e){oa([e.toString()],e,new Set)}function ra(){let e=Ko.unprocessedNamespaces;if(e&&(Xo(),Ko.unprocessedNamespaces=!1),e||Qo){let e=Go;for(let t of e)ta(t);Qo=!1}}function na(){return Wo}function ia(e){Wo=Boolean(e)}function sa(){Qo=!0}function oa(e,t,r){let n=e.length,i=e.join(".");Yo[i]=t,$o(t,i);for(let s in t){if(!Vo.call(t,s))continue;let i=t[s];if(e[n]=s,i&&void 0===Ho(i))$o(i,e.join("."));else if(i&&aa(i)){if(r.has(i))continue;r.add(i),oa(e,i,r)}}e.length=n}function aa(e){return null!=e&&"object"==typeof e&&e.isNamespace}function la(e){return e>=65&&e<=90}function ca(e,t){try{let r=e[t];return(null!==r&&"object"==typeof r||"function"==typeof r)&&r.isNamespace&&r}catch(r){}}const ua=Array.prototype.concat;function ha(e,t,r,n){let i=r[e]||n[e];return t[e]&&(i=i?ua.call(i,t[e]):t[e]),i}function da(e,t,r,n){if(!0===r)return t;let i=r._getter;if(void 0===i)return t;let s=n[e],o="function"==typeof s?_i(s):s;if(void 0===o||!0===o)return t;let a=o._getter;if(void 0===a)return t;let l,c=ae(i,a),u=r._setter,h=o._setter;if(l=void 0!==h?void 0!==u?ae(u,h):h:u,c!==i||l!==u){let e=r._dependentKeys||[],t=new Zi([...e,{get:c,set:l}]);return t._readOnly=r._readOnly,t._meta=r._meta,t.enumerable=r.enumerable,mi(t,Zi)}return t}function pa(e,t,r,n){if(void 0!==n[e])return t;let i=r[e];return"function"==typeof i?ae(t,i):t}function fa(e){return e?Array.isArray(e)?e:[e]:[]}function ga(e,t,r){return fa(r[e]).concat(fa(t))}function ma(e,t,r){let n=r[e];if(!n)return t;let i=Object.assign({},n),s=!1,o=Object.keys(t);for(let a of o){let e=t[a];"function"==typeof e?(s=!0,i[a]=pa(a,e,n,{})):i[a]=e}return s&&(i._super=Z),i}function ya(e,t,r,n,i,s,o){let a;for(let l=0;l<e.length;l++)if(a=e[l],wa.has(a)){if(t.hasMixin(a))continue;t.addMixin(a);let{properties:e,mixins:l}=a;void 0!==e?ba(t,e,r,n,i,s,o):void 0!==l&&(ya(l,t,r,n,i,s,o),a instanceof ka&&void 0!==a._without&&a._without.forEach(e=>{let t=s.indexOf(e);-1!==t&&s.splice(t,1)}))}else ba(t,a,r,n,i,s,o)}function ba(e,t,r,n,i,s,o){let a=ha("concatenatedProperties",t,n,i),l=ha("mergedProperties",t,n,i),c=Object.keys(t);for(let u of c){let c=t[u];if(void 0===c)continue;if(-1===s.indexOf(u)){s.push(u);let t=e.peekDescriptors(u);if(void 0===t){if(!vi(c)){let e=n[u]=i[u];"function"==typeof e&&_a(i,u,e,!1)}}else r[u]=t,o.push(u),t.teardown(i,u,e)}let h="function"==typeof c;if(h){let e=_i(c);if(void 0!==e){r[u]=da(u,c,e,r),n[u]=void 0;continue}}a&&a.indexOf(u)>=0||"concatenatedProperties"===u||"mergedProperties"===u?c=ga(u,c,n):l&&l.indexOf(u)>-1?c=ma(u,c,n):h&&(c=pa(u,c,n,r)),n[u]=c,r[u]=void 0}}function _a(e,t,r,n){let i=ne(r);if(void 0===i)return;let{observers:s,listeners:o}=i;if(void 0!==s){let r=n?Di:Ni;for(let n of s.paths)r(e,n,null,t,s.sync)}if(void 0!==o){let r=n?Ri:Ti;for(let n of o)r(e,n,null,t)}}function va(e,t,r=!1){let n=Object.create(null),i=Object.create(null),s=tt(e),o=[],a=[];e._super=Z,ya(t,s,n,i,e,o,a);for(let l of o){let t=i[l],o=n[l];void 0!==t?("function"==typeof t&&_a(e,l,t,!0),os(e,l,t,-1!==a.indexOf(l),!r)):void 0!==o&&ss(e,l,o,s)}return s.isPrototypeMeta(e)||zi(e),e}const wa=new WeakSet;class ka{mixins;properties;ownerConstructor;_without;constructor(e,t){wa.add(this),this.properties=function(e){if(void 0!==e)for(let t of Object.keys(e)){let r=Object.getOwnPropertyDescriptor(e,t);void 0===r.get&&void 0===r.set||Object.defineProperty(e,t,{value:hi(r)})}return e}(t),this.mixins=Sa(e),this.ownerConstructor=void 0,this._without=void 0}static create(...e){return sa(),new this(e,void 0)}static mixins(e){let t=et(e),r=[];return null===t||t.forEachMixins(e=>{e.properties||r.push(e)}),r}reopen(...e){if(0===e.length)return this;if(this.properties){let e=new ka(void 0,this.properties);this.properties=void 0,this.mixins=[e]}else this.mixins||(this.mixins=[]);return this.mixins=this.mixins.concat(Sa(e)),this}apply(e,t=!1){return va(e,[this],t)}applyPartial(e){return va(e,[this])}detect(e){if("object"!=typeof e||null===e)return!1;if(wa.has(e))return xa(e,this);let t=et(e);return null!==t&&t.hasMixin(this)}without(...e){let t=new ka([this]);return t._without=e,t}keys(){return Aa(this)}toString(){return"(unknown mixin)"}}function Sa(e){let t,r=e&&e.length||0;if(r>0){t=new Array(r);for(let n=0;n<r;n++){let r=e[n];wa.has(r)?t[n]=r:t[n]=new ka(void 0,r)}}return t}function xa(e,t,r=new Set){if(r.has(e))return!1;if(r.add(e),e===t)return!0;let n=e.mixins;return!!n&&n.some(e=>xa(e,t,r))}function Aa(e,t=new Set,r=new Set){if(!r.has(e)){if(r.add(e),e.properties){let r=Object.keys(e.properties);for(let e of r)t.add(e)}else e.mixins&&e.mixins.forEach(e=>Aa(e,t,r));return t}}const Ra=ka.create({__registry__:null,resolveRegistration(e){return this.__registry__.resolve(e)},register:Ta("register"),unregister:Ta("unregister"),hasRegistration:Ta("has"),registeredOption:Ta("getOption"),registerOptions:Ta("options"),registeredOptions:Ta("getOptions"),registerOptionsForType:Ta("optionsForType"),registeredOptionsForType:Ta("getOptionsForType")});function Ta(e){return function(...t){return this.__registry__[e](...t)}}const Ea=ka.create({__container__:null,ownerInjection(){return this.__container__.ownerInjection()},lookup(e,t){return this.__container__.lookup(e,t)},destroy(){let e=this.__container__;e&&go(()=>{e.destroy(),yo("destroy",e,"finalizeDestroy")}),this._super()},factoryFor(e){return this.__container__.factoryFor(e)}}),Ca=ka.create({compare:null}),Oa=ka.create({mergedProperties:["actions"],send(e,...t){if(this.actions&&this.actions[e]&&!0!==this.actions[e].apply(this,t))return;let r=hs(this,"target");r&&r.send(...arguments)}});function Ma(e,t,r,n){return e.isDestroyed?r:ls(t)?function(e,t,r,n){let i=t.split("."),s=i.pop(),o=ps(e,i,!0);if(null!=o)return Ma(o,s,r);if(!n)throw new Error(`Property set failed: object in path "${i.join(".")}" could not be found.`)}(e,t,r,n):Ia(e,t,r)}function Ia(e,t,r){let n,i=ce(e,t);return null!==i&&gi.has(i.set)?(e[t]=r,r):(n=e[t],void 0!==n||"object"!=typeof e||t in e||"function"!=typeof e.setUnknownProperty?(e[t]=r,n!==r&&Ki(e,t)):e.setUnknownProperty(t,r),r)}function Pa(e,t,r){return Ma(e,t,r,!0)}function Da(e){let t=hs(e,"content");return ut(ni(e),ni(t)),t}function Na(e,t,r){let n=Zt(e),i=Xt(e,t,n);if(t in e)return i;{let s=[i,Xt(e,"content",n)],o=Da(e);return q(o)&&s.push(ri(o,t,r)),_t(s)}}const ja=ka.create({content:null,init(){this._super(...arguments),Qn(this),ni(this),tn(this,Na)},willDestroy(){this.set("content",null),this._super(...arguments)},isTruthy:ts("content",function(){return Boolean(hs(this,"content"))}),unknownProperty(e){let t=Da(this);return t?hs(t,e):void 0},setUnknownProperty(e,t){let r=tt(this);return r.isInitializing()||r.isPrototypeMeta(this)?(is(this,e,null,t),t):Ma(Da(this),e,t)}}),La=ka.create(),qa=ka.create(La),Fa=Object.freeze(Object.defineProperty({__proto__:null,default:qa},Symbol.toStringTag,{value:"Module"})),za=ka.create({target:null,action:null,actionContext:null,actionContextObject:ts("actionContext",function(){let e=hs(this,"actionContext");if("string"==typeof e){let t=hs(this,e);return void 0===t&&(t=hs(b.lookup,e)),t}return e}),triggerAction(e={}){let{action:t,target:r,actionContext:n}=e;t=t||hs(this,"action"),r=r||function(e){let t=hs(e,"target");if(t){if("string"==typeof t){let r=hs(e,t);return void 0===r&&(r=hs(b.lookup,t)),r}return t}return e._target?e._target:null}(this),void 0===n&&(n=hs(this,"actionContextObject")||this);let i=Array.isArray(n)?n:[n];if(r&&t){let e;if(e=null!=(s=r)&&"object"==typeof s&&"function"==typeof s.send?r.send(t,...i):r[t](...i),!1!==e)return!0}var s;return!1}});function Ua(e){let t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t}const Ba={mixin(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e._promiseCallbacks=void 0,e},on(e,t){if("function"!=typeof t)throw new TypeError("Callback must be a function");let r=Ua(this),n=r[e];n||(n=r[e]=[]),-1===n.indexOf(t)&&n.push(t)},off(e,t){let r=Ua(this);if(!t)return void(r[e]=[]);let n=r[e],i=n.indexOf(t);-1!==i&&n.splice(i,1)},trigger(e,t,r){let n=Ua(this)[e];if(n){let e;for(let i=0;i<n.length;i++)e=n[i],e(t,r)}}},$a={instrument:!1};function Ha(e,t){if(2!==arguments.length)return $a[e];$a[e]=t}Ba.mixin($a);const Va=[];function Wa(e,t,r){1===Va.push({name:e,payload:{key:t._guidKey,id:t._id,eventName:e,detail:t._result,childId:r&&r._id,label:t._label,timeStamp:Date.now(),error:$a["instrument-with-stack"]?new Error(t._label):null}})&&setTimeout(()=>{for(let e=0;e<Va.length;e++){let t=Va[e],r=t.payload;r.guid=r.key+r.id,r.childGuid=r.key+r.childId,r.error&&(r.stack=r.error.stack),$a.trigger(t.name,t.payload)}Va.length=0},50)}function Ka(e,t){if(e&&"object"==typeof e&&e.constructor===this)return e;let r=new this(Qa,t);return Xa(r,e),r}function Qa(){}const Ga=void 0,Ya=1,Ja=2;function Za(e,t,r){t.constructor===e.constructor&&r===ol&&e.constructor.resolve===Ka?function(e,t){t._state===Ya?tl(e,t._result):t._state===Ja?(t._onError=null,rl(e,t._result)):nl(t,void 0,r=>{t===r?tl(e,r):Xa(e,r)},t=>rl(e,t))}(e,t):"function"==typeof r?function(e,t,r){$a.async(e=>{let n=!1,i=function(r,i){try{r.call(i,r=>{n||(n=!0,t===r?tl(e,r):Xa(e,r))},t=>{n||(n=!0,rl(e,t))})}catch(s){return s}}(r,t,e._label);!n&&i&&(n=!0,rl(e,i))},e)}(e,t,r):tl(e,t)}function Xa(e,t){if(e===t)tl(e,t);else if(function(e){let t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)){let n;try{n=t.then}catch(r){return void rl(e,r)}Za(e,t,n)}else tl(e,t)}function el(e){e._onError&&e._onError(e._result),il(e)}function tl(e,t){e._state===Ga&&(e._result=t,e._state=Ya,0===e._subscribers.length?$a.instrument&&Wa("fulfilled",e):$a.async(il,e))}function rl(e,t){e._state===Ga&&(e._state=Ja,e._result=t,$a.async(el,e))}function nl(e,t,r,n){let i=e._subscribers,s=i.length;e._onError=null,i[s]=t,i[s+Ya]=r,i[s+Ja]=n,0===s&&e._state&&$a.async(il,e)}function il(e){let t=e._subscribers,r=e._state;if($a.instrument&&Wa(r===Ya?"fulfilled":"rejected",e),0===t.length)return;let n,i,s=e._result;for(let o=0;o<t.length;o+=3)n=t[o],i=t[o+r],n?sl(r,n,i,s):i(s);e._subscribers.length=0}function sl(e,t,r,n){let i,s,o="function"==typeof r,a=!0;if(o)try{i=r(n)}catch(l){a=!1,s=l}else i=n;t._state!==Ga||(i===t?rl(t,new TypeError("A promises callback cannot return that same promise.")):!1===a?rl(t,s):o?Xa(t,i):e===Ya?tl(t,i):e===Ja&&rl(t,i))}function ol(e,t,r){let n=this,i=n._state;if(i===Ya&&!e||i===Ja&&!t)return $a.instrument&&Wa("chained",n,n),n;n._onError=null;let s=new n.constructor(Qa,r),o=n._result;if($a.instrument&&Wa("chained",n,s),i===Ga)nl(n,s,e,t);else{let r=i===Ya?e:t;$a.async(()=>sl(i,s,r,o))}return s}class al{constructor(e,t,r,n){this._instanceConstructor=e,this.promise=new e(Qa,n),this._abortOnReject=r,this._isUsingOwnPromise=e===hl,this._isUsingOwnResolve=e.resolve===Ka,this._init(...arguments)}_init(e,t){let r=t.length||0;this.length=r,this._remaining=r,this._result=new Array(r),this._enumerate(t)}_enumerate(e){let t=this.length,r=this.promise;for(let n=0;r._state===Ga&&n<t;n++)this._eachEntry(e[n],n,!0);this._checkFullfillment()}_checkFullfillment(){if(0===this._remaining){let e=this._result;tl(this.promise,e),this._result=null}}_settleMaybeThenable(e,t,r){let n=this._instanceConstructor;if(this._isUsingOwnResolve){let s,o,a=!0;try{s=e.then}catch(i){a=!1,o=i}if(s===ol&&e._state!==Ga)e._onError=null,this._settledAt(e._state,t,e._result,r);else if("function"!=typeof s)this._settledAt(Ya,t,e,r);else if(this._isUsingOwnPromise){let i=new n(Qa);!1===a?rl(i,o):(Za(i,e,s),this._willSettleAt(i,t,r))}else this._willSettleAt(new n(t=>t(e)),t,r)}else this._willSettleAt(n.resolve(e),t,r)}_eachEntry(e,t,r){null!==e&&"object"==typeof e?this._settleMaybeThenable(e,t,r):this._setResultAt(Ya,t,e,r)}_settledAt(e,t,r,n){let i=this.promise;i._state===Ga&&(this._abortOnReject&&e===Ja?rl(i,r):(this._setResultAt(e,t,r,n),this._checkFullfillment()))}_setResultAt(e,t,r,n){this._remaining--,this._result[t]=r}_willSettleAt(e,t,r){nl(e,void 0,e=>this._settledAt(Ya,t,e,r),e=>this._settledAt(Ja,t,e,r))}}function ll(e,t,r){this._remaining--,this._result[t]=e===Ya?{state:"fulfilled",value:r}:{state:"rejected",reason:r}}const cl="rsvp_"+Date.now()+"-";let ul=0,hl=class e{constructor(t,r){this._id=ul++,this._label=r,this._state=void 0,this._result=void 0,this._subscribers=[],$a.instrument&&Wa("created",this),Qa!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){let r=!1;try{t(t=>{r||(r=!0,Xa(e,t))},t=>{r||(r=!0,rl(e,t))})}catch(n){rl(e,n)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}_onError(e){$a.after(()=>{this._onError&&$a.trigger("error",e,this._label)})}catch(e,t){return this.then(void 0,e,t)}finally(e,t){let r=this,n=r.constructor;return"function"==typeof e?r.then(t=>n.resolve(e()).then(()=>t),t=>n.resolve(e()).then(()=>{throw t})):r.then(e,e)}};function dl(e,t){return{then:(r,n)=>e.call(t,r,n)}}function pl(e,t){let r=function(){let r=arguments.length,n=new Array(r+1),i=!1;for(let e=0;e<r;++e){let t=arguments[e];if(!i){if(null!==t&&"object"==typeof t)if(t.constructor===hl)i=!0;else try{i=t.then}catch(o){let e=new hl(Qa);return rl(e,o),e}else i=!1;i&&!0!==i&&(t=dl(i,t))}n[e]=t}let s=new hl(Qa);return n[r]=function(e,r){e?rl(s,e):void 0===t?Xa(s,r):!0===t?Xa(s,function(e){let t=e.length,r=new Array(t-1);for(let n=1;n<t;n++)r[n-1]=e[n];return r}(arguments)):Array.isArray(t)?Xa(s,function(e,t){let r={},n=e.length,i=new Array(n);for(let s=0;s<n;s++)i[s]=e[s];for(let s=0;s<t.length;s++)r[t[s]]=i[s+1];return r}(arguments,t)):Xa(s,r)},i?function(e,t,r,n){return hl.all(t).then(t=>fl(e,t,r,n))}(s,n,e,this):fl(s,n,e,this)};return r.__proto__=e,r}function fl(e,t,r,n){try{r.apply(n,t)}catch(i){rl(e,i)}return e}function gl(e,t){return hl.all(e,t)}hl.cast=Ka,hl.all=function(e,t){return Array.isArray(e)?new al(this,e,!0,t).promise:this.reject(new TypeError("Promise.all must be called with an array"),t)},hl.race=function(e,t){let r=this,n=new r(Qa,t);if(!Array.isArray(e))return rl(n,new TypeError("Promise.race must be called with an array")),n;for(let i=0;n._state===Ga&&i<e.length;i++)nl(r.resolve(e[i]),void 0,e=>Xa(n,e),e=>rl(n,e));return n},hl.resolve=Ka,hl.reject=function(e,t){let r=new this(Qa,t);return rl(r,e),r},hl.prototype._guidKey=cl,hl.prototype.then=ol;class ml extends al{constructor(e,t,r){super(e,t,!1,r)}}function yl(e,t){return Array.isArray(e)?new ml(hl,e,t).promise:hl.reject(new TypeError("Promise.allSettled must be called with an array"),t)}function bl(e,t){return hl.race(e,t)}ml.prototype._setResultAt=ll;class _l extends al{constructor(e,t,r=!0,n){super(e,t,r,n)}_init(e,t){this._result={},this._enumerate(t)}_enumerate(e){let t,r,n=Object.keys(e),i=n.length,s=this.promise;this._remaining=i;for(let o=0;s._state===Ga&&o<i;o++)t=n[o],r=e[t],this._eachEntry(r,t,!0);this._checkFullfillment()}}function vl(e,t){return hl.resolve(e,t).then(function(e){if(null===e||"object"!=typeof e)throw new TypeError("Promise.hash must be called with an object");return new _l(hl,e,t).promise})}class wl extends _l{constructor(e,t,r){super(e,t,!1,r)}}function kl(e,t){return hl.resolve(e,t).then(function(e){if(null===e||"object"!=typeof e)throw new TypeError("hashSettled must be called with an object");return new wl(hl,e,!1,t).promise})}function Sl(e){throw setTimeout(()=>{throw e}),e}function xl(e){let t={resolve:void 0,reject:void 0};return t.promise=new hl((e,r)=>{t.resolve=e,t.reject=r},e),t}wl.prototype._setResultAt=ll;class Al extends al{constructor(e,t,r,n){super(e,t,!0,n,r)}_init(e,t,r,n,i){let s=t.length||0;this.length=s,this._remaining=s,this._result=new Array(s),this._mapFn=i,this._enumerate(t)}_setResultAt(e,t,r,n){if(n)try{this._eachEntry(this._mapFn(r,t),t,!1)}catch(i){this._settledAt(Ja,t,i,!1)}else this._remaining--,this._result[t]=r}}function Rl(e,t,r){return"function"!=typeof t?hl.reject(new TypeError("map expects a function as a second argument"),r):hl.resolve(e,r).then(function(e){if(!Array.isArray(e))throw new TypeError("map must be called with an array");return new Al(hl,e,t,r).promise})}function Tl(e,t){return hl.resolve(e,t)}function El(e,t){return hl.reject(e,t)}const Cl={};class Ol extends Al{_checkFullfillment(){if(0===this._remaining&&null!==this._result){let e=this._result.filter(e=>e!==Cl);tl(this.promise,e),this._result=null}}_setResultAt(e,t,r,n){if(n){this._result[t]=r;let e,n=!0;try{e=this._mapFn(r,t)}catch(i){n=!1,this._settledAt(Ja,t,i,!1)}n&&this._eachEntry(e,t,!1)}else this._remaining--,r||(this._result[t]=Cl)}}function Ml(e,t,r){return"function"!=typeof t?hl.reject(new TypeError("filter expects function as a second argument"),r):hl.resolve(e,r).then(function(e){if(!Array.isArray(e))throw new TypeError("filter must be called with an array");return new Ol(hl,e,t,r).promise})}let Il,Pl=0;function Dl(e,t){Ul[Pl]=e,Ul[Pl+1]=t,Pl+=2,2===Pl&&$l()}const Nl="undefined"!=typeof window?window:void 0,jl=Nl||{},Ll=jl.MutationObserver||jl.WebKitMutationObserver,ql="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Fl="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function zl(){return()=>setTimeout(Bl,1)}const Ul=new Array(1e3);function Bl(){for(let e=0;e<Pl;e+=2)(0,Ul[e])(Ul[e+1]),Ul[e]=void 0,Ul[e+1]=void 0;Pl=0}let $l;$l=ql?function(){let e=process.nextTick,t=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&"0"===t[1]&&"10"===t[2]&&(e=setImmediate),()=>e(Bl)}():Ll?function(){let e=0,t=new Ll(Bl),r=document.createTextNode("");return t.observe(r,{characterData:!0}),()=>r.data=e=++e%2}():Fl?function(){let e=new MessageChannel;return e.port1.onmessage=Bl,()=>e.port2.postMessage(0)}():void 0===Nl&&"function"==typeof window.require?function(){try{const e=Function("return this")().require("vertx");return Il=e.runOnLoop||e.runOnContext,void 0!==Il?function(){Il(Bl)}:zl()}catch(e){return zl()}}():zl(),$a.async=Dl,$a.after=e=>setTimeout(e,0);const Hl=Tl,Vl=(e,t)=>$a.async(e,t);function Wl(){$a.on(...arguments)}function Kl(){$a.off(...arguments)}if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){let OC=window.__PROMISE_INSTRUMENTATION__;Ha("instrument",!0);for(let MC in OC)OC.hasOwnProperty(MC)&&Wl(MC,OC[MC])}const Ql={asap:Dl,cast:Hl,Promise:hl,EventTarget:Ba,all:gl,allSettled:yl,race:bl,hash:vl,hashSettled:kl,rethrow:Sl,defer:xl,denodeify:pl,configure:Ha,on:Wl,off:Kl,resolve:Tl,reject:El,map:Rl,async:Vl,filter:Ml},Gl=Object.freeze(Object.defineProperty({__proto__:null,EventTarget:Ba,Promise:hl,all:gl,allSettled:yl,asap:Dl,async:Vl,cast:Hl,configure:Ha,default:Ql,defer:xl,denodeify:pl,filter:Ml,hash:vl,hashSettled:kl,map:Rl,off:Kl,on:Wl,race:bl,reject:El,resolve:Tl,rethrow:Sl},Symbol.toStringTag,{value:"Module"}));function Yl(e){let t=function(e){if(!e)return;let t=e;return t.errorThrown?function(e){let t=e.errorThrown;return"string"==typeof t&&(t=new Error(t)),Object.defineProperty(t,"__reason_with_error_thrown__",{value:e,enumerable:!1}),t}(t):"UnrecognizedURLError"!==e.name&&"TransitionAborted"!==e.name?e:void 0}(e);if(t)throw t}function Jl(e,t){let r,n={},i=1;for(2===arguments.length&&Array.isArray(t)?(i=0,r=arguments[1]):r=Array.from(arguments);i<r.length;i++){let t=r[i];n[t]=hs(e,t)}return n}function Zl(e,t){return null===t||"object"!=typeof t||Yi(()=>{let r=Object.keys(t);for(let n of r)Ma(e,n,t[n])}),t}Ha("async",(e,t)=>{po.schedule("actions",null,e,t)}),Ha("after",e=>{po.schedule(uo,null,e)}),Wl("error",Yl);const{isArray:Xl}=Array;function ec(e){return null==e?[]:Xl(e)?e:[e]}function tc(e){return"object"==typeof e&&null!==e&&"function"==typeof e.setUnknownProperty}const rc=ka.prototype.reopen,nc=new WeakSet,ic=new WeakMap,sc=new Set;function oc(e){sc.has(e)||e.destroy()}function ac(e,t){let r=tt(e);if(void 0!==t){let n=e.concatenatedProperties,i=e.mergedProperties,s=Object.keys(t);for(let o of s){let s=t[o],a=bi(e,o,r),l=void 0!==a;if(!l){if(void 0!==n&&n.length>0&&n.includes(o)){let t=e[o];s=t?ec(t).concat(s):ec(s)}if(void 0!==i&&i.length>0&&i.includes(o)){let t=e[o];s=Object.assign({},t,s)}}l?a.set(e,o,s):tc(e)&&!(o in e)?e.setUnknownProperty(o,s):e[o]=s}}e.init(t),r.unsetInitializing();let n=r.observerEvents();if(void 0!==n)for(let i=0;i<n.length;i++)ji(e,n[i].event,n[i].sync);Ei(e,"init",void 0,void 0,r)}class lc{[t];constructor(e){let r;this[t]=e,this.constructor.proto(),r=this;const n=r;Fe(r,oc,!0),Fe(r,()=>n.willDestroy()),tt(r).setInitializing()}reopen(...e){return va(this,e),this}init(e){}get isDestroyed(){return He(this)}set isDestroyed(e){}get isDestroying(){return $e(this)}set isDestroying(e){}destroy(){sc.add(this);try{Ue(this)}finally{sc.delete(this)}return this}willDestroy(){}toString(){let e="object"==typeof this&&null!==this&&"function"==typeof this.toStringExtension?`:${this.toStringExtension()}`:"";return`<${Do(this)||"(unknown)"}:${W(this)}${e}>`}static extend(...e){let t=class extends(this){};return rc.apply(t.PrototypeMixin,e),t}static create(...e){let t,r=e[0];return void 0!==r?(t=new this(n(r)),No(t,Do(r))):t=new this,e.length<=1?ac(t,r):ac(t,cc.apply(this,e)),t}static reopen(...e){return this.willReopen(),rc.apply(this.PrototypeMixin,e),this}static willReopen(){let e=this.prototype;nc.has(e)&&(nc.delete(e),ic.has(this)&&ic.set(this,ka.create(this.PrototypeMixin)))}static reopenClass(...e){return va(this,e),this}static detect(e){if("function"!=typeof e)return!1;for(;e;){if(e===this)return!0;e=e.superclass}return!1}static detectInstance(e){return e instanceof this}static metaForProperty(e){return bi(this.proto(),e)._meta||{}}static eachComputedProperty(e,t=this){this.proto();let r={};tt(this.prototype).forEachDescriptors((n,i)=>{if(i.enumerable){let s=i._meta||r;e.call(t,n,s)}})}static get PrototypeMixin(){let e=ic.get(this);return void 0===e&&(e=ka.create(),e.ownerConstructor=this,ic.set(this,e)),e}static get superclass(){let e=Object.getPrototypeOf(this);return e!==Function.prototype?e:void 0}static proto(){let e=this.prototype;if(!nc.has(e)){nc.add(e);let t=this.superclass;t&&t.proto(),ic.has(this)&&this.PrototypeMixin.apply(e)}return e}static toString(){return`<${Do(this)||"(unknown)"}:constructor>`}static isClass=!0;static isMethod=!1;static _onLookup;static _lazyInjections}function cc(...e){let t={};for(let r of e){let e=Object.keys(r);for(let n=0,i=e.length;n<i;n++){let i=e[n],s=r[i];t[i]=s}}return t}const uc=Object.freeze(Object.defineProperty({__proto__:null,default:lc},Symbol.toStringTag,{value:"Module"})),hc=ka.create({get(e){return hs(this,e)},getProperties(...e){return Jl(this,...e)},set(e,t){return Ma(this,e,t)},setProperties(e){return Zl(this,e)},beginPropertyChanges(){return Qi(),this},endPropertyChanges(){return Gi(),this},notifyPropertyChange(e){return Ki(this,e),this},addObserver(e,t,r,n){return Di(this,e,t,r,n),this},removeObserver(e,t,r,n){return Ni(this,e,t,r,n),this},hasObserverFor(e){return Ci(this,`${e}:change`)},incrementProperty(e,t=1){return Ma(this,e,(parseFloat(hs(this,e))||0)+t)},decrementProperty(e,t=1){return Ma(this,e,(hs(this,e)||0)-t)},toggleProperty(e){return Ma(this,e,!hs(this,e))},cacheFor(e){let t=et(this);return null!==t?t.valueFor(e):void 0}}),dc=Object.freeze(Object.defineProperty({__proto__:null,default:hc},Symbol.toStringTag,{value:"Module"}));class pc extends(lc.extend(hc)){get _debugContainerKey(){let e=Do(this);return void 0!==e&&e.fullName}}const fc=new WeakMap;function gc(e,t,r){var n;if(null!=(n=e)&&void 0!==n.constructor&&"function"==typeof n.constructor.proto&&e.constructor.proto(),!Object.prototype.hasOwnProperty.call(e,"actions")){let t=e.actions;e.actions=t?Object.assign({},t):{}}return e.actions[t]=r,{get(){let e=fc.get(this);void 0===e&&(e=new Map,fc.set(this,e));let t=e.get(r);return void 0===t&&(t=r.bind(this),e.set(r,t)),t}}}function mc(...e){let t;if(!ui(e)){t=e[0];let r=function(e,r){return gc(e,r,t)};return wi(r),r}let[r,n,i]=e;return t=i?.value,gc(r,n,t)}wi(mc);const yc=Object.freeze(Object.defineProperty({__proto__:null,action:mc,computed:ts,default:pc,defineProperty:is,get:hs,getProperties:Jl,notifyPropertyChange:Ki,observer:function(...e){let t,r,n,i=e.pop();"function"==typeof i?(t=i,r=e,n=!w._DEFAULT_ASYNC_OBSERVERS):(t=i.fn,r=i.dependentKeys,n=i.sync);let s=[];for(let o of r)Si(o,e=>s.push(e));return ie(t,{paths:s,sync:n}),t},set:Ma,setProperties:Zl,trySet:Pa},Symbol.toStringTag,{value:"Module"}));function bc(e){if(!(e instanceof MouseEvent))return!1;let t=e.shiftKey||e.metaKey||e.altKey||e.ctrlKey,r=e.which>1;return!t&&!r}function _c(e){return'Binding style attributes may introduce cross-site scripting vulnerabilities; please ensure that values being bound are properly escaped. For more information, including how to disable this warning, see https://deprecations.emberjs.com/v1.x/#toc_binding-style-attributes. Style affected: "'+e+'"'}function vc(e){let t=e.lookup("-view-registry:main"),r=[];return Object.keys(t).forEach(e=>{let n=t[e];null===n.parentView&&r.push(n)}),r}function wc(e){return""!==e.tagName&&e.elementId?e.elementId:W(e)}const kc=new WeakMap,Sc=new WeakMap;function xc(e){return kc.get(e)||null}function Ac(e){return Sc.get(e)||null}function Rc(e,t){kc.set(e,t)}function Tc(e,t){Sc.set(e,t)}function Ec(e){kc.delete(e)}function Cc(e){Sc.delete(e)}const Oc=new WeakMap;function Mc(e){return function(e,t){let r=[],n=Oc.get(e);return void 0!==n&&n.forEach(e=>{let n=t[e];!n||n.isDestroying||n.isDestroyed||r.push(n)}),r}(e,n(e).lookup("-view-registry:main"))}function Ic(e,t){let r=Oc.get(e);void 0===r&&(r=function(e){let t=new Set;return Oc.set(e,t),t}(e)),r.add(wc(t))}function Pc(e){return e.renderer.getBounds(e)}function Dc(e){let t=Pc(e),r=document.createRange();return r.setStartBefore(t.firstNode),r.setEndAfter(t.lastNode),r}function Nc(e){return Dc(e).getClientRects()}function jc(e){return Dc(e).getBoundingClientRect()}const Lc="ember-application";class qc extends pc{events={touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchCancel",keydown:"keyDown",keyup:"keyUp",keypress:"keyPress",mousedown:"mouseDown",mouseup:"mouseUp",contextmenu:"contextMenu",click:"click",dblclick:"doubleClick",focusin:"focusIn",focusout:"focusOut",submit:"submit",input:"input",change:"change",dragstart:"dragStart",drag:"drag",dragenter:"dragEnter",dragleave:"dragLeave",dragover:"dragOver",drop:"drop",dragend:"dragEnd"};rootElement="body";_eventHandlers=Object.create(null);_didSetup=!1;finalEventNameMapping=null;_sanitizedRootElement=null;lazyEvents=new Map;_reverseEventNameMapping=null;setup(e,t){let r=this.finalEventNameMapping={...hs(this,"events"),...e};this._reverseEventNameMapping=Object.keys(r).reduce((e,t)=>{let n=r[t];return n?{...e,[n]:t}:e},{});let n=this.lazyEvents;null!=t&&Ma(this,"rootElement",t);let i=hs(this,"rootElement"),s="string"!=typeof i?i:document.querySelector(i);s.classList.add(Lc),this._sanitizedRootElement=s;for(let o in r)Object.prototype.hasOwnProperty.call(r,o)&&n.set(o,r[o]??null);this._didSetup=!0}setupHandlerForBrowserEvent(e){this.setupHandler(this._sanitizedRootElement,e,this.finalEventNameMapping[e]??null)}setupHandlerForEmberEvent(e){let t=this._reverseEventNameMapping?.[e];t&&this.setupHandler(this._sanitizedRootElement,t,e)}setupHandler(e,t,r){if(null===r||!this.lazyEvents.has(t))return;let n=(e,t)=>{let n=xc(e),i=!0;return n&&(i=n.handleEvent(r,t)),i},i=this._eventHandlers[t]=e=>{let t=e.target;do{if(xc(t)){if(!1===n(t,e)){e.preventDefault(),e.stopPropagation();break}if(!0===e.cancelBubble)break}t=t.parentNode}while(t instanceof Element)};e.addEventListener(t,i),this.lazyEvents.delete(t)}destroy(){if(!1===this._didSetup)return;let e=this._sanitizedRootElement;if(e){for(let t in this._eventHandlers)e.removeEventListener(t,this._eventHandlers[t]);return e.classList.remove(Lc),this._super(...arguments)}}toString(){return"(EventDispatcher)"}}const Fc=ka.create({on(e,t,r){return Ri(this,e,t,r),this},one(e,t,r){return Ri(this,e,t,r,!0),this},trigger(e,...t){Ei(this,e,t)},off(e,t,r){return Ti(this,e,t,r),this},has(e){return Ci(this,e)}}),zc=Object.freeze(Object.defineProperty({__proto__:null,default:Fc,on:Oi},Symbol.toStringTag,{value:"Module"}));function Uc(e,t){let r=et(e);return r?r.valueFor(t):void 0}let Bc=class extends pc{},$c=[],Hc={};const Vc=(()=>{let e="undefined"!=typeof window&&window.performance||{},t=e.now||e.mozNow||e.webkitNow||e.msNow||e.oNow;return t?t.bind(e):Date.now})();function Wc(e,t,r){return r()}function Kc(){}function Qc(e,t,r){if(0===$c.length)return Kc;let n=Hc[e];if(n||(n=function(e){let t=[];for(let r of $c)r.regex.test(e)&&t.push(r.object);return Hc[e]=t,t}(e)),0===n.length)return Kc;let i,s=t(r),o=w.STRUCTURED_PROFILE;o&&(i=`${e}: ${s.object}`,console.time(i));let a=[],l=Vc();for(let u of n)a.push(u.before(e,l,s));const c=n;return function(){let t=Vc();for(let r=0;r<c.length;r++){let n=c[r];"function"==typeof n.after&&n.after(e,t,s,a[r])}o&&console.timeEnd(i)}}const Gc=Object.freeze(Object.defineProperty({__proto__:null,_instrumentStart:Qc,flaggedInstrument:Wc,instrument:function(e,t,r,n){let i,s,o;if(arguments.length<=3&&function(e){return"function"==typeof e}(t)?(s=t,o=r):(i=t,s=r,o=n),0===$c.length)return s.call(o);let a=i||{},l=Qc(e,()=>a);return l===Kc?s.call(o):function(e,t,r,n){try{return e.call(n)}catch(i){throw r.exception=i,i}finally{t()}}(s,l,a,o)},reset:function(){$c.length=0,Hc={}},subscribe:function(e,t){let r=e.split("."),n=[];for(let o of r)"*"===o?n.push("[^\\.]*"):n.push(o);let i=n.join("\\.");i=`${i}(\\..*)?`;let s={pattern:e,regex:new RegExp(`^${i}$`),object:t};return $c.push(s),Hc={},s},subscribers:$c,unsubscribe:function(e){let t=0;for(let r=0;r<$c.length;r++)$c[r]===e&&(t=r);$c.splice(t,1),Hc={}}},Symbol.toStringTag,{value:"Module"})),Yc=Object.freeze({appendChild(){throw new Error("You can't use appendChild outside of the rendering process")},handleEvent:()=>!0,rerender(){},destroy(){}}),Jc=Object.freeze({...Yc}),Zc=Object.freeze({...Yc,rerender(e){e.renderer.rerender()},destroy(e){e.renderer.remove(e)},handleEvent:(e,t,r)=>!e.has(t)||Wc(0,0,()=>go(e,e.trigger,t,r))}),Xc=Object.freeze({...Zc,enter(e){e.renderer.register(e)}}),eu=Object.freeze({...Yc,appendChild(){throw new Error("You can't call appendChild on a view being destroyed")},rerender(){throw new Error("You can't call rerender on a view being destroyed")}}),tu=Object.freeze({preRender:Jc,inDOM:Xc,hasElement:Zc,destroying:eu});var ru=Object.defineProperty;((e,t)=>{for(var r in t)ru(e,r,{get:t[r],enumerable:!0})})({},{c:()=>cu,f:()=>iu,g:()=>su,i:()=>lu,m:()=>ou,n:()=>au,p:()=>uu});var nu=new WeakMap;function iu(e,t,r,n){return su(e.prototype,t,r,n)}function su(e,t,r,n){let i={configurable:!0,enumerable:!0,writable:!0,initializer:null};n&&(i.initializer=n);for(let s of r)i=s(e,t,i)||i;void 0===i.initializer?Object.defineProperty(e,t,i):function(e,t,r){let n=nu.get(e);n||(n=new Map,nu.set(e,n)),n.set(t,r)}(e,t,i)}function ou({prototype:e},t,r){return au(e,t,r)}function au(e,t,r){let n={...Object.getOwnPropertyDescriptor(e,t)};for(let i of r)n=i(e,t,n)||n;void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(e):void 0,n.initializer=void 0),Object.defineProperty(e,t,n)}function lu(e,t){let r=function(e,t){let r=e.prototype;for(;r;){let e=nu.get(r)?.get(t);if(e)return e;r=r.prototype}}(e.constructor,t);r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(e):void 0})}function cu(e,t){return t.reduce((e,t)=>t(e)||e,e)}function uu(e,t){for(let[r,n,i]of t)"field"===r?hu(e,n,i):au(e,n,i);return e}function hu(e,t,r){let n={configurable:!0,enumerable:!0,writable:!0,initializer:()=>Object.getOwnPropertyDescriptor(e,t)?.value};for(let i of r)n=i(e,t,n)||n;n.initializer&&(n.value=n.initializer.call(e),delete n.initializer),Object.defineProperty(e,t,n)}class du extends(Bc.extend(Fc,Oa)){isView=!0;_superTrigger;_superHas;init(e){super.init(e),this._superTrigger=this.trigger,this.trigger=this._trigger,this._superHas=this.has,this.has=this._has,this.parentView??=null,this._state="preRender",this._currentState=this._states.preRender}static{su(this.prototype,"renderer",[bs("renderer","-dom")])}#l=void lu(this,"renderer");instrumentDetails(e){return e.object=this.toString(),e.containerKey=this._debugContainerKey,e.view=this,e}_trigger(e,...t){this._superTrigger(e,...t);let r=this[e];if("function"==typeof r)return r.apply(this,t)}_has(e){return"function"==typeof this[e]||this._superHas(e)}static isViewFactory=!0}du.prototype._states=tu;const pu=ka.create({send(e,...t){let r=this.actions&&this.actions[e];if(r&&!0!==r.apply(this,t))return;let n=hs(this,"target");n&&n.send(...arguments)}});function fu(e,t,r,n){return void 0===t?(t=0,r=n=-1):(void 0===r&&(r=-1),void 0===n&&(n=-1)),Ei(e,"@array:before",[e,t,r,n]),e}function gu(e,t,r,n,i=!0){void 0===t?(t=0,r=n=-1):(void 0===r&&(r=-1),void 0===n&&(n=-1));let s=et(e);if(i&&((n<0||r<0||n-r!==0)&&Ki(e,"length",s),Ki(e,"[]",s)),Ei(e,"@array:change",[e,t,r,n]),null!==s){let i=-1===r?0:r,o=e.length-((-1===n?0:n)-i),a=t<0?o+t:t;void 0!==s.revisionFor("firstObject")&&0===a&&Ki(e,"firstObject",s),void 0!==s.revisionFor("lastObject")&&o-1<a+i&&Ki(e,"lastObject",s)}return e}const mu=Object.freeze([]);function yu(e,t,r,n=mu){var i;null!=(i=e)&&"function"==typeof i.replace?e.replace(t,r,n):_u(e,t,r,n)}const bu=6e4;function _u(e,t,r,n){if(fu(e,t,r,n.length),n.length<=bu)e.splice(t,r,...n);else{e.splice(t,r);for(let r=0;r<n.length;r+=bu){let i=n.slice(r,r+bu);e.splice(t+r,0,...i)}}gu(e,t,r,n.length)}function vu(e,t,r,n){let{willChange:i,didChange:s}=r;return n(e,"@array:before",t,i),n(e,"@array:change",t,s),e._revalidate?.(),e}function wu(e,t,r){return vu(e,t,r,Ri)}function ku(e,t,r){return vu(e,t,r,Ti)}const Su={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object FileList]":"filelist"},{toString:xu}=Object.prototype;function Au(e){if(null===e)return"null";if(void 0===e)return"undefined";let t=Su[xu.call(e)]||"object";return"function"===t?lc.detect(e)&&(t="class"):"object"===t&&(e instanceof Error?t="error":e instanceof lc?t="instance":e instanceof Date&&(t="date")),t}const Ru={undefined:0,null:1,boolean:2,number:3,string:4,array:5,object:6,instance:7,function:8,class:9,date:10,regexp:11,filelist:12,error:13};function Tu(e,t){return Math.sign(e-t)}function Eu(e,t){if(e===t)return 0;let r=Au(e),n=Au(t);if("instance"===r&&Cu(e)&&e.constructor.compare)return e.constructor.compare(e,t);if("instance"===n&&Cu(t)&&t.constructor.compare)return-1*t.constructor.compare(t,e);let i=Tu(Ru[r],Ru[n]);if(0!==i)return i;switch(r){case"boolean":return Tu(Number(e),Number(t));case"number":return Tu(e,t);case"string":return Tu(e.localeCompare(t),0);case"array":{let r=e.length,n=t.length,i=Math.min(r,n);for(let s=0;s<i;s++){let r=Eu(e[s],t[s]);if(0!==r)return r}return Tu(r,n)}case"instance":return Cu(e)&&e.compare?e.compare(e,t):0;case"date":return Tu(e.getTime(),t.getTime());default:return 0}}function Cu(e){return Ca.detect(e)}const Ou=Object.freeze([]),Mu=e=>e;function Iu(e,t=Mu){let r=Qu(),n=new Set,i="function"==typeof t?t:e=>hs(e,t);return e.forEach(e=>{let t=i(e);n.has(t)||(n.add(t),r.push(e))}),r}function Pu(...e){let t=2===e.length,[r,n]=e;return t?e=>n===hs(e,r):e=>Boolean(hs(e,r))}function Du(e,t,r){let n=e.length;for(let i=r;i<n;i++)if(t(ei(e,i),i,e))return i;return-1}function Nu(e,t,r=null){let n=Du(e,t.bind(r),0);return-1===n?void 0:ei(e,n)}function ju(e,t,r=null){return-1!==Du(e,t.bind(r),0)}function Lu(e,t,r=null){let n=t.bind(r);return-1===Du(e,(e,t,r)=>!n(e,t,r),0)}function qu(e,t,r=0,n){let i=e.length;return r<0&&(r+=i),Du(e,n&&t!=t?e=>e!=e:e=>e===t,r)}function Fu(e,t,r){return yu(e,t,r??1,Ou),e}function zu(e,t,r){return yu(e,t,0,[r]),r}function Uu(e){if(!e||e.setInterval)return!1;if(Array.isArray(e)||Hu.detect(e))return!0;let t=Au(e);if("array"===t)return!0;let r=e.length;return"number"==typeof r&&r==r&&"object"===t}function Bu(e){let t=ts(e);return t.enumerable=!1,t}function $u(e){return this.map(t=>hs(t,e))}const Hu=ka.create(La,{init(){this._super(...arguments),Gn.add(this)},objectsAt(e){return e.map(e=>ei(this,e))},"[]":Bu({get(){return this},set(e,t){return this.replace(0,this.length,t),this}}),firstObject:Bu(function(){return ei(this,0)}).readOnly(),lastObject:Bu(function(){return ei(this,this.length-1)}).readOnly(),slice(e=0,t){let r,n=Qu(),i=this.length;for(e<0&&(e=i+e),r=void 0===t||t>i?i:t<0?i+t:t;e<r;)n[n.length]=ei(this,e++);return n},indexOf(e,t){return qu(this,e,t,!1)},lastIndexOf(e,t){let r=this.length;(void 0===t||t>=r)&&(t=r-1),t<0&&(t+=r);for(let n=t;n>=0;n--)if(ei(this,n)===e)return n;return-1},forEach(e,t=null){let r=this.length;for(let n=0;n<r;n++){let r=this.objectAt(n);e.call(t,r,n,this)}return this},getEach:$u,setEach(e,t){return this.forEach(r=>Ma(r,e,t))},map(e,t=null){let r=Qu();return this.forEach((n,i,s)=>r[i]=e.call(t,n,i,s)),r},mapBy:$u,filter(e,t=null){let r=Qu();return this.forEach((n,i,s)=>{e.call(t,n,i,s)&&r.push(n)}),r},reject(e,t=null){return this.filter(function(){return!e.apply(t,arguments)})},filterBy(){return this.filter(Pu(...arguments))},rejectBy(){return this.reject(Pu(...arguments))},find(e,t=null){return Nu(this,e,t)},findBy(){return Nu(this,Pu(...arguments))},every(e,t=null){return Lu(this,e,t)},isEvery(){return Lu(this,Pu(...arguments))},any(e,t=null){return ju(this,e,t)},isAny(){return ju(this,Pu(...arguments))},reduce(e,t){let r=t;return this.forEach(function(t,n){r=e(r,t,n,this)},this),r},invoke(e,...t){let r=Qu();return this.forEach(n=>r.push(n[e]?.(...t))),r},toArray(){return this.map(e=>e)},compact(){return this.filter(e=>null!=e)},includes(e,t){return-1!==qu(this,e,t,!0)},sortBy(){let e=arguments;return this.toArray().sort((t,r)=>{for(let n=0;n<e.length;n++){let i=e[n],s=Eu(hs(t,i),hs(r,i));if(s)return s}return 0})},uniq(){return Iu(this)},uniqBy(e){return Iu(this,e)},without(e){if(!this.includes(e))return this;let t=e==e?t=>t!==e:e=>e==e;return this.filter(t)}}),Vu=ka.create(Hu,qa,{clear(){let e=this.length;return 0===e||this.replace(0,e,Ou),this},insertAt(e,t){return zu(this,e,t),this},removeAt(e,t){return Fu(this,e,t)},pushObject(e){return zu(this,this.length,e)},pushObjects(e){return this.replace(this.length,0,e),this},popObject(){let e=this.length;if(0===e)return null;let t=ei(this,e-1);return this.removeAt(e-1,1),t},shiftObject(){if(0===this.length)return null;let e=ei(this,0);return this.removeAt(0),e},unshiftObject(e){return zu(this,0,e)},unshiftObjects(e){return this.replace(0,0,e),this},reverseObjects(){let e=this.length;if(0===e)return this;let t=this.toArray().reverse();return this.replace(0,e,t),this},setObjects(e){if(0===e.length)return this.clear();let t=this.length;return this.replace(0,t,e),this},removeObject(e){let t=this.length||0;for(;--t>=0;)ei(this,t)===e&&this.removeAt(t);return this},removeObjects(e){Qi();for(let t=e.length-1;t>=0;t--)this.removeObject(e[t]);return Gi(),this},addObject(e){return this.includes(e)||this.pushObject(e),this},addObjects(e){return Qi(),e.forEach(e=>this.addObject(e)),Gi(),this}});let Wu=ka.create(Vu,hc,{objectAt(e){return this[e]},replace(e,t,r=Ou){return _u(this,e,t,r),this}});const Ku=["length"];let Qu;Wu.keys().forEach(e=>{Array.prototype[e]&&Ku.push(e)}),Wu=Wu.without(...Ku),Qu=function(e){return Yn(e)?e:Wu.apply(e??[])};const Gu=Object.freeze(Object.defineProperty({__proto__:null,get A(){return Qu},MutableArray:Vu,get NativeArray(){return Wu},default:Hu,isArray:Uu,makeArray:ec,removeAt:Fu,uniqBy:Iu},Symbol.toStringTag,{value:"Module"})),Yu=be("MODEL"),Ju=ka.create(Oa,{isController:!0,concatenatedProperties:["queryParams"],target:null,store:null,init(){this._super(...arguments);let e=n(this);e&&(this.namespace=e.lookup("application:main"),this.target=e.lookup("router:main"))},model:ts({get(){return this[Yu]},set(e,t){return this[Yu]=t}}),queryParams:null,_qpDelegate:null,_qpChanged(e,t){let r=t.indexOf(".[]"),n=-1===r?t:t.slice(0,r);(0,e._qpDelegate)(n,hs(e,n))}});class Zu extends(Bc.extend(Ju)){}const Xu=Object.freeze(Object.defineProperty({__proto__:null,ControllerMixin:Ju,default:Zu,inject:function(...e){return bs("controller",...e)}},Symbol.toStringTag,{value:"Module"})),eh=Symbol("ENGINE_PARENT");function th(e){return e[eh]}class rh extends(pc.extend(Ra,Ea)){static setupRegistry(e,t){}[eh];_booted=!1;init(e){super.init(e),W(this),this.base??=this.application;let t=this.__registry__=new qo({fallback:this.base.__registry__});this.__container__=t.container({owner:this}),this._booted=!1}_bootPromise=null;boot(e){return this._bootPromise||(this._bootPromise=new Gl.Promise(t=>{t(this._bootSync(e))})),this._bootPromise}_bootSync(e){return this._booted||(this.cloneParentDependencies(),this.setupRegistry(e),this.base.runInstanceInitializers(this),this._booted=!0),this}setupRegistry(e=this.__container__.lookup("-environment:main")){this.constructor.setupRegistry(this.__registry__,e)}unregister(e){this.__container__.reset(e),this.__registry__.unregister(e)}buildChildEngineInstance(e,t={}){let r=this.lookup(`engine:${e}`);if(!r)throw new Error(`You attempted to mount the engine '${e}', but it is not registered with its parent.`);let n=r.buildInstance(t);return n[eh]=this,n}cloneParentDependencies(){const e=th(this);["route:basic","service:-routing"].forEach(t=>{let r=e.resolveRegistration(t);this.register(t,r)});let t=e.lookup("-environment:main");this.register("-environment:main",t,{instantiate:!1});let r=["router:main",Uo`-bucket-cache:main`,"-view-registry:main","renderer:-dom","service:-document"];t.isInteractive&&r.push("event_dispatcher:main"),r.forEach(t=>{let r=e.lookup(t);this.register(t,r,{instantiate:!1})})}}let nh=function(e,t,r){let{get:n}=r;return void 0!==n&&(r.get=function(){let e,r=Xt(this,t),i=Ft(()=>{e=n.call(this)});return ut(r,i),Mt(i),e}),r};function ih(...e){if(ui(e)){let[t,r,n]=e;return nh(0,r,n)}{const t=e[0];let r=function(e,r){return nh(0,r,t)};return wi(r),r}}wi(ih);var sh=Object.create;function oh(){var e=sh(null);return e.__=void 0,delete e.__,e}var ah=function(e,t,r){this.path=e,this.matcher=t,this.delegate=r};ah.prototype.to=function(e,t){var r=this.delegate;if(r&&r.willAddRoute&&(e=r.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,t,this.delegate)}};var lh=function(e){this.routes=oh(),this.children=oh(),this.target=e};function ch(e,t,r){return function(n,i){var s=e+n;if(!i)return new ah(s,t,r);i(ch(s,t,r))}}function uh(e,t,r){for(var n=0,i=0;i<e.length;i++)n+=e[i].path.length;var s={path:t=t.substr(n),handler:r};e.push(s)}function hh(e,t,r,n){for(var i=t.routes,s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=e.slice();uh(l,a,i[a]);var c=t.children[a];c?hh(l,c,r,n):r.call(n,l)}}function dh(e){return e.split("/").map(fh).join("/")}lh.prototype.add=function(e,t){this.routes[e]=t},lh.prototype.addChild=function(e,t,r,n){var i=new lh(t);this.children[e]=i;var s=ch(e,i,n);n&&n.contextEntered&&n.contextEntered(t,s),r(s)};var ph=/%|\//g;function fh(e){return e.length<3||-1===e.indexOf("%")?e:decodeURIComponent(e).replace(ph,encodeURIComponent)}var gh=/%(?:2(?:4|6|B|C)|3(?:B|D|A)|40)/g;function mh(e){return encodeURIComponent(e).replace(gh,decodeURIComponent)}var yh=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\)/g,bh=Array.isArray,_h=Object.prototype.hasOwnProperty;function vh(e,t){if("object"!=typeof e||null===e)throw new Error("You must pass an object as the second argument to `generate`.");if(!_h.call(e,t))throw new Error("You must provide param `"+t+"` to `generate`.");var r=e[t],n="string"==typeof r?r:""+r;if(0===n.length)throw new Error("You must provide a param `"+t+"`.");return n}var wh=[];wh[0]=function(e,t){for(var r=t,n=e.value,i=0;i<n.length;i++){var s=n.charCodeAt(i);r=r.put(s,!1,!1)}return r},wh[1]=function(e,t){return t.put(47,!0,!0)},wh[2]=function(e,t){return t.put(-1,!1,!0)},wh[4]=function(e,t){return t};var kh=[];kh[0]=function(e){return e.value.replace(yh,"\\$1")},kh[1]=function(){return"([^/]+)"},kh[2]=function(){return"(.+)"},kh[4]=function(){return""};var Sh=[];Sh[0]=function(e){return e.value},Sh[1]=function(e,t){var r=vh(t,e.value);return Ph.ENCODE_AND_DECODE_PATH_SEGMENTS?mh(r):r},Sh[2]=function(e,t){return vh(t,e.value)},Sh[4]=function(){return""};var xh=Object.freeze({}),Ah=Object.freeze([]);function Rh(e,t,r){t.length>0&&47===t.charCodeAt(0)&&(t=t.substr(1));for(var n=t.split("/"),i=void 0,s=void 0,o=0;o<n.length;o++){var a,l,c=n[o];12&(a=2<<(l=""===c?4:58===c.charCodeAt(0)?1:42===c.charCodeAt(0)?2:0))&&(c=c.slice(1),(i=i||[]).push(c),(s=s||[]).push(!!(4&a))),14&a&&r[l]++,e.push({type:l,value:fh(c)})}return{names:i||Ah,shouldDecodes:s||Ah}}function Th(e,t,r){return e.char===t&&e.negate===r}var Eh=function(e,t,r,n,i){this.states=e,this.id=t,this.char=r,this.negate=n,this.nextStates=i?t:null,this.pattern="",this._regex=void 0,this.handlers=void 0,this.types=void 0};function Ch(e,t){return e.negate?e.char!==t&&-1!==e.char:e.char===t||-1===e.char}function Oh(e,t){for(var r=[],n=0,i=e.length;n<i;n++){var s=e[n];r=r.concat(s.match(t))}return r}Eh.prototype.regex=function(){return this._regex||(this._regex=new RegExp(this.pattern)),this._regex},Eh.prototype.get=function(e,t){var r=this.nextStates;if(null!==r)if(bh(r))for(var n=0;n<r.length;n++){var i=this.states[r[n]];if(Th(i,e,t))return i}else{var s=this.states[r];if(Th(s,e,t))return s}},Eh.prototype.put=function(e,t,r){var n;if(n=this.get(e,t))return n;var i=this.states;return n=new Eh(i,i.length,e,t,r),i[i.length]=n,null==this.nextStates?this.nextStates=n.id:bh(this.nextStates)?this.nextStates.push(n.id):this.nextStates=[this.nextStates,n.id],n},Eh.prototype.match=function(e){var t=this.nextStates;if(!t)return[];var r=[];if(bh(t))for(var n=0;n<t.length;n++){var i=this.states[t[n]];Ch(i,e)&&r.push(i)}else{var s=this.states[t];Ch(s,e)&&r.push(s)}return r};var Mh=function(e){this.length=0,this.queryParams=e||{}};function Ih(e){var t;e=e.replace(/\+/gm,"%20");try{t=decodeURIComponent(e)}catch(r){t=""}return t}Mh.prototype.splice=Array.prototype.splice,Mh.prototype.slice=Array.prototype.slice,Mh.prototype.push=Array.prototype.push;var Ph=function(){this.names=oh();var e=[],t=new Eh(e,0,-1,!0,!1);e[0]=t,this.states=e,this.rootState=t};function Dh(){let e=new Error("TransitionAborted");return e.name="TransitionAborted",e.code="TRANSITION_ABORTED",e}function Nh(e){if("object"==typeof(t=e)&&null!==t&&"boolean"==typeof t.isAborted&&e.isAborted)throw Dh();var t}Ph.prototype.add=function(e,t){for(var r,n=this.rootState,i="^",s=[0,0,0],o=new Array(e.length),a=[],l=!0,c=0,u=0;u<e.length;u++){for(var h=e[u],d=Rh(a,h.path,s),p=d.names,f=d.shouldDecodes;c<a.length;c++){var g=a[c];4!==g.type&&(l=!1,n=n.put(47,!1,!1),i+="/",n=wh[g.type](g,n),i+=kh[g.type](g))}o[u]={handler:h.handler,names:p,shouldDecodes:f}}l&&(n=n.put(47,!1,!1),i+="/"),n.handlers=o,n.pattern=i+"$",n.types=s,"object"==typeof t&&null!==t&&t.as&&(r=t.as),r&&(this.names[r]={segments:a,handlers:o})},Ph.prototype.handlersFor=function(e){var t=this.names[e];if(!t)throw new Error("There is no route named "+e);for(var r=new Array(t.handlers.length),n=0;n<t.handlers.length;n++){var i=t.handlers[n];r[n]=i}return r},Ph.prototype.hasRoute=function(e){return!!this.names[e]},Ph.prototype.generate=function(e,t){var r=this.names[e],n="";if(!r)throw new Error("There is no route named "+e);for(var i=r.segments,s=0;s<i.length;s++){var o=i[s];4!==o.type&&(n+="/",n+=Sh[o.type](o,t))}return"/"!==n.charAt(0)&&(n="/"+n),t&&t.queryParams&&(n+=this.generateQueryString(t.queryParams)),n},Ph.prototype.generateQueryString=function(e){var t=[],r=Object.keys(e);r.sort();for(var n=0;n<r.length;n++){var i=r[n],s=e[i];if(null!=s){var o=encodeURIComponent(i);if(bh(s))for(var a=0;a<s.length;a++){var l=i+"[]="+encodeURIComponent(s[a]);t.push(l)}else o+="="+encodeURIComponent(s),t.push(o)}}return 0===t.length?"":"?"+t.join("&")},Ph.prototype.parseQueryString=function(e){for(var t=e.split("&"),r={},n=0;n<t.length;n++){var i=t[n].split("="),s=Ih(i[0]),o=s.length,a=!1,l=void 0;1===i.length?l="true":(o>2&&"[]"===s.slice(o-2)&&(a=!0,r[s=s.slice(0,o-2)]||(r[s]=[])),l=i[1]?Ih(i[1]):""),a?r[s].push(l):r[s]=l}return r},Ph.prototype.recognize=function(e){var t,r=[this.rootState],n={},i=!1,s=e.indexOf("#");-1!==s&&(e=e.substr(0,s));var o=e.indexOf("?");if(-1!==o){var a=e.substr(o+1,e.length);e=e.substr(0,o),n=this.parseQueryString(a)}"/"!==e.charAt(0)&&(e="/"+e);var l=e;Ph.ENCODE_AND_DECODE_PATH_SEGMENTS?e=dh(e):(e=decodeURI(e),l=decodeURI(l));var c=e.length;c>1&&"/"===e.charAt(c-1)&&(e=e.substr(0,c-1),l=l.substr(0,l.length-1),i=!0);for(var u=0;u<e.length&&(r=Oh(r,e.charCodeAt(u))).length;u++);for(var h=[],d=0;d<r.length;d++)r[d].handlers&&h.push(r[d]);r=function(e){return e.sort(function(e,t){var r=e.types||[0,0,0],n=r[0],i=r[1],s=r[2],o=t.types||[0,0,0],a=o[0],l=o[1],c=o[2];if(s!==c)return s-c;if(s){if(n!==a)return a-n;if(i!==l)return l-i}return i!==l?i-l:n!==a?a-n:0})}(h);var p=h[0];return p&&p.handlers&&(i&&p.pattern&&"(.+)$"===p.pattern.slice(-5)&&(l+="/"),t=function(e,t,r){var n=e.handlers,i=e.regex();if(!i||!n)throw new Error("state not initialized");var s=t.match(i),o=1,a=new Mh(r);a.length=n.length;for(var l=0;l<n.length;l++){var c=n[l],u=c.names,h=c.shouldDecodes,d=xh,p=!1;if(u!==Ah&&h!==Ah)for(var f=0;f<u.length;f++){p=!0;var g=u[f],m=s&&s[o++];d===xh&&(d={}),Ph.ENCODE_AND_DECODE_PATH_SEGMENTS&&h[f]?d[g]=m&&decodeURIComponent(m):d[g]=m}a[l]={handler:c.handler,params:d,isDynamic:p}}return a}(p,l,n)),t},Ph.VERSION="0.3.4",Ph.ENCODE_AND_DECODE_PATH_SEGMENTS=!0,Ph.Normalizer={normalizeSegment:fh,normalizePath:dh,encodePathSegment:mh},Ph.prototype.map=function(e,t){var r=new lh;e(ch("",r,this.delegate)),hh([],r,function(e){t?t(this,e):this.add(e)},this)};const jh=Array.prototype.slice,Lh=Object.prototype.hasOwnProperty;function qh(e,t){for(let r in t)Lh.call(t,r)&&(e[r]=t[r])}function Fh(e){let t,r,n=e&&e.length;if(n&&n>0){let i=e[n-1];if(function(e){if(e&&"object"==typeof e){let t=e;return"queryParams"in t&&Object.keys(t.queryParams).every(e=>"string"==typeof e)}return!1}(i))return r=i.queryParams,t=jh.call(e,0,n-1),[t,r]}return[e,null]}function zh(e){for(let t in e){let r=e[t];if("number"==typeof r)e[t]=""+r;else if(Array.isArray(r))for(let e=0,t=r.length;e<t;e++)r[e]=""+r[e]}}function Uh(e,...t){if(e.log)if(2===t.length){let[r,n]=t;e.log("Transition #"+r+": "+n)}else{let[r]=t;e.log(r)}}function Bh(e){return"string"==typeof e||e instanceof String||"number"==typeof e||e instanceof Number}function $h(e,t){for(let r=0,n=e.length;r<n&&!1!==t(e[r]);r++);}function Hh(e,t){let r,n={all:{},changed:{},removed:{}};qh(n.all,t);let i=!1;for(r in zh(e),zh(t),e)Lh.call(e,r)&&(Lh.call(t,r)||(i=!0,n.removed[r]=e[r]));for(r in t)if(Lh.call(t,r)){let s=e[r],o=t[r];if(Vh(s)&&Vh(o))if(s.length!==o.length)n.changed[r]=t[r],i=!0;else for(let e=0,a=s.length;e<a;e++)s[e]!==o[e]&&(n.changed[r]=t[r],i=!0);else e[r]!==t[r]&&(n.changed[r]=t[r],i=!0)}return i?n:void 0}function Vh(e){return Array.isArray(e)}function Wh(e){return"Router: "+e}const Kh="__STATE__-2619860001345920-3322w3",Qh="__PARAMS__-261986232992830203-23323",Gh="__QPS__-2619863929824844-32323",Yh="__RDS__-2619863929824844-32323";class Jh{constructor(e,t,r,n,i){if(this.from=null,this.to=void 0,this.isAborted=!1,this.isActive=!0,this.urlMethod="update",this.resolveIndex=0,this.queryParamsOnly=!1,this.isTransition=!0,this.isCausedByAbortingTransition=!1,this.isCausedByInitialTransition=!1,this.isCausedByAbortingReplaceTransition=!1,this._visibleQueryParams={},this.isIntermediate=!1,this[Kh]=r||e.state,this.intent=t,this.router=e,this.data=t&&t.data||{},this.resolvedModels={},this[Gh]={},this.promise=void 0,this.error=void 0,this[Qh]={},this.routeInfos=[],this.targetName=void 0,this.pivotHandler=void 0,this.sequence=-1,n)return this.promise=hl.reject(n),void(this.error=n);if(this.isCausedByAbortingTransition=!!i,this.isCausedByInitialTransition=!!i&&(i.isCausedByInitialTransition||0===i.sequence),this.isCausedByAbortingReplaceTransition=!!i&&"replace"===i.urlMethod&&(!i.isCausedByAbortingTransition||i.isCausedByAbortingReplaceTransition),r){this[Qh]=r.params,this[Gh]=r.queryParams,this.routeInfos=r.routeInfos;let t=r.routeInfos.length;t&&(this.targetName=r.routeInfos[t-1].name);for(let e=0;e<t;++e){let t=r.routeInfos[e];if(!t.isResolved)break;this.pivotHandler=t.route}this.sequence=e.currentSequence++,this.promise=r.resolve(this).catch(e=>{throw this.router.transitionDidError(e,this)},Wh("Handle Abort"))}else this.promise=hl.resolve(this[Kh]),this[Qh]={}}then(e,t,r){return this.promise.then(e,t,r)}catch(e,t){return this.promise.catch(e,t)}finally(e,t){return this.promise.finally(e,t)}abort(){this.rollback();let e=new Jh(this.router,void 0,void 0,void 0);return e.to=this.from,e.from=this.from,e.isAborted=!0,this.router.routeWillChange(e),this.router.routeDidChange(e),this}rollback(){this.isAborted||(Uh(this.router,this.sequence,this.targetName+": transition was aborted"),void 0!==this.intent&&null!==this.intent&&(this.intent.preTransitionState=this.router.state),this.isAborted=!0,this.isActive=!1,this.router.activeTransition=void 0)}redirect(e){this[Yh]=e,this.rollback(),this.router.routeWillChange(e)}retry(){this.abort();let e=this.router.transitionByIntent(this.intent,!1);return null!==this.urlMethod&&e.method(this.urlMethod),e}method(e){return this.urlMethod=e,this}send(e=!1,t,r,n,i){this.trigger(e,t,r,n,i)}trigger(e=!1,t,...r){"string"==typeof e&&(t=e,e=!1),this.router.triggerEvent(this[Kh].routeInfos.slice(0,this.resolveIndex+1),e,t,r)}followRedirects(){return this.promise.catch(e=>this[Yh]?this[Yh].followRedirects():hl.reject(e))}toString(){return"Transition (sequence "+this.sequence+")"}log(e){Uh(this.router,this.sequence,e)}}function Zh(e){return Uh(e.router,e.sequence,"detected abort."),Dh()}function Xh(e){return"object"==typeof e&&e instanceof Jh&&e.isTransition}const ed=function(){function e(t){let r=Error.call(this,t);this.name="UnrecognizedURLError",this.message=t||"UnrecognizedURL",Error.captureStackTrace?Error.captureStackTrace(this,e):this.stack=r.stack}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}();function td(e,t){let r=e.factoryFor("controller:basic").class;r=class extends r{toString(){return`(generated ${t} controller)`}};let n=`controller:${t}`;return e.register(n,r),e.factoryFor(n)}function rd(e,t){td(e,t);let r=`controller:${t}`;return e.lookup(r)}const nd=/\./g;function id(e){let t,r,n=(e=e.slice())[e.length-1];return function(e){if(e&&"object"==typeof e){let t=e.queryParams;if(t&&"object"==typeof t)return Object.keys(t).every(e=>"string"==typeof e)}return!1}(n)?(e.pop(),t=n.queryParams):t={},"string"==typeof e[0]&&(r=e.shift()),{routeName:r,models:e,queryParams:t}}function sd(e,t){if(t._namesStashed)return;let r,n=t[t.length-1].name,i=e._routerMicrolib.recognizer.handlersFor(n);for(let s=0;s<t.length;++s){let e=t[s],n=i[s].names;n.length&&(r=e),e._names=n,e.route._stashNames(e,r)}t._namesStashed=!0}function od(e,t){let r=e.split("."),n="";for(let i=0;i<r.length;i++){let e=r.slice(0,i+1).join(".");if(0!==t.indexOf(e))break;n=e}return n}function ad(e,t=[],r){let n="";for(let i of t){let t,s=od(e,i);if(r)if(s&&s in r){let e=0===i.indexOf(s)?i.substring(s.length+1):i;t=hs(r[s],e)}else t=hs(r,i);n+=`::${i}:${t}`}return e+n.replace(nd,"-")}function ld(e,t){let r="string"==typeof e?{[e]:{as:null}}:e;for(let n in r){if(!Object.prototype.hasOwnProperty.call(r,n))return;let e=r[n],i="string"==typeof e?{as:e}:e,s={...t[n]||{as:null,scope:"model"},...i};t[n]=s}}function cd(e){return"string"==typeof e&&(""===e||"/"===e[0])}function ud(e,t){let r=0,n=0;for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(e[i]!==t[i])return!1;r++}for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&n++;return r===n}const hd=Symbol("render"),dd=Symbol("render-state");class pd extends(pc.extend(Oa,Fc)){static isRouteFactory=!0;context={};_bucketCache;_internalName;_names;_router;constructor(e){if(super(e),e){let t=e.lookup("router:main"),r=e.lookup(Uo`-bucket-cache:main`);this._router=t,this._bucketCache=r,this._topLevelViewTemplate=e.lookup("template:-outlet"),this._environment=e.lookup("-environment:main")}}serialize(e,t){if(t.length<1||!e)return;let r={};if(1===t.length){let[n]=t;"object"==typeof e&&n in e?r[n]=hs(e,n):/_id$/.test(n)?r[n]=hs(e,"id"):Kn(e)&&(r[n]=hs(e,n))}else r=Jl(e,t);return r}_setRouteName(e){this.routeName=e;let t=n(this);this.fullRouteName=bd(t,e)}_stashNames(e,t){if(this._names)return;let r=this._names=e._names;r.length||(r=(e=t)&&e._names||[]);let n=hs(this,"_qp").qps,i=new Array(r.length);for(let s=0;s<r.length;++s)i[s]=`${e.name}.${r[s]}`;for(let s of n)"model"===s.scope&&(s.parts=i)}_activeQPChanged(e,t){this._router._activeQPChanged(e.scopedPropertyName,t)}_updatingQPChanged(e){this._router._updatingQPChanged(e.urlKey)}paramsFor(e){let t=n(this).lookup(`route:${e}`);if(void 0===t)return{};let r=this._router._routerMicrolib.activeTransition,i=r?r[Kh]:this._router._routerMicrolib.state,s=t.fullRouteName,o={...i.params[s]},a=md(t,i);return Object.entries(a).reduce((e,[t,r])=>(e[t]=r,e),o)}serializeQueryParamKey(e){return e}serializeQueryParam(e,t,r){return this._router._serializeQueryParam(e,r)}deserializeQueryParam(e,t,r){return this._router._deserializeQueryParam(e,r)}_optionsForQueryParam(e){const t=hs(this,"queryParams");return hs(t,e.urlKey)||hs(t,e.prop)||t[e.urlKey]||t[e.prop]||{}}resetController(e,t,r){return this}exit(e){this.deactivate(e),this.trigger("deactivate",e),this.teardownViews()}_internalReset(e,t){let r=this.controller;r._qpDelegate=hs(this,"_qp").states.inactive,this.resetController(r,e,t)}enter(e){this[dd]=void 0,this.activate(e),this.trigger("activate",e)}deactivate(e){}activate(e){}intermediateTransitionTo(...e){let[t,...r]=function(e,t){let r,i=n(e),s=i.mountPoint;if(i.routable&&"string"==typeof t[0]){if(r=t[0],cd(r))throw new Error("Programmatic transitions by URL cannot be used within an Engine. Please use the route name instead.");r=`${s}.${r}`,t[0]=r}return t}(this,e);this._router.intermediateTransitionTo(t,...r)}refresh(){return this._router._routerMicrolib.refresh(this)}setup(e,t){let r=this.controllerName||this.routeName,n=this.controllerFor(r,!0)??this.generateController(r),i=hs(this,"_qp");if(!this.controller){let e=i.propertyNames;!function(e,t){t.forEach(t=>{if(void 0===bi(e,t)){let r=ce(e,t);null===r||"function"!=typeof r.get&&"function"!=typeof r.set||is(e,t,ih({get:r.get,set:r.set}))}Di(e,`${t}.[]`,e,e._qpChanged,!1)})}(n,e),this.controller=n}let s=i.states;if(n._qpDelegate=s.allowOverrides,t){sd(this._router,t[Kh].routeInfos);let e=this._bucketCache,r=t[Qh];i.propertyNames.forEach(t=>{let s=i.map[t];s.values=r;let o=ad(s.route.fullRouteName,s.parts,s.values),a=e.lookup(o,t,s.undecoratedDefaultValue);Ma(n,t,a)});let s=md(this,t[Kh]);Zl(n,s)}this.setupController(n,e,t),this._environment.options.shouldRender&&this[hd](),Bi(!1)}_qpChanged(e,t,r){if(!r)return;let n=this._bucketCache,i=ad(r.route.fullRouteName,r.parts,r.values);n.stash(i,e,t)}beforeModel(e){}afterModel(e,t){}redirect(e,t){}contextDidChange(){this.currentModel=this.context}model(e,t){let r,n,i=hs(this,"_qp").map;for(let s in e){if("queryParams"===s||i&&s in i)continue;let e=s.match(/^(.*)_id$/);null!==e&&(r=e[1]),n=!0}if(!r){if(n)return Object.assign({},e);if(t.resolveIndex<1)return;return t[Kh].routeInfos[t.resolveIndex-1].context}}deserialize(e,t){return this.model(this._paramsFor(this.routeName,e),t)}setupController(e,t,r){e&&void 0!==t&&Ma(e,"model",t)}controllerFor(e,t=!1){let r=n(this),i=r.lookup(`route:${e}`);return i&&i.controllerName&&(e=i.controllerName),r.lookup(`controller:${e}`)}generateController(e){return rd(n(this),e)}modelFor(e){let t,r=n(this),i=this._router&&this._router._routerMicrolib?this._router._routerMicrolib.activeTransition:void 0;t=r.routable&&void 0!==i?bd(r,e):e;let s=r.lookup(`route:${t}`);if(null!=i){let e=s&&s.routeName||t;if(Object.prototype.hasOwnProperty.call(i.resolvedModels,e))return i.resolvedModels[e]}return s?.currentModel}[dd]=void 0;[hd](){this[dd]=function(e){let t,r=n(e),i=e.routeName,s=r.lookup(`controller:${e.controllerName||i}`),o=e.currentModel,a=r.lookup(`template:${e.templateName||i}`);return t=a?On(a)?a:a(r):e._topLevelViewTemplate(r),{owner:r,name:i,controller:s,model:o,template:t}}(this),bo(this._router,"_setOutlets")}willDestroy(){this.teardownViews()}teardownViews(){this[dd]&&(this[dd]=void 0,bo(this._router,"_setOutlets"))}buildRouteInfoMetadata(){}_paramsFor(e,t){return void 0!==this._router._routerMicrolib.activeTransition?this.paramsFor(e):t}get _store(){const e=n(this);return this.routeName,{find(t,r){let n=e.factoryFor(`model:${t}`);if(n)return n=n.class,n.find(r)}}}static{au(this.prototype,"_store",[ts])}get _qp(){let e={},t=this.controllerName||this.routeName,r=n(this),i=r.lookup(`controller:${t}`),s=hs(this,"queryParams"),o=Object.keys(s).length>0;i?e=function(e,t){let r={},n={defaultValue:!0,type:!0,scope:!0,as:!0};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]={...e[i],...t[i]},n[i]=!0);for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&!n[i]&&(r[i]={...t[i],...e[i]});return r}(function(e){let t={};for(let r of e)ld(r,t);return t}(hs(i,"queryParams")||[]),s):o&&(i=rd(r,t),e=s);let a=[],l={},c=[];for(let n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;if("unknownProperty"===n||"_super"===n)continue;let r,s=e[n],o=s.scope||"model";"controller"===o&&(r=[]);let u=s.as||this.serializeQueryParamKey(n),h=hs(i,n);h=yd(h);let d=s.type||Au(h),p=this.serializeQueryParam(h,u,d),f=`${t}:${n}`,g={undecoratedDefaultValue:hs(i,n),defaultValue:h,serializedDefaultValue:p,serializedValue:p,type:d,urlKey:u,prop:n,scopedPropertyName:f,controllerName:t,route:this,parts:r,values:null,scope:o};l[n]=l[u]=l[f]=g,a.push(g),c.push(n)}return{qps:a,map:l,propertyNames:c,states:{inactive:(e,t)=>{let r=l[e];this._qpChanged(e,t,r)},active:(e,t)=>{let r=l[e];return this._qpChanged(e,t,r),this._activeQPChanged(r,t)},allowOverrides:(e,t)=>{let r=l[e];return this._qpChanged(e,t,r),this._updatingQPChanged(r)}}}}static{au(this.prototype,"_qp",[ts])}}function fd(e){return e[dd]}function gd(e,t){if(t.fullQueryParams)return t.fullQueryParams;let r=t.routeInfos.every(e=>e.route),n={...t.queryParams};return e._deserializeQueryParams(t.routeInfos,n),r&&(t.fullQueryParams=n),n}function md(e,t){t.queryParamsFor=t.queryParamsFor||{};let r=e.fullRouteName,n=t.queryParamsFor[r];if(n)return n;let i=gd(e._router,t),s=t.queryParamsFor[r]={},o=hs(e,"_qp").qps;for(let a of o){let e=a.prop in i;s[a.prop]=e?i[a.prop]:yd(a.defaultValue)}return s}function yd(e){return Array.isArray(e)?Qu(e.slice()):e}function bd(e,t){if(e.routable){let r=e.mountPoint;return"application"===t?r:`${r}.${t}`}return t}const _d=pd.prototype.serialize;pd.reopen({mergedProperties:["queryParams"],queryParams:{},templateName:null,controllerName:null,send(...e){if(this._router&&this._router._routerMicrolib||!A())this._router.send(...e);else{let t=e.shift(),r=this.actions[t];if(r)return r.apply(this,e)}},actions:{queryParamsDidChange(e,t,r){let n=hs(this,"_qp").map,i=Object.keys(e).concat(Object.keys(r));for(let s of i){let e=n[s];if(e&&hs(this._optionsForQueryParam(e),"refreshModel")&&this._router.currentState){this.refresh();break}}return!0},finalizeQueryParamChange(e,t,r){if("application"!==this.fullRouteName)return!0;if(!r)return;let n,i=r[Kh].routeInfos,s=this._router,o=s._queryParamsFor(i),a=s._qpUpdates,l=!1;sd(s,i);for(let c of o.qps){let i,s,o=c.route,u=o.controller,h=c.urlKey in e&&c.urlKey;if(a.has(c.urlKey)?(i=hs(u,c.prop),s=o.serializeQueryParam(i,c.urlKey,c.type)):h?(s=e[h],void 0!==s&&(i=o.deserializeQueryParam(s,c.urlKey,c.type))):(s=c.serializedDefaultValue,i=yd(c.defaultValue)),u._qpDelegate=hs(o,"_qp").states.inactive,s!==c.serializedValue){if(r.queryParamsOnly&&!1!==n){let e=hs(o._optionsForQueryParam(c),"replace");e?n=!0:!1===e&&(n=!1)}Ma(u,c.prop,i),l=!0}c.serializedValue=s,c.serializedDefaultValue===s||t.push({value:s,visible:!0,key:h||c.urlKey})}!0===l&&Bi(!1),n&&r.method("replace"),o.qps.forEach(e=>{let t=hs(e.route,"_qp");e.route.controller._qpDelegate=hs(t,"states.active")}),s._qpUpdates.clear()}}});class vd{cache;constructor(){this.cache=new Map}has(e){return this.cache.has(e)}stash(e,t,r){let n=this.cache.get(e);void 0===n&&(n=new Map,this.cache.set(e,n)),n.set(t,r)}lookup(e,t,r){if(!this.has(e))return r;let n=this.cache.get(e);return n.has(t)?n.get(t):r}}let wd=0;function kd(e){return"function"==typeof e}class Sd{parent;matches;enableLoadingSubstates;explicitIndex=!1;options;constructor(e=null,t){this.parent=e,this.enableLoadingSubstates=Boolean(t&&t.enableLoadingSubstates),this.matches=[],this.options=t}route(e,t,r){let n,i=null,s=`/_unused_dummy_error_path_route_${e}/:error`;if(kd(t)?(n={},i=t):kd(r)?(n=t,i=r):n=t||{},this.enableLoadingSubstates&&(Ad(this,`${e}_loading`,{resetNamespace:n.resetNamespace}),Ad(this,`${e}_error`,{resetNamespace:n.resetNamespace,path:s})),i){let t=xd(this,e,n.resetNamespace),r=new Sd(t,this.options);Ad(r,"loading"),Ad(r,"error",{path:s}),i.call(r),Ad(this,e,n,r.generate())}else Ad(this,e,n)}push(e,t,r,n){let i=t.split(".");if(this.options.engineInfo){let e=t.slice(this.options.engineInfo.fullName.length+1),r=Object.assign({localFullName:e},this.options.engineInfo);n&&(r.serializeMethod=n),this.options.addRouteForEngine(t,r)}else if(n)throw new Error(`Defining a route serializer on route '${t}' outside an Engine is not allowed.`);""!==e&&"/"!==e&&"index"!==i[i.length-1]||(this.explicitIndex=!0),this.matches.push(e,t,r)}generate(){let e=this.matches;return this.explicitIndex||this.route("index",{path:"/"}),t=>{for(let r=0;r<e.length;r+=3)t(e[r]).to(e[r+1],e[r+2])}}mount(e,t={}){let r=this.options.resolveRouteMap(e),n=e;t.as&&(n=t.as);let i,s=xd(this,n,t.resetNamespace),o={name:e,instanceId:wd++,mountPoint:s,fullName:s},a=t.path;"string"!=typeof a&&(a=`/${n}`);let l=`/_unused_dummy_error_path_route_${n}/:error`;if(r){let e=!1,t=this.options.engineInfo;t&&(e=!0,this.options.engineInfo=o);let n=Object.assign({engineInfo:o},this.options),a=new Sd(s,n);Ad(a,"loading"),Ad(a,"error",{path:l}),r.class.call(a),i=a.generate(),e&&(this.options.engineInfo=t)}let c=Object.assign({localFullName:"application"},o);if(this.enableLoadingSubstates){let e=`${n}_loading`,r="application_loading",i=Object.assign({localFullName:r},o);Ad(this,e,{resetNamespace:t.resetNamespace}),this.options.addRouteForEngine(e,i),e=`${n}_error`,r="application_error",i=Object.assign({localFullName:r},o),Ad(this,e,{resetNamespace:t.resetNamespace,path:l}),this.options.addRouteForEngine(e,i)}this.options.addRouteForEngine(s,c),this.push(a,s,i)}}function xd(e,t,r){return function(e){return"application"!==e.parent}(e)&&!0!==r?`${e.parent}.${t}`:t}function Ad(e,t,r={},n){let i=xd(e,t,r.resetNamespace);"string"!=typeof r.path&&(r.path=`/${t}`),e.push(r.path,i,n,r.serialize)}class Rd{router;emberRouter;routerJsState;constructor(e,t,r){this.emberRouter=e,this.router=t,this.routerJsState=r}isActiveIntent(e,t,r){let n=this.routerJsState;if(!this.router.isActiveIntent(e,t,void 0,n))return!1;if(void 0!==r&&Object.keys(r).length>0){let i=Object.assign({},r);return this.emberRouter._prepareQueryParams(e,t,i),ud(i,n.queryParams)}return!0}}let Td=new WeakMap;function Ed(e,t={},r={includeAttributes:!1,localizeMapUpdates:!1}){const n=new WeakMap;return e.map((i,s)=>{let{name:o,params:a,paramNames:l,context:c,route:u}=i,h=i;if(Td.has(h)&&r.includeAttributes){let e=Td.get(h);e=function(e,t){let r={get metadata(){return Od(e)}};return!Object.isExtensible(t)||t.hasOwnProperty("metadata")?Object.freeze(Object.assign({},t,r)):Object.assign(t,r)}(u,e);let t=Cd(e,c);return n.set(h,e),r.localizeMapUpdates||Td.set(h,t),t}const d=r.localizeMapUpdates?n:Td;let p={find(t,r){let n,i=[];3===t.length&&(i=e.map(e=>d.get(e)));for(let s=0;e.length>s;s++)if(n=d.get(e[s]),t.call(r,n,s,i))return n},get name(){return o},get paramNames(){return l},get metadata(){return Od(i.route)},get parent(){let t=e[s-1];return void 0===t?null:d.get(t)},get child(){let t=e[s+1];return void 0===t?null:d.get(t)},get localName(){let e=this.name.split(".");return e[e.length-1]},get params(){return a},get queryParams(){return t}};return r.includeAttributes&&(p=Cd(p,c)),n.set(i,p),r.localizeMapUpdates||Td.set(i,p),p})}function Cd(e,t){let r={get attributes(){return t}};return!Object.isExtensible(e)||e.hasOwnProperty("attributes")?Object.freeze(Object.assign({},e,r)):Object.assign(e,r)}function Od(e){return null!=e&&void 0!==e.buildRouteInfoMetadata?e.buildRouteInfoMetadata():null}class Md{constructor(e,t,r,n){this._routePromise=void 0,this._route=null,this.params={},this.isResolved=!1,this.name=t,this.paramNames=r,this.router=e,n&&this._processRoute(n)}getModel(e){return hl.resolve(this.context)}serialize(e){return this.params||{}}resolve(e){return hl.resolve(this.routePromise).then(t=>(Nh(e),t)).then(()=>this.runBeforeModelHook(e)).then(()=>Nh(e)).then(()=>this.getModel(e)).then(t=>(Nh(e),t)).then(t=>this.runAfterModelHook(e,t)).then(t=>this.becomeResolved(e,t))}becomeResolved(e,t){let r,n=this.serialize(t);e&&(this.stashResolvedModel(e,t),e[Qh]=e[Qh]||{},e[Qh][this.name]=n);let i=t===this.context;!("context"in this)&&i||(r=t);let s=Td.get(this),o=new Id(this.router,this.name,this.paramNames,n,this.route,r);return void 0!==s&&Td.set(o,s),o}shouldSupersede(e){if(!e)return!0;let t=e.context===this.context;return e.name!==this.name||"context"in this&&!t||this.hasOwnProperty("params")&&!function(e,t){if(e===t)return!0;if(!e||!t)return!1;for(let r in e)if(e.hasOwnProperty(r)&&e[r]!==t[r])return!1;return!0}(this.params,e.params)}get route(){return null!==this._route?this._route:this.fetchRoute()}set route(e){this._route=e}get routePromise(){return this._routePromise||this.fetchRoute(),this._routePromise}set routePromise(e){this._routePromise=e}log(e,t){e.log&&e.log(this.name+": "+t)}updateRoute(e){return e._internalName=this.name,this.route=e}runBeforeModelHook(e){let t;return e.trigger&&e.trigger(!0,"willResolveModel",e,this.route),this.route&&void 0!==this.route.beforeModel&&(t=this.route.beforeModel(e)),Xh(t)&&(t=null),hl.resolve(t)}runAfterModelHook(e,t){let r,n=this.name;var i;return this.stashResolvedModel(e,t),void 0!==this.route&&void 0!==this.route.afterModel&&(r=this.route.afterModel(t,e)),r=Xh(i=r)?null:i,hl.resolve(r).then(()=>e.resolvedModels[n])}stashResolvedModel(e,t){e.resolvedModels=e.resolvedModels||{},e.resolvedModels[this.name]=t}fetchRoute(){let e=this.router.getRoute(this.name);return this._processRoute(e)}_processRoute(e){return this.routePromise=hl.resolve(e),null!==(t=e)&&"object"==typeof t&&"function"==typeof t.then?(this.routePromise=this.routePromise.then(e=>this.updateRoute(e)),this.route=void 0):e?this.updateRoute(e):void 0;var t}}class Id extends Md{constructor(e,t,r,n,i,s){super(e,t,r,i),this.params=n,this.isResolved=!0,this.context=s}resolve(e){return e&&e.resolvedModels&&(e.resolvedModels[this.name]=this.context),hl.resolve(this)}}class Pd extends Md{constructor(e,t,r,n,i){super(e,t,r,i),this.params={},n&&(this.params=n)}getModel(e){let t=this.params;e&&e[Gh]&&(t={},qh(t,this.params),t.queryParams=e[Gh]);let r,n=this.route;return n.deserialize?r=n.deserialize(t,e):n.model&&(r=n.model(t,e)),r&&Xh(r)&&(r=void 0),hl.resolve(r)}}class Dd extends Md{constructor(e,t,r,n){super(e,t,r),this.context=n,this.serializer=this.router.getSerializer(t)}getModel(e){return void 0!==this.router.log&&this.router.log(this.name+": resolving provided model"),super.getModel(e)}serialize(e){let{paramNames:t,context:r}=this;e||(e=r);let n={};if(Bh(e))return n[t[0]]=e,n;if(this.serializer)return this.serializer.call(null,e,t);if(void 0!==this.route&&this.route.serialize)return this.route.serialize(e,t);if(1!==t.length)return;let i=t[0];return/_id$/.test(i)?n[i]=e.id:n[i]=e,n}}class Nd{constructor(e,t={}){this.router=e,this.data=t}}function jd(e,t,r){let n=e.routeInfos,i=t.resolveIndex>=n.length?n.length-1:t.resolveIndex,s=t.isAborted;throw new zd(r,e.routeInfos[i].route,s,e)}function Ld(e,t){if(t.resolveIndex===e.routeInfos.length)return;let r=e.routeInfos[t.resolveIndex],n=qd.bind(null,e,t);return r.resolve(t).then(n,null,e.promiseLabel("Proceed"))}function qd(e,t,r){let n=e.routeInfos[t.resolveIndex].isResolved;if(e.routeInfos[t.resolveIndex++]=r,!n){let{route:e}=r;void 0!==e&&e.redirect&&e.redirect(r.context,t)}return Nh(t),Ld(e,t)}class Fd{constructor(){this.routeInfos=[],this.queryParams={},this.params={}}promiseLabel(e){let t="";return $h(this.routeInfos,function(e){return""!==t&&(t+="."),t+=e.name,!0}),Wh("'"+t+"': "+e)}resolve(e){let t=this.params;$h(this.routeInfos,e=>(t[e.name]=e.params||{},!0)),e.resolveIndex=0;let r=Ld.bind(null,this,e),n=jd.bind(null,this,e);return hl.resolve(null,this.promiseLabel("Start transition")).then(r,null,this.promiseLabel("Resolve route")).catch(n,this.promiseLabel("Handle error")).then(()=>this)}}class zd{constructor(e,t,r,n){this.error=e,this.route=t,this.wasAborted=r,this.state=n}}class Ud extends Nd{constructor(e,t,r,n=[],i={},s){super(e,s),this.preTransitionState=void 0,this.name=t,this.pivotHandler=r,this.contexts=n,this.queryParams=i}applyToState(e,t){let r=this.router.recognizer.handlersFor(this.name),n=r[r.length-1].handler;return this.applyToHandlers(e,r,n,t,!1)}applyToHandlers(e,t,r,n,i){let s,o,a=new Fd,l=this.contexts.slice(0),c=t.length;if(this.pivotHandler)for(s=0,o=t.length;s<o;++s)if(t[s].handler===this.pivotHandler._internalName){c=s;break}for(s=t.length-1;s>=0;--s){let o=t[s],u=o.handler,h=e.routeInfos[s],d=null;if(d=o.names.length>0?s>=c?this.createParamHandlerInfo(u,o.names,l,h):this.getHandlerInfoForDynamicSegment(u,o.names,l,h,r,s):this.createParamHandlerInfo(u,o.names,l,h),i){d=d.becomeResolved(null,d.context);let e=h&&h.context;o.names.length>0&&void 0!==h.context&&d.context===e&&(d.params=h&&h.params),d.context=e}let p=h;(s>=c||d.shouldSupersede(h))&&(c=Math.min(s,c),p=d),n&&!i&&(p=p.becomeResolved(null,p.context)),a.routeInfos.unshift(p)}if(l.length>0)throw new Error("More context objects were passed than there are dynamic segments for the route: "+r);return n||this.invalidateChildren(a.routeInfos,c),qh(a.queryParams,this.queryParams||{}),n&&e.queryParams&&qh(a.queryParams,e.queryParams),a}invalidateChildren(e,t){for(let r=t,n=e.length;r<n;++r)if(e[r].isResolved){let{name:t,params:n,route:i,paramNames:s}=e[r];e[r]=new Pd(this.router,t,s,n,i)}}getHandlerInfoForDynamicSegment(e,t,r,n,i,s){let o;if(r.length>0){if(o=r[r.length-1],Bh(o))return this.createParamHandlerInfo(e,t,r,n);r.pop()}else{if(n&&n.name===e)return n;if(!this.preTransitionState)return n;{let e=this.preTransitionState.routeInfos[s];o=null==e?void 0:e.context}}return new Dd(this.router,e,t,o)}createParamHandlerInfo(e,t,r,n){let i={},s=t.length,o=[];for(;s--;){let a=n&&e===n.name&&n.params||{},l=r[r.length-1],c=t[s];Bh(l)?i[c]=""+r.pop():a.hasOwnProperty(c)?i[c]=a[c]:o.push(c)}if(o.length>0)throw new Error(`You didn't provide enough string/numeric parameters to satisfy all of the dynamic segments for route ${e}. Missing params: ${o}`);return new Pd(this.router,e,t,i)}}class Bd extends Nd{constructor(e,t,r){super(e,r),this.url=t,this.preTransitionState=void 0}applyToState(e){let t,r,n=new Fd,i=this.router.recognizer.recognize(this.url);if(!i)throw new ed(this.url);let s=!1,o=this.url;function a(e){if(e&&e.inaccessibleByURL)throw new ed(o);return e}for(t=0,r=i.length;t<r;++t){let r=i[t],o=r.handler,l=[];this.router.recognizer.hasRoute(o)&&(l=this.router.recognizer.handlersFor(o)[t].names);let c=new Pd(this.router,o,l,r.params),u=c.route;u?a(u):c.routePromise=c.routePromise.then(a);let h=e.routeInfos[t];s||c.shouldSupersede(h)?(s=!0,n.routeInfos[t]=c):n.routeInfos[t]=h}return qh(n.queryParams,i.queryParams),n}}let $d=class{constructor(e){this._lastQueryParams={},this.state=void 0,this.oldState=void 0,this.activeTransition=void 0,this.currentRouteInfos=void 0,this._changedQueryParams=void 0,this.currentSequence=0,this.log=e,this.recognizer=new Ph,this.reset()}map(e){this.recognizer.map(e,function(e,t){for(let r=t.length-1,n=!0;r>=0&&n;--r){let i=t[r],s=i.handler;e.add(t,{as:s}),n="/"===i.path||""===i.path||".index"===s.slice(-6)}})}hasRoute(e){return this.recognizer.hasRoute(e)}queryParamsTransition(e,t,r,n){if(this.fireQueryParamDidChange(n,e),!t&&this.activeTransition)return this.activeTransition;{let e=new Jh(this,void 0,void 0);return e.queryParamsOnly=!0,r.queryParams=this.finalizeQueryParamChange(n.routeInfos,n.queryParams,e),e[Gh]=n.queryParams,this.toReadOnlyInfos(e,n),this.routeWillChange(e),e.promise=e.promise.then(t=>(e.isAborted||(this._updateURL(e,r),this.didTransition(this.currentRouteInfos),this.toInfos(e,n.routeInfos,!0),this.routeDidChange(e)),t),null,Wh("Transition complete")),e}}transitionByIntent(e,t){try{return this.getTransitionByIntent(e,t)}catch(r){return new Jh(this,e,void 0,r,void 0)}}recognize(e){let t=new Bd(this,e),r=this.generateNewState(t);if(null===r)return r;let n=Ed(r.routeInfos,r.queryParams,{includeAttributes:!1,localizeMapUpdates:!0});return n[n.length-1]}recognizeAndLoad(e){let t=new Bd(this,e),r=this.generateNewState(t);if(null===r)return hl.reject(`URL ${e} was not recognized`);let n=new Jh(this,t,r,void 0);return n.then(()=>{let e=Ed(r.routeInfos,n[Gh],{includeAttributes:!0,localizeMapUpdates:!1});return e[e.length-1]})}generateNewState(e){try{return e.applyToState(this.state,!1)}catch(t){return null}}getTransitionByIntent(e,t){let r,n=!!this.activeTransition,i=n?this.activeTransition[Kh]:this.state,s=e.applyToState(i,t),o=Hh(i.queryParams,s.queryParams);if(Hd(s.routeInfos,i.routeInfos)){if(o){let e=this.queryParamsTransition(o,n,i,s);return e.queryParamsOnly=!0,e}return this.activeTransition||new Jh(this,void 0,void 0)}if(t){let e=new Jh(this,void 0,s);return e.isIntermediate=!0,this.toReadOnlyInfos(e,s),this.setupContexts(s,e),this.routeWillChange(e),this.activeTransition}return r=new Jh(this,e,s,void 0,this.activeTransition),function(e,t){if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;++r){if(e[r].name!==t[r].name)return!1;if(!Vd(e[r].params,t[r].params))return!1}return!0}(s.routeInfos,i.routeInfos)&&(r.queryParamsOnly=!0),this.toReadOnlyInfos(r,s),this.activeTransition&&this.activeTransition.redirect(r),this.activeTransition=r,r.promise=r.promise.then(e=>this.finalizeTransition(r,e),null,Wh("Settle transition promise when transition is finalized")),n||this.notifyExistingHandlers(s,r),this.fireQueryParamDidChange(s,o),r}doTransition(e,t=[],r=!1){let n,i=t[t.length-1],s={};if(i&&Object.prototype.hasOwnProperty.call(i,"queryParams")&&(s=t.pop().queryParams),void 0===e){Uh(this,"Updating query params");let{routeInfos:e}=this.state;n=new Ud(this,e[e.length-1].name,void 0,[],s)}else"/"===e.charAt(0)?(Uh(this,"Attempting URL transition to "+e),n=new Bd(this,e)):(Uh(this,"Attempting transition to "+e),n=new Ud(this,e,void 0,t,s));return this.transitionByIntent(n,r)}finalizeTransition(e,t){try{Uh(e.router,e.sequence,"Resolved all models on destination route; finalizing transition.");let r=t.routeInfos;return this.setupContexts(t,e),e.isAborted?(this.state.routeInfos=this.currentRouteInfos,hl.reject(Zh(e))):(this._updateURL(e,t),e.isActive=!1,this.activeTransition=void 0,this.triggerEvent(this.currentRouteInfos,!0,"didTransition",[]),this.didTransition(this.currentRouteInfos),this.toInfos(e,t.routeInfos,!0),this.routeDidChange(e),Uh(this,e.sequence,"TRANSITION COMPLETE."),r[r.length-1].route)}catch(n){if("object"!=typeof(r=n)||null===r||"TRANSITION_ABORTED"!==r.code){let t=e[Kh].routeInfos;e.trigger(!0,"error",n,e,t[t.length-1].route),e.abort()}throw n}var r}setupContexts(e,t){let r,n,i,s=this.partitionRoutes(this.state,e);for(r=0,n=s.exited.length;r<n;r++)i=s.exited[r].route,delete i.context,void 0!==i&&(void 0!==i._internalReset&&i._internalReset(!0,t),void 0!==i.exit&&i.exit(t));let o=this.oldState=this.state;this.state=e;let a=this.currentRouteInfos=s.unchanged.slice();try{for(r=0,n=s.reset.length;r<n;r++)i=s.reset[r].route,void 0!==i&&void 0!==i._internalReset&&i._internalReset(!1,t);for(r=0,n=s.updatedContext.length;r<n;r++)this.routeEnteredOrUpdated(a,s.updatedContext[r],!1,t);for(r=0,n=s.entered.length;r<n;r++)this.routeEnteredOrUpdated(a,s.entered[r],!0,t)}catch(l){throw this.state=o,this.currentRouteInfos=o.routeInfos,l}this.state.queryParams=this.finalizeQueryParamChange(a,e.queryParams,t)}fireQueryParamDidChange(e,t){t&&(this._changedQueryParams=t.all,this.triggerEvent(e.routeInfos,!0,"queryParamsDidChange",[t.changed,t.all,t.removed]),this._changedQueryParams=void 0)}routeEnteredOrUpdated(e,t,r,n){let i=t.route,s=t.context;function o(i){return r&&void 0!==i.enter&&i.enter(n),Nh(n),i.context=s,void 0!==i.contextDidChange&&i.contextDidChange(),void 0!==i.setup&&i.setup(s,n),Nh(n),e.push(t),i}return void 0===i?t.routePromise=t.routePromise.then(o):o(i),!0}partitionRoutes(e,t){let r,n,i,s=e.routeInfos,o=t.routeInfos,a={updatedContext:[],exited:[],entered:[],unchanged:[],reset:[]},l=!1;for(n=0,i=o.length;n<i;n++){let e=s[n],t=o[n];e&&e.route===t.route||(r=!0),r?(a.entered.push(t),e&&a.exited.unshift(e)):l||e.context!==t.context?(l=!0,a.updatedContext.push(t)):a.unchanged.push(e)}for(n=o.length,i=s.length;n<i;n++)a.exited.unshift(s[n]);return a.reset=a.updatedContext.slice(),a.reset.reverse(),a}_updateURL(e,t){let r=e.urlMethod;if(!r)return;let{routeInfos:n}=t,{name:i}=n[n.length-1],s={};for(let o=n.length-1;o>=0;--o){let e=n[o];qh(s,e.params),e.route.inaccessibleByURL&&(r=null)}if(r){s.queryParams=e._visibleQueryParams||t.queryParams;let n=this.recognizer.generate(i,s),o=e.isCausedByInitialTransition,a="replace"===r&&!e.isCausedByAbortingTransition,l=e.queryParamsOnly&&"replace"===r,c="replace"===r&&e.isCausedByAbortingReplaceTransition;o||a||l||c?this.replaceURL(n):this.updateURL(n)}}finalizeQueryParamChange(e,t,r){for(let s in t)t.hasOwnProperty(s)&&null===t[s]&&delete t[s];let n=[];this.triggerEvent(e,!0,"finalizeQueryParamChange",[t,n,r]),r&&(r._visibleQueryParams={});let i={};for(let s=0,o=n.length;s<o;++s){let e=n[s];i[e.key]=e.value,r&&!1!==e.visible&&(r._visibleQueryParams[e.key]=e.value)}return i}toReadOnlyInfos(e,t){let r=this.state.routeInfos;this.fromInfos(e,r),this.toInfos(e,t.routeInfos),this._lastQueryParams=t.queryParams}fromInfos(e,t){if(void 0!==e&&t.length>0){let r=Ed(t,Object.assign({},this._lastQueryParams),{includeAttributes:!0,localizeMapUpdates:!1});e.from=r[r.length-1]||null}}toInfos(e,t,r=!1){if(void 0!==e&&t.length>0){let n=Ed(t,Object.assign({},e[Gh]),{includeAttributes:r,localizeMapUpdates:!1});e.to=n[n.length-1]||null}}notifyExistingHandlers(e,t){let r,n,i,s,o=this.state.routeInfos;for(n=o.length,r=0;r<n&&(i=o[r],s=e.routeInfos[r],s&&i.name===s.name);r++)s.isResolved;this.triggerEvent(o,!0,"willTransition",[t]),this.routeWillChange(t),this.willTransition(o,e.routeInfos,t)}reset(){this.state&&$h(this.state.routeInfos.slice().reverse(),function(e){let t=e.route;return void 0!==t&&void 0!==t.exit&&t.exit(),!0}),this.oldState=void 0,this.state=new Fd,this.currentRouteInfos=void 0}handleURL(e){return"/"!==e.charAt(0)&&(e="/"+e),this.doTransition(e).method(null)}transitionTo(e,...t){return"object"==typeof e?(t.push(e),this.doTransition(void 0,t,!1)):this.doTransition(e,t)}intermediateTransitionTo(e,...t){return this.doTransition(e,t,!0)}refresh(e){let t=this.activeTransition,r=t?t[Kh]:this.state,n=r.routeInfos;void 0===e&&(e=n[0].route),Uh(this,"Starting a refresh transition");let i=n[n.length-1].name,s=new Ud(this,i,e,[],this._changedQueryParams||r.queryParams),o=this.transitionByIntent(s,!1);return t&&"replace"===t.urlMethod&&o.method(t.urlMethod),o}replaceWith(e){return this.doTransition(e).method("replace")}generate(e,...t){let r=Fh(t),n=r[0],i=r[1],s=new Ud(this,e,void 0,n).applyToState(this.state,!1),o={};for(let a=0,l=s.routeInfos.length;a<l;++a)qh(o,s.routeInfos[a].serialize());return o.queryParams=i,this.recognizer.generate(e,o)}applyIntent(e,t){let r=new Ud(this,e,void 0,t),n=this.activeTransition&&this.activeTransition[Kh]||this.state;return r.applyToState(n,!1)}isActiveIntent(e,t,r,n){let i,s,o=n||this.state,a=o.routeInfos;if(!a.length)return!1;let l=a[a.length-1].name,c=this.recognizer.handlersFor(l),u=0;for(s=c.length;u<s&&(i=a[u],i.name!==e);++u);if(u===c.length)return!1;let h=new Fd;h.routeInfos=a.slice(0,u+1),c=c.slice(0,u+1);let d=Hd(new Ud(this,l,void 0,t).applyToHandlers(h,c,l,!0,!0).routeInfos,h.routeInfos);if(!r||!d)return d;let p={};qh(p,r);let f=o.queryParams;for(let g in f)f.hasOwnProperty(g)&&p.hasOwnProperty(g)&&(p[g]=f[g]);return d&&!Hh(p,r)}isActive(e,...t){let[r,n]=Fh(t);return this.isActiveIntent(e,r,n)}trigger(e,...t){this.triggerEvent(this.currentRouteInfos,!1,e,t)}};function Hd(e,t){if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;++r)if(e[r]!==t[r])return!1;return!0}function Vd(e,t){if(e===t)return!0;if(!e||!t)return!1;let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0,s=r.length;i<s;++i){let n=r[i];if(e[n]!==t[n])return!1}return!0}function Wd(){return this}const{slice:Kd}=Array.prototype;class Qd extends(pc.extend(Fc)){_routerMicrolib;_didSetupRouter=!1;_initialTransitionStarted=!1;currentURL=null;currentRouteName=null;currentPath=null;currentRoute=null;_qpCache=Object.create(null);_qpUpdates=new Set;_queuedQPChanges={};_bucketCache;_toplevelView=null;_handledErrors=new Set;_engineInstances=Object.create(null);_engineInfoByRoute=Object.create(null);_routerService;_slowTransitionTimer=null;namespace;static dslCallbacks;static map(e){return this.dslCallbacks||(this.dslCallbacks=[],this.reopenClass({dslCallbacks:this.dslCallbacks})),this.dslCallbacks.push(e),this}static _routePath(e){let t,r,n,i=[];function s(e,t){for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}for(let o=1;o<e.length;o++){for(t=e[o].name,r=t.split("."),n=Kd.call(i);n.length&&!s(n,r);)n.shift();i.push(...r.slice(n.length))}return i.join(".")}constructor(e){super(e),this._resetQueuedQueryParameterChanges(),this.namespace=e.lookup("application:main");let t=e.lookup(Uo`-bucket-cache:main`);this._bucketCache=t;let r=e.lookup("service:router");this._routerService=r}_initRouterJs(){let e=hs(this,"location"),t=this;const r=s(this);let n=Object.create(null),i=this._routerMicrolib=new class extends $d{getRoute(e){let i=e,s=r,o=t._engineInfoByRoute[i];o&&(s=t._getEngineInstance(o),i=o.localFullName);let a=`route:${i}`,l=s.lookup(a);if(n[e])return l;if(n[e]=!0,!l){let e=s.factoryFor("route:basic").class;s.register(a,class extends e{}),l=s.lookup(a)}if(l._setRouteName(i),o&&!function(e){return e.serialize===_d}(l))throw new Error("Defining a custom serialize method on an Engine route is not supported.");return l}getSerializer(e){let r=t._engineInfoByRoute[e];if(r)return r.serializeMethod||_d}updateURL(r){bo(()=>{e.setURL(r),Ma(t,"currentURL",r)})}didTransition(e){t.didTransition(e)}willTransition(e,r){t.willTransition(e,r)}triggerEvent(e,r,n,i){return ep.bind(t)(e,r,n,i)}routeWillChange(e){t.trigger("routeWillChange",e),t._routerService.trigger("routeWillChange",e),e.isIntermediate&&t.set("currentRoute",e.to)}routeDidChange(e){t.set("currentRoute",e.to),bo(()=>{t.trigger("routeDidChange",e),t._routerService.trigger("routeDidChange",e)})}transitionDidError(e,r){return e.wasAborted||r.isAborted?Zh(r):(r.trigger(!1,"error",e.error,r,e.route),t._isErrorHandled(e.error)?(r.rollback(),this.routeDidChange(r),e.error):(r.abort(),e.error))}replaceURL(r){e.replaceURL?bo(()=>{e.replaceURL(r),Ma(t,"currentURL",r)}):this.updateURL(r)}},o=this.constructor.dslCallbacks||[Wd],a=this._buildDSL();a.route("application",{path:"/",resetNamespace:!0,overrideNameAssertion:!0},function(){for(let e=0;e<o.length;e++)o[e].call(this)}),i.map(a.generate())}_buildDSL(){let e=this._hasModuleBasedResolver(),t=this;const r=s(this);let n={enableLoadingSubstates:e,resolveRouteMap:e=>r.factoryFor(`route-map:${e}`),addRouteForEngine(e,r){t._engineInfoByRoute[e]||(t._engineInfoByRoute[e]=r)}};return new Sd(null,n)}_resetQueuedQueryParameterChanges(){this._queuedQPChanges={}}_hasModuleBasedResolver(){let e=hs(s(this),"application.__registry__.resolver.moduleBasedResolver");return Boolean(e)}startRouting(){if(this.setupRouter()){let e=hs(this,"initialURL");void 0===e&&(e=hs(this,"location").getURL());let t=this.handleURL(e);if(t&&t.error)throw t.error}}setupRouter(){if(this._didSetupRouter)return!1;this._didSetupRouter=!0,this._setupLocation();let e=hs(this,"location");return!hs(e,"cancelRouterSetup")&&(this._initRouterJs(),e.onUpdateURL(e=>{this.handleURL(e)}),!0)}_setOutlets(){if(this.isDestroying||this.isDestroyed)return;let e=this._routerMicrolib.currentRouteInfos;if(!e)return;let t=null,r=null;for(let n of e){let e=fd(n.route);if(!e)break;{let n={render:e,outlets:{main:void 0}};r?r.outlets.main=n:t=n,r=n}}if(null!==t)if(this._toplevelView)this._toplevelView.setOutletState(t);else{let e=s(this),r=e.factoryFor("view:-outlet"),n=e.lookup("application:main"),i=e.lookup("-environment:main"),o=e.lookup("template:-outlet");this._toplevelView=r.create({environment:i,template:o,application:n}),this._toplevelView.setOutletState(t);let a=e.lookup("-application-instance:main");a&&a.didCreateRootView(this._toplevelView)}}handleURL(e){let t=e.split(/#(.+)?/)[0];return this._doURLTransition("handleURL",t)}_doURLTransition(e,t){this._initialTransitionStarted=!0;let r=this._routerMicrolib[e](t||"/");return np(r,this),r}transitionTo(...e){if(cd(e[0]))return this._doURLTransition("transitionTo",e[0]);let{routeName:t,models:r,queryParams:n}=id(e);return this._doTransition(t,r,n)}intermediateTransitionTo(e,...t){this._routerMicrolib.intermediateTransitionTo(e,...t),rp(this)}replaceWith(...e){return this.transitionTo(...e).method("replace")}generate(e,...t){let r=this._routerMicrolib.generate(e,...t);return this.location.formatURL(r)}isActive(e){return this._routerMicrolib.isActive(e)}isActiveIntent(e,t,r){return this.currentState.isActiveIntent(e,t,r)}send(e,...t){this._routerMicrolib.trigger(e,...t)}hasRoute(e){return this._routerMicrolib.hasRoute(e)}reset(){this._didSetupRouter=!1,this._initialTransitionStarted=!1,this._routerMicrolib&&this._routerMicrolib.reset()}willDestroy(){this._toplevelView&&(this._toplevelView.destroy(),this._toplevelView=null),super.willDestroy(),this.reset();let e=this._engineInstances;for(let t in e){let r=e[t];for(let e in r)fo(r[e],"destroy")}}_activeQPChanged(e,t){this._queuedQPChanges[e]=t,bo(this,this._fireQueryParamTransition)}_updatingQPChanged(e){this._qpUpdates.add(e)}_fireQueryParamTransition(){this.transitionTo({queryParams:this._queuedQPChanges}),this._resetQueuedQueryParameterChanges()}_setupLocation(){let e=this.location,t=this.rootURL,r=s(this);"string"==typeof e&&(e=Ma(this,"location",r.lookup(`location:${e}`))),null!==e&&"object"==typeof e&&(t&&Ma(e,"rootURL",t),"function"==typeof e.initState&&e.initState())}_serializeQueryParams(e,t){ip(this,e,t,(e,r,n)=>{if(n)delete t[e],t[n.urlKey]=n.route.serializeQueryParam(r,n.urlKey,n.type);else{if(void 0===r)return;t[e]=this._serializeQueryParam(r,Au(r))}})}_serializeQueryParam(e,t){return null==e?e:"array"===t?JSON.stringify(e):`${e}`}_deserializeQueryParams(e,t){ip(this,e,t,(e,r,n)=>{n&&(delete t[e],t[n.prop]=n.route.deserializeQueryParam(r,n.urlKey,n.type))})}_deserializeQueryParam(e,t){return null==e?e:"boolean"===t?"true"===e:"number"===t?Number(e).valueOf():"array"===t?Qu(JSON.parse(e)):e}_pruneDefaultQueryParamValues(e,t){let r=this._queryParamsFor(e);for(let n in t){let e=r.map[n];e&&e.serializedDefaultValue===t[n]&&delete t[n]}}_doTransition(e,t,r,n){let i=e||function(e){let t=e.activeTransition?e.activeTransition[Kh].routeInfos:e.state.routeInfos;return t[t.length-1].name}(this._routerMicrolib);this._initialTransitionStarted=!0;let s={};this._processActiveTransitionQueryParams(i,t,s,r),Object.assign(s,r),this._prepareQueryParams(i,t,s,Boolean(n));let o=this._routerMicrolib.transitionTo(i,...t,{queryParams:s});return np(o,this),o}_processActiveTransitionQueryParams(e,t,r,n){if(!this._routerMicrolib.activeTransition)return;let i={},s=this._qpUpdates,o=gd(this,this._routerMicrolib.activeTransition[Kh]);for(let a in o)s.has(a)||(i[a]=o[a]);this._fullyScopeQueryParams(e,t,n),this._fullyScopeQueryParams(e,t,i),Object.assign(r,i)}_prepareQueryParams(e,t,r,n){let i=tp(this,e,t);this._hydrateUnsuppliedQueryParams(i,r,Boolean(n)),this._serializeQueryParams(i.routeInfos,r),n||this._pruneDefaultQueryParamValues(i.routeInfos,r)}_getQPMeta(e){let t=e.route;return t&&hs(t,"_qp")}_queryParamsFor(e){let t=e[e.length-1].name,r=this._qpCache[t];if(void 0!==r)return r;let n,i=!0,s={},o=[];for(let l of e)if(n=this._getQPMeta(l),n){for(let e of n.qps)o.push(e);Object.assign(s,n.map)}else i=!1;let a={qps:o,map:s};return i&&(this._qpCache[t]=a),a}_fullyScopeQueryParams(e,t,r){let n,i=tp(this,e,t).routeInfos;for(let s of i)if(n=this._getQPMeta(s),n)for(let e of n.qps){let t=e.prop in r&&e.prop||e.scopedPropertyName in r&&e.scopedPropertyName||e.urlKey in r&&e.urlKey;t&&t!==e.scopedPropertyName&&(r[e.scopedPropertyName]=r[t],delete r[t])}}_hydrateUnsuppliedQueryParams(e,t,r){let n,i,s,o=e.routeInfos,a=this._bucketCache;for(let l of o)if(n=this._getQPMeta(l),n)for(let r=0,o=n.qps.length;r<o;++r)if(i=n.qps[r],s=i.prop in t&&i.prop||i.scopedPropertyName in t&&i.scopedPropertyName||i.urlKey in t&&i.urlKey,s)s!==i.scopedPropertyName&&(t[i.scopedPropertyName]=t[s],delete t[s]);else{let r=ad(i.route.fullRouteName,i.parts,e.params);t[i.scopedPropertyName]=a.lookup(r,i.prop,i.defaultValue)}}_scheduleLoadingEvent(e,t){this._cancelSlowTransitionTimer(),this._slowTransitionTimer=_o("routerTransitions",this,this._handleSlowTransition,e,t)}currentState=null;targetState=null;_handleSlowTransition(e,t){if(!this._routerMicrolib.activeTransition)return;let r=new Rd(this,this._routerMicrolib,this._routerMicrolib.activeTransition[Kh]);this.set("targetState",r),e.trigger(!0,"loading",e,t)}_cancelSlowTransitionTimer(){this._slowTransitionTimer&&wo(this._slowTransitionTimer),this._slowTransitionTimer=null}_markErrorAsHandled(e){this._handledErrors.add(e)}_isErrorHandled(e){return this._handledErrors.has(e)}_clearHandledError(e){this._handledErrors.delete(e)}_getEngineInstance({name:e,instanceId:t,mountPoint:r}){let n=this._engineInstances,i=n[e];i||(i=Object.create(null),n[e]=i);let o=i[t];return o||(o=s(this).buildChildEngineInstance(e,{routable:!0,mountPoint:r}),o.boot(),i[t]=o),o}}function Gd(e,t){for(let r=e.length-1;r>=0;--r){let n=e[r],i=n.route;if(void 0!==i&&!0!==t(i,n))return}}let Yd={willResolveModel(e,t,r){this._scheduleLoadingEvent(t,r)},error(e,t,r){let n=this,i=e[e.length-1];Gd(e,(e,r)=>{if(r!==i){let r=Zd(e,"error");if(r)return n._markErrorAsHandled(t),n.intermediateTransitionTo(r,t),!1}let s=Jd(e,"error");return!s||(n._markErrorAsHandled(t),n.intermediateTransitionTo(s,t),!1)}),function(e,t){let r,n=[];r=e&&"object"==typeof e&&"object"==typeof e.errorThrown?e.errorThrown:e,t&&n.push(t),r&&(r.message&&n.push(r.message),r.stack&&n.push(r.stack),"string"==typeof r&&n.push(r)),console.error(...n)}(t,`Error while processing route: ${r.targetName}`)},loading(e,t){let r=this,n=e[e.length-1];Gd(e,(e,i)=>{if(i!==n){let t=Zd(e,"loading");if(t)return r.intermediateTransitionTo(t),!1}let s=Jd(e,"loading");return s?(r.intermediateTransitionTo(s),!1):t.pivotHandler!==e})}};function Jd(e,t){let r=s(e),{routeName:n,fullRouteName:i,_router:o}=e,a=`${i}_${t}`;return Xd(r,o,`${n}_${t}`,a)?a:""}function Zd(e,t){let r=s(e),{routeName:n,fullRouteName:i,_router:o}=e,a="application"===i?t:`${i}.${t}`;return Xd(r,o,"application"===n?t:`${n}.${t}`,a)?a:""}function Xd(e,t,r,n){let i=t.hasRoute(n),s=e.factoryFor(`template:${r}`)||e.factoryFor(`route:${r}`);return i&&s}function ep(e,t,r,n){if(!e){if(t)return;throw new Error(`Can't trigger action '${r}' because your app hasn't finished transitioning into its first route. To trigger an action on destination routes during a transition, you can call \`.send()\` on the \`Transition\` object passed to the \`model/beforeModel/afterModel\` hooks.`)}let i,s,o,a=!1;for(let c=e.length-1;c>=0;c--)if(i=e[c],s=i.route,o=s&&s.actions&&s.actions[r],o){if(!0!==o.apply(s,n))return void("error"===r&&s._router._markErrorAsHandled(n[0]));a=!0}let l=Yd[r];if(l)l.call(this,e,...n);else if(!a&&!t)throw new Error(`Nothing handled the action '${r}'. If you did handle the action, this error can be caused by returning true from an action handler in a controller, causing the action to bubble.`)}function tp(e,t,r){let n=e._routerMicrolib.applyIntent(t,r),{routeInfos:i,params:s}=n;for(let o of i)o.isResolved?s[o.name]=o.params:s[o.name]=o.serialize(o.context);return n}function rp(e){let t=e._routerMicrolib.currentRouteInfos;if(0===t.length)return;let r=Qd._routePath(t),n=t[t.length-1].name,i=e.location.getURL();Ma(e,"currentPath",r),Ma(e,"currentRouteName",n),Ma(e,"currentURL",i)}function np(e,t){let r=new Rd(t,t._routerMicrolib,e[Kh]);t.currentState||t.set("currentState",r),t.set("targetState",r),e.promise=e.catch(e=>{if(!t._isErrorHandled(e))throw e;t._clearHandledError(e)},"Transition Error")}function ip(e,t,r,n){let i=e._queryParamsFor(t);for(let s in r)Object.prototype.hasOwnProperty.call(r,s)&&n(s,r[s],i.map[s])}function sp(e){return void 0!==e.hash?e.hash.substring(0):""}Qd.reopen({didTransition:function(){rp(this),this._cancelSlowTransitionTimer(),this.notifyPropertyChange("url"),this.set("currentState",this.targetState)},willTransition:function(){},rootURL:"/",location:"hash",url:ts(function(){let e=hs(this,"location");if("string"!=typeof e)return e.getURL()})});class op extends pc{_hashchangeHandler;_location;init(){this.location=this._location??window.location,this._hashchangeHandler=void 0}getHash(){return sp(this.location)}getURL(){let e=this.getHash().substring(1),t=e;return"/"!==t[0]&&(t="/",e&&(t+=`#${e}`)),t}setURL(e){this.location.hash=e,this.lastSetURL=e}replaceURL(e){this.location.replace(`#${e}`),this.lastSetURL=e}lastSetURL=null;onUpdateURL(e){this._removeEventListener(),this._hashchangeHandler=mo(this,function(){let t=this.getURL();this.lastSetURL!==t&&(this.lastSetURL=null,e(t))}),window.addEventListener("hashchange",this._hashchangeHandler)}formatURL(e){return`#${e}`}willDestroy(){this._removeEventListener()}_removeEventListener(){this._hashchangeHandler&&window.removeEventListener("hashchange",this._hashchangeHandler)}}let ap=!1;function lp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t,r;return t=16*Math.random()|0,r="x"===e?t:3&t|8,r.toString(16)})}class cp extends pc{history;_previousURL;_popstateHandler;rootURL="/";getHash(){return sp(this.location)}init(){this._super(...arguments);let e=document.querySelector("base"),t="";null!==e&&e.hasAttribute("href")&&(t=e.getAttribute("href")??""),this.baseURL=t,this.location=this.location??window.location,this._popstateHandler=void 0}initState(){let e=this.history??window.history;this.history=e;let{state:t}=e,r=this.formatURL(this.getURL());t&&t.path===r?this._previousURL=this.getURL():this.replaceState(r)}getURL(){let{location:e,rootURL:t,baseURL:r}=this,n=e.pathname;t=t.replace(/\/$/,""),r=r.replace(/\/$/,"");let i=n.replace(new RegExp(`^${r}(?=/|$)`),"").replace(new RegExp(`^${t}(?=/|$)`),"").replace(/\/\//g,"/");return i+=(e.search||"")+this.getHash(),i}setURL(e){let{state:t}=this.history;e=this.formatURL(e),t&&t.path===e||this.pushState(e)}replaceURL(e){let{state:t}=this.history;e=this.formatURL(e),t&&t.path===e||this.replaceState(e)}pushState(e){let t={path:e,uuid:lp()};this.history.pushState(t,"",e),this._previousURL=this.getURL()}replaceState(e){let t={path:e,uuid:lp()};this.history.replaceState(t,"",e),this._previousURL=this.getURL()}onUpdateURL(e){this._removeEventListener(),this._popstateHandler=()=>{(ap||(ap=!0,this.getURL()!==this._previousURL))&&e(this.getURL())},window.addEventListener("popstate",this._popstateHandler)}formatURL(e){let{rootURL:t,baseURL:r}=this;return""!==e?(t=t.replace(/\/$/,""),r=r.replace(/\/$/,"")):"/"===r[0]&&"/"===t[0]&&(r=r.replace(/\/$/,"")),r+t+e}willDestroy(){this._removeEventListener()}_removeEventListener(){this._popstateHandler&&window.removeEventListener("popstate",this._popstateHandler)}}class up extends pc{updateCallback;initState(){this._super(...arguments);let{rootURL:e}=this}getURL(){let{path:e,rootURL:t}=this;return t=t.replace(/\/$/,""),e.replace(new RegExp(`^${t}(?=/|$)`),"")}setURL(e){this.path=e}onUpdateURL(e){this.updateCallback=e}handleURL(e){this.path=e,this.updateCallback&&this.updateCallback(e)}formatURL(e){let{rootURL:t}=this;return""!==e&&(t=t.replace(/\/$/,"")),t+e}}function hp(e){return mi(new pp(e),dp)}up.reopen({path:"",rootURL:"/"});class dp extends Function{readOnly(){return _i(this).readOnly(),this}oneWay(){return _i(this).oneWay(),this}meta(e){let t=_i(this);if(0===arguments.length)return t._meta||{};t._meta=e}}class pp extends di{altKey;constructor(e){super(),this.altKey=e}setup(e,t,r,n){super.setup(e,t,r,n),si.add(this)}get(e,t){let r,n=tt(e),i=Zt(e),s=Xt(e,t,i);zt(()=>{r=hs(e,this.altKey)});let o=n.revisionFor(t);return void 0!==o&&ot(s,o)||(ut(s,li(e,this.altKey,i,n)),n.setRevisionFor(t,st(s)),oi(n,t,r)),Mt(s),r}set(e,t,r){return Ma(e,this.altKey,r)}readOnly(){this.set=fp}oneWay(){this.set=gp}}function fp(e,t){throw new Error(`Cannot set read-only property '${t}' on object: ${D(e)}`)}function gp(e,t,r){return is(e,t,null),Ma(e,t,r)}function mp(e){return hp(e).readOnly()}const yp=/[ _]/g,bp=new Jn(1e3,e=>{return(t=e,xp.get(t)).replace(yp,"-");var t}),_p=/^(-|_)+(.)?/,vp=/(.)(-|_|\.|\s)+(.)?/g,wp=/(^|\/|\.)([a-z])/g,kp=new Jn(1e3,e=>{let t=(e,t,r)=>r?`_${r.toUpperCase()}`:"",r=(e,t,r,n)=>t+(n?n.toUpperCase():""),n=e.split("/");for(let i=0;i<n.length;i++)n[i]=n[i].replace(_p,t).replace(vp,r);return n.join("/").replace(wp,e=>e.toUpperCase())}),Sp=/([a-z\d])([A-Z])/g,xp=new Jn(1e3,e=>e.replace(Sp,"$1_$2").toLowerCase());function Ap(e){return bp.get(e)}function Rp(e){return Object.hasOwnProperty.call(e.since,"enabled")||w._ALL_DEPRECATIONS_ENABLED}let Tp=parseFloat(w._OVERRIDE_DEPRECATION_VERSION??Zn);function Ep(e){return function(e,t=Tp){let r=e.replace(/(\.0+)/g,"");return t>=parseFloat(r)}(e.until)}const Cp={DEPRECATE_IMPORT_INJECT:(Op={for:"ember-source",id:"importing-inject-from-ember-service",since:{available:"6.2.0",enabled:"6.3.0"},until:"7.0.0",url:"https://deprecations.emberjs.com/id/importing-inject-from-ember-service"},{options:Op,test:!Rp(Op),isEnabled:Rp(Op)||Ep(Op),isRemoved:Ep(Op)})};var Op;function Mp(...e){return function(e,t){const{options:r}=t;if(t.isRemoved)throw new Error(`The API deprecated by ${r.id} was removed in ember-source ${r.until}. The message was: Importing \`inject\` from \`@ember/service\` is deprecated. Please import \`service\` instead.. Please see ${r.url} for more details.`)}(0,Cp.DEPRECATE_IMPORT_INJECT),bs("service",...e)}function Ip(...e){return bs("service",...e)}class Pp extends Bc{static isServiceFactory=!0}const Dp=Object.freeze(Object.defineProperty({__proto__:null,default:Pp,inject:Mp,service:Ip},Symbol.toStringTag,{value:"Module"})),Np=Symbol("ROUTER");function jp(e,t){return"/"===t?e:e.substring(t.length)}class Lp extends(Pp.extend(Fc)){[Np];get _router(){let e=this[Np];if(void 0!==e)return e;let t=n(this).lookup("router:main");return this[Np]=t}willDestroy(){super.willDestroy(),this[Np]=void 0}transitionTo(...e){if(cd(e[0]))return this._router._doURLTransition("transitionTo",e[0]);let{routeName:t,models:r,queryParams:n}=id(e);return this._router._doTransition(t,r,n,!0)}replaceWith(...e){return this.transitionTo(...e).method("replace")}urlFor(e,...t){return this._router.setupRouter(),this._router.generate(e,...t)}isActive(...e){let{routeName:t,models:r,queryParams:n}=id(e);this._router.setupRouter();let i=this._router._routerMicrolib;if(Mt(Xt(this._router,"currentURL")),!i.isActiveIntent(t,r))return!1;if(Object.keys(n).length>0){let e=t;n=Object.assign({},n),this._router._prepareQueryParams(e,r,n,!0);let s=Object.assign({},i.state.queryParams);return this._router._prepareQueryParams(e,r,s,!0),ud(n,s)}return!0}recognize(e){this._router.setupRouter();let t=jp(e,this.rootURL);return this._router._routerMicrolib.recognize(t)}recognizeAndLoad(e){this._router.setupRouter();let t=jp(e,this.rootURL);return this._router._routerMicrolib.recognizeAndLoad(t)}refresh(e){if(!e)return this._router._routerMicrolib.refresh();let t=n(this).lookup(`route:${e}`);return this._router._routerMicrolib.refresh(t)}static{su(this.prototype,"currentRouteName",[mp("_router.currentRouteName")])}#c=void lu(this,"currentRouteName");static{su(this.prototype,"currentURL",[mp("_router.currentURL")])}#u=void lu(this,"currentURL");static{su(this.prototype,"location",[mp("_router.location")])}#h=void lu(this,"location");static{su(this.prototype,"rootURL",[mp("_router.rootURL")])}#d=void lu(this,"rootURL");static{su(this.prototype,"currentRoute",[mp("_router.currentRoute")])}#p=void lu(this,"currentRoute")}class qp extends Pp{[Np];get router(){let e=this[Np];if(void 0!==e)return e;let t=n(this).lookup("router:main");return t.setupRouter(),this[Np]=t}hasRoute(e){return this.router.hasRoute(e)}transitionTo(e,t,r,n){let i=this.router._doTransition(e,t,r);return n&&i.method("replace"),i}normalizeQueryParams(e,t,r){this.router._prepareQueryParams(e,t,r)}_generateURL(e,t,r){let n={};return r&&(Object.assign(n,r),this.normalizeQueryParams(e,t,n)),this.router.generate(e,...t,{queryParams:n})}generateURL(e,t,r){if(this.router._initialTransitionStarted)return this._generateURL(e,t,r);try{return this._generateURL(e,t,r)}catch(n){return}}isActiveForRoute(e,t,r,n){let i=this.router._routerMicrolib.recognizer.handlersFor(r),s=i[i.length-1].handler,o=function(e,t){let r=0;for(let n=0;n<t.length&&(r+=t[n].names.length,t[n].handler!==e);n++);return r}(r,i);return e.length>o&&(r=s),n.isActiveIntent(r,e,t)}}qp.reopen({targetState:mp("router.targetState"),currentState:mp("router.currentState"),currentRouteName:mp("router.currentRouteName"),currentPath:mp("router.currentPath")});class Fp{constructor(e){this.buffer=e,this.size=0}encode(e,t,...r){if(e>255)throw new Error(`Opcode type over 8-bits. Got ${e}.`);let n=e|t|arguments.length-2<<8;this.buffer.push(n);for(const i of r)this.buffer.push(i);this.size=this.buffer.length}patch(e,t){if(-1!==this.buffer[e+1])throw new Error("Trying to patch operand in populated slot instead of a reserved slot.");this.buffer[e+1]=t}}const zp=32,Up=31;function Bp(e){return(e|=0)<0?function(e){return-536870913&e}(e):function(e){return~e}(e)}function $p(e){return t=>{if(!function(e){return Array.isArray(e)&&2===e.length}(t))return!1;let r=t[0];return r===Up||r===zp||r===e}}[1,-1].forEach(e=>{return t=Bp(e),(t|=0)>-536870913?function(e){return~e}(t):function(e){return 536870912|e}(t);var t});const Hp=$p(39),Vp=$p(38),Wp=$p(37),Kp=$p(35);function Qp(e,t,r,n){let{symbols:{upvars:i}}=r,s=i[e[1]],o=t?.lookupBuiltInHelper?.(s)??null;return n.helper(o,s)}function Gp(e){return{type:1,value:e}}function Yp(e){return{type:5,value:e}}function Jp(e){return{type:7,value:e}}function Zp(e){return{type:8,value:e}}class Xp{label(e,t){this.labels[e]=t}target(e,t){this.targets.push({at:e,target:t})}patch(e){let{targets:t,labels:r}=this;for(const{at:n,target:i}of t){let t=r[i]-n;e.getbyaddr(n),e.setbyaddr(n,t)}}constructor(){this.labels=hr(),this.targets=[]}}function ef(e,t,r,n){let{program:{constants:i},resolver:s}=t;if(function(e){return e<1e3}(n[0])){let[t,...r]=n;e.push(i,t,...r)}else switch(n[0]){case 1e3:return e.label(n[1]);case 1001:return e.startLabels();case 1002:return e.stopLabels();case 1004:return function(e,t,r,[,n,i]){if(Hp(n),n[0]===zp){let{scopeValues:e,owner:s,symbols:{lexical:o}}=r,a=e[n[1]];i(t.component(a,s,!1,o?.at(n[1])))}else{let{symbols:{upvars:s},owner:o}=r,a=s[n[1]],l=e?.lookupComponent?.(a,o)??null;i(t.resolvedComponent(l,a))}}(s,i,r,n);case 1003:return function(e,t,r,[,n,i]){Vp(n);let s=n[0];if(s===zp){let{scopeValues:e,symbols:{lexical:s}}=r,o=e[n[1]];i(t.modifier(o,s?.at(n[1])??void 0))}else if(s===Up){let{symbols:{upvars:s}}=r,o=s[n[1]],a=e?.lookupBuiltInModifier?.(o)??null;i(t.modifier(a,o))}else{let{symbols:{upvars:s},owner:o}=r,a=s[n[1]],l=e?.lookupModifier?.(a,o)??null;i(t.modifier(l))}}(s,i,r,n);case 1005:return function(e,t,r,[,n,i]){Wp(n);let s=n[0];if(s===zp){let{scopeValues:e}=r,s=e[n[1]];i(t.helper(s))}else if(s===Up)i(Qp(n,e,r,t));else{let{symbols:{upvars:s},owner:o}=r,a=s[n[1]],l=e?.lookupHelper?.(a,o)??null;i(t.helper(l,a))}}(s,i,r,n);case 1007:return function(e,t,r,[,n,{ifComponent:i,ifHelper:s}]){Kp(n);let o=n[0];if(o===zp){let{scopeValues:e,owner:o,symbols:{lexical:a}}=r,l=e[n[1]],c=t.component(l,o,!0,a?.at(n[1]));if(null!==c)return void i(c);s(t.helper(l,null,!0))}else if(o===Up)s(Qp(n,e,r,t));else{let{symbols:{upvars:o},owner:a}=r,l=o[n[1]],c=e?.lookupComponent?.(l,a)??null;if(null!==c)i(t.resolvedComponent(c,l));else{let r=e?.lookupHelper?.(l,a)??null;s(t.helper(r,l))}}}(s,i,r,n);case 1008:return function(e,t,r,[,n,{ifComponent:i,ifHelper:s,ifValue:o}]){Kp(n);let a=n[0];if(a===zp){let{scopeValues:e,owner:a,symbols:{lexical:l}}=r,c=e[n[1]];if("function"!=typeof c&&("object"!=typeof c||null===c))return void o(t.value(c));let u=t.component(c,a,!0,l?.at(n[1]));if(null!==u)return void i(u);let h=t.helper(c,null,!0);if(null!==h)return void s(h);o(t.value(c))}else if(a===Up)s(Qp(n,e,r,t));else{let{symbols:{upvars:o},owner:a}=r,l=o[n[1]],c=e?.lookupComponent?.(l,a)??null;if(null!==c)return void i(t.resolvedComponent(c,l));let u=e?.lookupHelper?.(l,a)??null;null!==u&&s(t.helper(u,l))}}(s,i,r,n);case 1010:{let[,e,t]=n;t(r.symbols.upvars[e],r.moduleName);break}case 1011:{let[,e,t]=n,s=r.scopeValues[e];t(i.value(s));break}default:throw new Error(`Unexpected high level opcode ${n[0]}`)}}class tf{constructor(e,t,r){this.heap=e,this.meta=t,this.stdlib=r,this.labelsStack=new fr,this.encoder=new Fp([]),this.errors=[],this.handle=e.malloc()}error(e){this.encoder.encode(30,0),this.errors.push(e)}commit(e){let t=this.handle;return this.heap.pushMachine(5),this.heap.finishMalloc(t,e),(r=this.errors)&&r.length>0?{errors:this.errors,handle:t}:t;var r}push(e,t,...r){let{heap:n}=this;var i;let s=t|((i=t)>=0&&i<=15?Zr:0)|r.length<<8;n.pushRaw(s);for(let o=0;o<r.length;o++){let t=r[o];n.pushRaw(this.operand(e,t))}}operand(e,t){if("number"==typeof t)return t;if("object"==typeof t&&null!==t){if(Array.isArray(t))return e.array(t);switch(t.type){case 1:return this.currentLabels.target(this.heap.offset,t.value),-1;case 2:return e.value(this.meta.isStrictMode);case 3:case 6:case 7:case 8:return e.value(t.value);case 4:return e.value((r=t.value,n=this.meta,new Lf(r[0],n,{parameters:r[1]||nr})));case 5:return this.stdlib[t.value]}}var r,n;return e.value(t)}get currentLabels(){return this.labelsStack.current}label(e){this.currentLabels.label(e,this.heap.offset+1)}startLabels(){this.labelsStack.push(new Xp)}stopLabels(){this.labelsStack.pop().patch(this.heap)}}function rf(e,t){return{evaluation:e,encoder:new tf(e.program.heap,t,e.stdlib),meta:t}}class nf{add(e,t){this.names[e]=this.funcs.push(t)-1}compile(e,t){let r=t[0],n=this.names[r],i=this.funcs[n];t[0],i(e,t)}constructor(){this.names={},this.funcs=[]}}const sf=new nf;function of(e,t){if(void 0!==t&&0!==t.length)for(let r=0;r<t.length;r++)e(22,t[r])}function af(e,t){Array.isArray(t)?sf.compile(e,t):(cf(e,t),e(31))}function lf(e,t){cf(e,t),e(31)}function cf(e,t){let r=t;var n;"number"==typeof r&&(r=(n=r)%1==0&&n<=536870911&&n>=-536870912?Bp(r):function(e){return{type:6,value:e}}(r)),e(30,r)}function uf(e,t,r,n){e(0),bf(e,r,n,!1),e(16,t),e(1),e(36,8)}function hf(e,t,r,n){e(0),bf(e,t,r,!1),e(33,2,1),e(107),n?(e(36,8),n(),e(1),e(34,1)):(e(1),e(34,1),e(36,8))}function df(e,t,r,n,i){e(0),bf(e,n,i,!1),e(86),af(e,r),e(77,t,{type:2,value:void 0}),e(1),e(36,8)}function pf(e,t,r){bf(e,r,null,!0),e(23,t),e(24),e(61),e(64),e(40),e(1)}function ff(e,t){!function(e,t){null!==t?e(63,Jp({parameters:t})):cf(e,null)}(e,t&&t[1]),e(62),yf(e,t)}function gf(e,t){e(0),yf(e,t),e(61),e(2),e(1)}function mf(e,t,r){let n=t[1],i=n.length,s=Math.min(r,i);if(0!==s){if(e(0),s){e(39);for(let t=0;t<s;t++)e(33,2,r-t),e(19,n[t])}yf(e,t),e(61),e(2),s&&e(40),e(1)}else gf(e,t)}function yf(e,t){null===t?cf(e,null):e(28,{type:4,value:t})}function bf(e,t,r,n){if(null===t&&null===r)return void e(83);let i=_f(e,t)<<4;n&&(i|=8);let s=sr;if(r){s=r[0];let t=r[1];for(let r=0;r<t.length;r++)af(e,t[r])}e(82,s,sr,i)}function _f(e,t){if(null===t)return 0;for(let r=0;r<t.length;r++)af(e,t[r]);return t.length}function vf(e){let[,t,r,n]=e.block;return{symbols:{locals:t,upvars:r,lexical:n},scopeValues:e.scope?.()??null,isStrictMode:e.isStrictMode,moduleName:e.moduleName,owner:e.owner,size:t.length}}sf.add(29,(e,[,t])=>{for(let r of t)af(e,r);e(27,t.length)}),sf.add(28,(e,[,t,r,n])=>{Wp(t)?e(1005,t,t=>{uf(e,t,r,n)}):(af(e,t),hf(e,r,n))}),sf.add(50,(e,[,t,r,n,i])=>{df(e,r,t,n,i)}),sf.add(30,(e,[,t,r])=>{e(21,t),of(e,r)}),sf.add(zp,(e,[,t,r])=>{e(1011,t,t=>{e(29,t),of(e,r)})}),sf.add(Up,(e,t)=>{e(1010,t[1],()=>{e(1005,t,t=>{uf(e,t,null,null)})})}),sf.add(37,(e,t)=>{e(1010,t[1],()=>{e(1005,t,t=>{uf(e,t,null,null)})})}),sf.add(27,e=>lf(e,void 0)),sf.add(48,(e,[,t])=>{af(e,t),e(25)}),sf.add(49,(e,[,t])=>{af(e,t),e(24),e(61),e(26)}),sf.add(52,(e,[,t,r,n])=>{af(e,n),af(e,r),af(e,t),e(109)}),sf.add(51,(e,[,t])=>{af(e,t),e(110)}),sf.add(53,(e,[,t])=>{af(e,t),e(111)}),sf.add(54,(e,[,t])=>{e(0),bf(e,t,null,!1),e(112),e(1),e(36,8)});class wf{constructor(e){this.blocks=e,this.names=e?Object.keys(e):[]}get(e){return this.blocks&&this.blocks[e]||null}has(e){let{blocks:t}=this;return null!==t&&e in t}with(e,t){let{blocks:r}=this;return new wf(r?mr({},r,{[e]:t}):{[e]:t})}get hasAny(){return null!==this.blocks}}const kf=new wf(null);function Sf(e){if(null===e)return kf;let t=hr(),[r,n]=e;for(const[i,s]of lr(r))t[s]=n[i];return new wf(t)}function xf(e,t,r){let n=[],i=0;r(function(e,t){n.push({match:e,callback:t,label:"CLAUSE"+i++})}),e(69,1),t(),e(1001);for(let s of n.slice(0,-1))e(67,Gp(s.label),s.match);for(let s=n.length-1;s>=0;s--){let t=n[s];e(1e3,t.label),e(34,1),t.callback(),0!==s&&e(4,Gp("END"))}e(1e3,"END"),e(1002),e(70)}function Af(e,t,r){e(1001),e(0),e(6,Gp("ENDINITIAL")),e(69,t()),r(),e(1e3,"FINALLY"),e(70),e(5),e(1e3,"ENDINITIAL"),e(1),e(1002)}function Rf(e,t,r,n){return Af(e,t,()=>{e(66,Gp("ELSE")),r(),e(4,Gp("FINALLY")),e(1e3,"ELSE"),void 0!==n&&n()})}function Tf(e,t,r,n,i,s){let{compilable:o,capabilities:a,handle:l}=t,c=r?[r,[]]:null,u=Sf(s);o?(e(78,l),function(e,{capabilities:t,layout:r,elementBlock:n,positional:i,named:s,blocks:o}){let{symbolTable:a}=r;if(hn(t,Jr.prepareArgs))return void Cf(e,{capabilities:t,elementBlock:n,positional:i,named:s,atNames:!0,blocks:o,layout:r});e(36,4),e(33,3,1),e(35,4),e(0);let{symbols:l}=a,c=[],u=[],h=[],d=o.names;if(null!==n){let t=l.indexOf("&attrs");-1!==t&&(ff(e,n),c.push(t))}for(const p of d){let t=l.indexOf(`&${p}`);-1!==t&&(ff(e,o.get(p)),c.push(t))}if(hn(t,Jr.createArgs)){let t=_f(e,i)<<4;t|=8;let r=sr;if(null!==s){r=s[0];let t=s[1];for(let n=0;n<t.length;n++){let i=l.indexOf(r[n]);af(e,t[n]),u.push(i)}}e(82,r,sr,t),u.push(-1)}else if(null!==s){let t=s[0],r=s[1];for(let n=0;n<r.length;n++){let i=t[n],s=l.indexOf(i);-1!==s&&(af(e,r[n]),u.push(s),h.push(i))}}e(97,4),hn(t,Jr.dynamicScope)&&e(59),hn(t,Jr.createInstance)&&e(87,0|o.has("default")),e(88,4),hn(t,Jr.createArgs)?e(90,4):e(90,4,h),e(37,l.length+1,Object.keys(o).length>0?1:0),e(19,0);for(const p of ar(u))-1===p?e(34,1):e(19,p+1);null!==i&&e(34,i.length);for(const p of ar(c))e(20,p+1);e(28,Zp(r)),e(61),e(2),e(100,4),e(1),e(40),hn(t,Jr.dynamicScope)&&e(60),e(98),e(35,4)}(e,{capabilities:a,layout:o,elementBlock:c,positional:n,named:i,blocks:u})):(e(78,l),Cf(e,{capabilities:a,elementBlock:c,positional:n,named:i,atNames:!0,blocks:u}))}function Ef(e,t,r,n,i,s,o,a){let l=r?[r,[]]:null,c=Sf(s);Af(e,()=>(af(e,t),e(33,3,0),2),()=>{e(66,Gp("ELSE")),a?e(81):e(80,{type:2,value:void 0}),e(79),Cf(e,{capabilities:!0,elementBlock:l,positional:n,named:i,atNames:o,blocks:c}),e(1e3,"ELSE")})}function Cf(e,{capabilities:t,elementBlock:r,positional:n,named:i,atNames:s,blocks:o,layout:a}){let l=!!o,c=!0===t||hn(t,Jr.prepareArgs)||!(!i||0===i[0].length),u=o.with("attrs",r);e(36,4),e(33,3,1),e(35,4),e(0),function(e,t,r,n,i){let s=n.names;for(const l of s)ff(e,n.get(l));let o=_f(e,t)<<4;i&&(o|=8),n.hasAny&&(o|=7);let a=nr;if(r){a=r[0];let t=r[1];for(let r=0;r<t.length;r++)af(e,t[r])}e(82,a,s,o)}(e,n,i,u,s),e(85,4),Of(e,u.has("default"),l,c,()=>{a?(e(63,Jp(a.symbolTable)),e(28,Zp(a)),e(61)):e(92,4),e(95,4)}),e(35,4)}function Of(e,t,r,n,i=null){e(97,4),e(59),e(87,0|t),i&&i(),e(88,4),e(90,4),e(38,4),e(19,0),n&&e(17,4),r&&e(18,4),e(34,1),e(96,4),e(100,4),e(1),e(40),e(60),e(98)}const Mf=new nf,If=["class","id","value","name","type","style","href"],Pf=["div","span","p","a"];function Df(e){return"string"==typeof e?e:Pf[e]}function Nf(e){return"string"==typeof e?e:If[e]}function jf(e){return null===e?null:[e[0].map(e=>`@${e}`),e[1]]}Mf.add(3,(e,t)=>e(42,t[1])),Mf.add(13,e=>e(55)),Mf.add(12,e=>e(54)),Mf.add(4,(e,[,t,r,n])=>{Vp(t)?e(1003,t,t=>{e(0),bf(e,r,n,!1),e(57,t),e(1)}):(af(e,t),e(0),bf(e,r,n,!1),e(33,2,1),e(108),e(1))}),Mf.add(14,(e,[,t,r,n])=>{e(51,Nf(t),r,n??null)}),Mf.add(24,(e,[,t,r,n])=>{e(105,Nf(t),r,n??null)}),Mf.add(15,(e,[,t,r,n])=>{af(e,r),e(52,Nf(t),!1,n??null)}),Mf.add(22,(e,[,t,r,n])=>{af(e,r),e(52,Nf(t),!0,n??null)}),Mf.add(16,(e,[,t,r,n])=>{af(e,r),e(53,Nf(t),!1,n??null)}),Mf.add(23,(e,[,t,r,n])=>{af(e,r),e(53,Nf(t),!0,n??null)}),Mf.add(10,(e,[,t])=>{e(48,Df(t))}),Mf.add(11,(e,[,t])=>{e(89),e(48,Df(t))}),Mf.add(8,(e,[,t,r,n,i])=>{Hp(t)?e(1004,t,t=>{Tf(e,t,r,null,n,i)}):Ef(e,t,r,null,n,i,!0,!0)}),Mf.add(18,(e,[,t,r])=>pf(e,t,r)),Mf.add(17,(e,[,t])=>pf(e,t,null)),Mf.add(26,(e,[,t,r,n])=>{e(103,function(e,t,r){return{type:3,value:{locals:e,upvars:t,lexical:r}}}(t,r,n))}),Mf.add(1,(e,[,t])=>{if(Array.isArray(t))if(Kp(t))e(1008,t,{ifComponent(t){Tf(e,t,null,null,null,null)},ifHelper(t){e(0),uf(e,t,null,null),e(3,Yp("cautious-non-dynamic-append")),e(1)},ifValue(t){e(0),e(29,t),e(3,Yp("cautious-non-dynamic-append")),e(1)}});else if(28===t[0]){let[,r,n,i]=t;Kp(r)?e(1007,r,{ifComponent(t){Tf(e,t,null,n,jf(i),null)},ifHelper(t){e(0),uf(e,t,n,i),e(3,Yp("cautious-non-dynamic-append")),e(1)}}):xf(e,()=>{af(e,r),e(106)},t=>{t(0,()=>{e(81),e(79),Cf(e,{capabilities:!0,elementBlock:null,positional:n,named:i,atNames:!1,blocks:Sf(null)})}),t(1,()=>{hf(e,n,i,()=>{e(3,Yp("cautious-non-dynamic-append"))})})})}else e(0),af(e,t),e(3,Yp("cautious-append")),e(1);else e(41,null==t?"":String(t))}),Mf.add(2,(e,[,t])=>{Array.isArray(t)?(e(0),af(e,t),e(3,Yp("trusting-append")),e(1)):e(41,null==t?"":String(t))}),Mf.add(6,(e,[,t,r,n,i])=>{Hp(t)?e(1004,t,t=>{Tf(e,t,null,r,jf(n),i)}):Ef(e,t,null,r,n,i,!1,!1)}),Mf.add(40,(e,[,t,r,n,i])=>{Rf(e,()=>(af(e,r),void 0===i?lf(e,void 0):af(e,i),af(e,n),e(33,3,0),4),()=>{e(50),gf(e,t),e(56)})}),Mf.add(41,(e,[,t,r,n])=>Rf(e,()=>(af(e,t),e(71),1),()=>{gf(e,r)},n?()=>{gf(e,n)}:void 0)),Mf.add(42,(e,[,t,r,n,i])=>Af(e,()=>(r?af(e,r):lf(e,null),af(e,t),2),()=>{e(72,Gp("BODY"),Gp("ELSE")),e(0),e(33,2,1),e(6,Gp("ITER")),e(1e3,"ITER"),e(74,Gp("BREAK")),e(1e3,"BODY"),mf(e,n,2),e(34,2),e(4,Gp("FINALLY")),e(1e3,"BREAK"),e(1),e(73),e(4,Gp("FINALLY")),e(1e3,"ELSE"),i&&gf(e,i)})),Mf.add(44,(e,[,t,r])=>{mf(e,r,_f(e,t))}),Mf.add(45,(e,[,t,r])=>{if(t){let[n,i]=t;_f(e,i),function(e,t,r){e(59),e(58,t),r(),e(60)}(e,n,()=>{gf(e,r)})}else gf(e,r)}),Mf.add(46,(e,[,t,r,n,i])=>{Hp(t)?e(1004,t,t=>{Tf(e,t,null,r,jf(n),i)}):Ef(e,t,null,r,n,i,!1,!1)});class Lf{constructor(e,t,r,n="plain block"){this.statements=e,this.meta=t,this.symbolTable=r,this.moduleName=n,this.compiled=null}compile(e){return function(e,t){if(null!==e.compiled)return e.compiled;e.compiled=-1;let{statements:r,meta:n}=e,i=function(e,t,r){let n=Mf,i=rf(r,t),{encoder:s,evaluation:o}=i;function a(...e){ef(s,o,t,e)}for(const l of e)n.compile(a,l);return i.encoder.commit(t.size)}(r,n,t);return e.compiled=i,i}(this,e)}}class qf{constructor(e,t,r,n,i){this.main=e,this.trustingGuardedAppend=t,this.cautiousGuardedAppend=r,this.trustingNonDynamicAppend=n,this.cautiousNonDynamicAppend=i}get"trusting-append"(){return this.trustingGuardedAppend}get"cautious-append"(){return this.cautiousGuardedAppend}get"trusting-non-dynamic-append"(){return this.trustingNonDynamicAppend}get"cautious-non-dynamic-append"(){return this.cautiousNonDynamicAppend}getAppend(e){return e?this.trustingGuardedAppend:this.cautiousGuardedAppend}}function Ff(e,t,r){xf(e,()=>e(76),n=>{n(2,()=>{t?(e(68),e(43)):e(47)}),"number"==typeof r?(n(0,()=>{e(81),e(79),function(e){e(36,4),e(33,3,1),e(35,4),e(0),e(83),e(85,4),Of(e,!1,!1,!0,()=>{e(92,4),e(95,4)}),e(35,4)}(e)}),n(1,()=>{hf(e,null,null,()=>{e(3,r)})})):(n(0,()=>{e(47)}),n(1,()=>{e(47)})),n(4,()=>{e(68),e(44)}),n(5,()=>{e(68),e(45)}),n(6,()=>{e(68),e(46)})})}const zf={symbols:{locals:null,upvars:null},moduleName:"stdlib",scopeValues:null,isStrictMode:!0,owner:null,size:0};function Uf(e,t){let r=new tf(e.program.heap,zf);t(function(...t){ef(r,e,zf,t)});let n=r.commit(0);if("number"!=typeof n)throw new Error("Unexpected errors compiling std");return n}class Bf{constructor({constants:e,heap:t},r,n){this.constants=e,this.heap=t,this.resolver=n.resolver,this.createOp=r,this.env=n.env,this.program=n.program,this.stdlib=function(e){let t=Uf(e,e=>function(e){e(75,4),Of(e,!1,!1,!0)}(e)),r=Uf(e,e=>Ff(e,!0,null)),n=Uf(e,e=>Ff(e,!1,null)),i=Uf(e,e=>Ff(e,!0,r)),s=Uf(e,e=>Ff(e,!1,n));return new qf(t,i,s,r,n)}(this)}}class $f{constructor(e,t){this.layout=e,this.moduleName=t,this.compiled=null;let{block:r}=e,[,n]=r;n=n.slice();let i=n.indexOf("&attrs");this.attrsBlockNumber=-1===i?n.push("&attrs"):i+1,this.symbolTable={symbols:n},this.meta=vf(e)}compile(e){if(null!==this.compiled)return this.compiled;let t=vf(this.layout),r=rf(e,t),{encoder:n,evaluation:i}=r;var s,o,a;s=function(...e){ef(n,i,t,e)},o=this.layout,a=this.attrsBlockNumber,s(1001),function(e,t,r){e(36,5),r(),e(35,5)}(s,0,()=>{s(91,4),s(31),s(33,3,0)}),s(66,Gp("BODY")),s(36,5),s(89),s(49),s(99,4),pf(s,a,null),s(54),s(1e3,"BODY"),gf(s,[o.block[0],[]]),s(36,5),s(66,Gp("END")),s(55),s(1e3,"END"),s(35,5),s(1002);let l=r.encoder.commit(t.size);return"number"!=typeof l||(this.compiled=l),l}}let Hf=0,Vf={cacheHit:0,cacheMiss:0};function Wf({id:e,moduleName:t,block:r,scope:n,isStrictMode:i}){let s,o=e||"client-"+Hf++,a=null,l=new WeakMap,c=e=>{if(void 0===s&&(s=JSON.parse(r)),void 0===e)return null===a?(Vf.cacheMiss++,a=new Kf({id:o,block:s,moduleName:t,owner:null,scope:n,isStrictMode:i})):Vf.cacheHit++,a;let c=l.get(e);return void 0===c?(Vf.cacheMiss++,c=new Kf({id:o,block:s,moduleName:t,owner:e,scope:n,isStrictMode:i}),l.set(e,c)):Vf.cacheHit++,c};return c.__id=o,c.__meta={moduleName:t},c}class Kf{constructor(e){this.parsedLayout=e,this.result="ok",this.layout=null,this.wrappedLayout=null}get moduleName(){return this.parsedLayout.moduleName}get id(){return this.parsedLayout.id}get referrer(){return{moduleName:this.parsedLayout.moduleName,owner:this.parsedLayout.owner}}asLayout(){return this.layout?this.layout:this.layout=function(e,t){let[r,n]=e.block;return new Lf(r,vf(e),{symbols:n},t)}(mr({},this.parsedLayout),this.moduleName)}asWrappedLayout(){return this.wrappedLayout?this.wrappedLayout:this.wrappedLayout=new $f(mr({},this.parsedLayout),this.moduleName)}}function Qf(e){if("error"===e.result)throw new Error(`Compile Error: ${e.problem} @ ${e.span.start}..${e.span.end}`);return e}const Gf={id:"1b32f5c2-7623-43d6-a0ad-9672898920a1",moduleName:"__default__.hbs",block:JSON.stringify([[[18,1,null]],["&default"],[]]),scope:null,isStrictMode:!0},Yf=Object.freeze([]),Jf=[!1,!0,null,void 0,Yf],Zf=Jf.indexOf(Yf);class Xf{value(e){let t=this.indexMap,r=t.get(e);return void 0===r&&(r=this.values.push(e)-1,t.set(e,r)),r}array(e){if(0===e.length)return Zf;let t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=this.value(e[r]);return this.value(t)}toPool(){return this.values}hasHandle(e){return this.values.length>e}helper(e,t=null,r){let n=this.helperDefinitionCache.get(e);if(void 0===n){let t=Tn(e);if(null===t)return this.helperDefinitionCache.set(e,null),null;let r="function"==typeof t?t:t.getHelper(e);n=this.value(r),this.helperDefinitionCache.set(e,n),this.helperDefinitionCount++}return n}modifier(e,t=null,r){let n=this.modifierDefinitionCache.get(e);if(void 0===n){let r=xn(e);if(null===r)return this.modifierDefinitionCache.set(e,null),null;let i={resolvedName:t,manager:r,state:e};n=this.value(i),this.modifierDefinitionCache.set(e,n),this.modifierDefinitionCount++}return n}component(e,t,r,n){let i=this.componentDefinitionCache.get(e);if(void 0===i){let r=Cn(e);if(null===r)return this.componentDefinitionCache.set(e,null),null;let s,o=ln(r.getCapabilities(e)),a=Hn(e),l=null;s=un(0,o,Jr.dynamicLayout)?a?.(t):a?.(t)??this.defaultTemplate,void 0!==s&&(s=Qf(s),l=un(0,o,Jr.wrapped)?s.asWrappedLayout():s.asLayout()),i={resolvedName:null,handle:-1,manager:r,capabilities:o,state:e,compilable:l},i.handle=this.value(i),n&&(i.debugName=n),this.componentDefinitionCache.set(e,i),this.componentDefinitionCount++}return i}resolvedComponent(e,t){let r=this.componentDefinitionCache.get(e);if(void 0===r){let{manager:n,state:i,template:s}=e,o=ln(n.getCapabilities(e)),a=null;un(0,o,Jr.dynamicLayout)||(s=s??this.defaultTemplate),null!==s&&(s=Qf(s),a=un(0,o,Jr.wrapped)?s.asWrappedLayout():s.asLayout()),r={resolvedName:t,handle:-1,manager:n,capabilities:o,state:i,compilable:a},r.handle=this.value(r),this.componentDefinitionCache.set(e,r),this.componentDefinitionCount++}return r}getValue(e){return this.values[e]}getArray(e){let t=this.reifiedArrs,r=t[e];if(void 0===r){let n=this.getValue(e);r=new Array(n.length);for(const[e,t]of lr(n))r[e]=this.getValue(t);t[e]=r}return r}constructor(){this.reifiedArrs={[Zf]:Yf},this.defaultTemplate=Wf(Gf)(),this.helperDefinitionCount=0,this.modifierDefinitionCount=0,this.componentDefinitionCount=0,this.values=Jf.slice(),this.indexMap=new Map(this.values.map((e,t)=>[e,t])),this.helperDefinitionCache=new WeakMap,this.modifierDefinitionCache=new WeakMap,this.componentDefinitionCache=new WeakMap}}class eg{constructor(e){this.heap=e,this.offset=0}get size(){return 1+((768&this.heap.getbyaddr(this.offset))>>8)}get isMachine(){return this.heap.getbyaddr(this.offset)&Zr?1:0}get type(){return 255&this.heap.getbyaddr(this.offset)}get op1(){return this.heap.getbyaddr(this.offset+1)}get op2(){return this.heap.getbyaddr(this.offset+2)}get op3(){return this.heap.getbyaddr(this.offset+3)}}class tg{constructor(){this.offset=0,this.handle=0,this.heap=new Int32Array(1048576),this.handleTable=[],this.handleState=[]}entries(){return this.offset}pushRaw(e){this.sizeCheck(),this.heap[this.offset++]=e}pushOp(e){this.pushRaw(e)}pushMachine(e){this.pushRaw(e|Zr)}sizeCheck(){let{heap:e}=this;if(this.offset===this.heap.length){let t=new Int32Array(e.length+1048576);t.set(e,0),this.heap=t}}getbyaddr(e){return this.heap[e]}setbyaddr(e,t){this.heap[e]=t}malloc(){return this.handleTable.push(this.offset),this.handleTable.length-1}finishMalloc(e){}size(){return this.offset}getaddr(e){return this.handleTable[e]}sizeof(e){return this.handleTable,-1}free(e){this.handleState[e]=1}compact(){let e=0,{handleTable:t,handleState:r,heap:n}=this;for(let i=0;i<length;i++){let s=t[i],o=t[i+1]-s,a=r[i];if(2!==a)if(1===a)r[i]=2,e+=o;else if(0===a){for(let t=s;t<=i+o;t++)n[t-e]=n[t];t[i]=s-e}else 3===a&&(t[i]=s-e)}this.offset=this.offset-e}}class rg{constructor(e,t){this.constants=e,this.heap=t,this._opcode=new eg(this.heap)}opcode(e){return this._opcode.offset=e,this._opcode}}const ng="http://www.w3.org/1998/Math/MathML",ig="http://www.w3.org/2000/svg";function sg(e){return function(e){e.nodeType}(e),e}function og(e){if("number"==typeof e)return e;{let t=e.errors[0];throw new Error(`Compile Error: ${t.problem} @ ${t.span.start}..${t.span.end}`)}}function ag(e){if("error"===e.result)throw new Error(`Compile Error: ${e.problem} @ ${e.span.start}..${e.span.end}`);return e}function lg(e){return(e|=0)>-536870913?function(e){return~e}(e):function(e){return 536870912|e}(e)}[1,-1].forEach(e=>{return lg((t=e,(t|=0)<0?function(e){return-536870913&e}(t):function(e){return~e}(t)));var t});const cg=new class{constructor(){this.evaluateOpcode=new Array(113).fill(null)}add(e,t,r="syscall"){this.evaluateOpcode[e]={syscall:"machine"!==r,evaluate:t}}evaluate(e,t,r){let n=this.evaluateOpcode[r];n.syscall?(t.isMachine,n.syscall,t.isMachine,t.type,n.evaluate(e,t)):(t.isMachine,n.syscall,t.isMachine,t.type,n.evaluate(e.lowlevel,t))}},ug=Symbol("TYPE"),hg=Symbol("INNER"),dg=Symbol("OWNER"),pg=Symbol("ARGS"),fg=Symbol("RESOLVED"),gg=new WeakSet;function mg(e){return gg.has(e)}function yg(e,t){return mg(e)&&e[ug]===t}class bg{constructor(e,t,r,n,i=!1){gg.add(this),this[ug]=e,this[hg]=t,this[dg]=r,this[pg]=n,this[fg]=i}}function _g(e){let t,r,n,i,s,o=e;for(;;){let{[pg]:e,[hg]:a}=o;if(null!==e){let{named:n,positional:i}=e;i.length>0&&(t=void 0===t?i:i.concat(t)),void 0===r&&(r=[]),r.unshift(n)}if(!mg(a)){n=a,i=o[dg],s=o[fg];break}o=a}return{definition:n,owner:i,resolved:s,positional:t,named:r}}function vg(e,t,r,n,i=!1){return new bg(e,t,r,n,i)}class wg{constructor(e){this.bucket=e?mr({},e):{}}get(e){return this.bucket[e]}set(e,t){return this.bucket[e]=t}child(){return new wg(this.bucket)}}class kg{static root(e,{self:t,size:r=0}){let n=new Array(r+1).fill(Sr);return new kg(e,n,null).init({self:t})}static sized(e,t=0){let r=new Array(t+1).fill(Sr);return new kg(e,r,null)}constructor(e,t,r){this.owner=e,this.slots=t,this.callerScope=r}init({self:e}){return this.slots[0]=e,this}snapshot(){return this.slots.slice()}getSelf(){return this.get(0)}getSymbol(e){return this.get(e)}getBlock(e){let t=this.get(e);return t===Sr?null:t}bind(e,t){this.set(e,t)}bindSelf(e){this.set(0,e)}bindSymbol(e,t){this.set(e,t)}bindBlock(e,t){this.set(e,t)}bindCallerScope(e){this.callerScope=e}getCallerScope(){return this.callerScope}child(){return new kg(this.owner,this.slots.slice(),this.callerScope)}get(e){if(e>=this.slots.length)throw new RangeError(`BUG: cannot get $${e} from scope; length=${this.slots.length}`);return this.slots[e]}set(e,t){if(e>=this.slots.length)throw new RangeError(`BUG: cannot get $${e} from scope; length=${this.slots.length}`);this.slots[e]=t}}class Sg{constructor(e,t){this.element=e,this.nextSibling=t}}class xg{constructor(e,t,r){this.parentNode=e,this.first=t,this.last=r}parentElement(){return this.parentNode}firstNode(){return this.first}lastNode(){return this.last}}function Ag(e,t){let r=e.parentElement(),n=e.firstNode(),i=e.lastNode(),s=n;for(;;){let e=s.nextSibling;if(r.insertBefore(s,t),s===i)return e;s=e}}function Rg(e){let t=e.parentElement(),r=e.firstNode(),n=e.lastNode(),i=r;for(;;){let e=i.nextSibling;if(t.removeChild(i),i===n)return e;i=e}}function Tg(e){return"getDebugCustomRenderTree"in e}let Eg=0;class Cg{constructor(e){this.id=Eg++,this.value=e}get(){return this.value}release(){this.value=null}toString(){let e=`Ref ${this.id}`;if(null===this.value)return`${e} (released)`;try{return`${e}: ${this.value}`}catch{return e}}}class Og{begin(){this.reset()}create(e,t){let r=mr({},t,{bounds:null,refs:new Set});this.nodes.set(e,r),this.appendChild(r,e),this.enter(e)}update(e){this.enter(e)}didRender(e,t){this.nodeFor(e).bounds=t,this.exit()}willDestroy(e){this.refs.get(e).release()}commit(){this.reset()}capture(){return this.captureRefs(this.roots)}reset(){if(0!==this.stack.size){let e=this.stack.toArray()[0],t=this.refs.get(e);for(void 0!==t&&this.roots.delete(t);!this.stack.isEmpty();)this.stack.pop()}}enter(e){this.stack.push(e)}exit(){this.stack.pop()}nodeFor(e){return this.nodes.get(e)}appendChild(e,t){let r=this.stack.current,n=new Cg(t);if(this.refs.set(t,n),r){let t=this.nodeFor(r);t.refs.add(n),e.parent=t}else this.roots.add(n)}captureRefs(e){let t=[];return e.forEach(r=>{let n=r.get();n?t.push(this.captureNode(`render-node:${r.id}`,n)):e.delete(r)}),t}captureNode(e,t){let r=this.nodeFor(t),{type:n,name:i,args:s,instance:o,refs:a}=r,l=this.captureTemplate(r),c=this.captureBounds(r),u=this.captureRefs(a);return{id:e,type:n,name:i,args:dm(s),instance:o,template:l,bounds:c,children:u}}captureTemplate({template:e}){return e||null}captureBounds(e){let t=e.bounds;return{parentElement:t.parentElement(),firstNode:t.firstNode(),lastNode:t.lastNode()}}constructor(){this.stack=new fr,this.refs=new WeakMap,this.roots=new Set,this.nodes=new WeakMap}}function Mg(e){return Ig(e)?"":String(e)}function Ig(e){return null==e||"function"!=typeof e.toString}function Pg(e){return null!==e&&"object"==typeof e}function Dg(e){return Pg(e)&&"function"==typeof e.toHTML}function Ng(e){return"string"==typeof e}cg.add(39,e=>e.pushChildScope()),cg.add(40,e=>e.popScope()),cg.add(59,e=>e.pushDynamicScope()),cg.add(60,e=>e.popDynamicScope()),cg.add(28,(e,{op1:t})=>{e.stack.push(e.constants.getValue(t))}),cg.add(29,(e,{op1:t})=>{e.stack.push(Tr(e.constants.getValue(t)))}),cg.add(30,(e,{op1:t})=>{let r=e.stack;if(t>=0){let n=e.constants.getValue(t);r.push(n)}else r.push(lg(t))}),cg.add(31,e=>{let t,r=e.stack,n=r.pop();t=void 0===n?Sr:null===n?xr:!0===n?Ar:!1===n?Rr:kr(n),r.push(t)}),cg.add(33,(e,{op1:t,op2:r})=>{let n=e.fetchValue(t)-r;e.stack.dup(n)}),cg.add(34,(e,{op1:t})=>{e.stack.pop(t)}),cg.add(35,(e,{op1:t})=>{e.load(t)}),cg.add(36,(e,{op1:t})=>{e.fetch(t)}),cg.add(58,(e,{op1:t})=>{let r=e.constants.getArray(t);e.bindDynamicScope(r)}),cg.add(69,(e,{op1:t})=>{e.enter(t)}),cg.add(70,e=>{e.exit()}),cg.add(63,(e,{op1:t})=>{e.stack.push(e.constants.getValue(t))}),cg.add(62,e=>{e.stack.push(e.scope())}),cg.add(61,e=>{let t=e.stack,r=t.pop();r?t.push(e.compile(r)):t.push(null)}),cg.add(64,e=>{let{stack:t}=e,r=t.pop(),n=t.pop(),i=t.pop(),s=t.pop();if(null===i||null===r)return e.lowlevel.pushFrame(),void e.pushScope(n??e.scope());let o=n;{let e=i.parameters,t=e.length;if(t>0){o=o.child();for(let r=0;r<t;r++)o.bindSymbol(e[r],s.at(r))}}e.lowlevel.pushFrame(),e.pushScope(o),e.call(r)}),cg.add(65,(e,{op1:t})=>{let r=e.stack.pop(),n=Boolean(Nr(r));Pr(r)?n&&e.lowlevel.goto(t):(n&&e.lowlevel.goto(t),e.updateWith(new jg(r)))}),cg.add(66,(e,{op1:t})=>{let r=e.stack.pop(),n=Boolean(Nr(r));Pr(r)?n||e.lowlevel.goto(t):(n||e.lowlevel.goto(t),e.updateWith(new jg(r)))}),cg.add(67,(e,{op1:t,op2:r})=>{e.stack.peek()===r&&e.lowlevel.goto(t)}),cg.add(68,e=>{let t=e.stack.peek();Pr(t)||e.updateWith(new jg(t))}),cg.add(71,e=>{let{stack:t}=e,r=t.pop();t.push(Cr(()=>Ae(Nr(r))))});class jg{constructor(e){this.ref=e,this.last=Nr(e)}evaluate(e){let{last:t,ref:r}=this;t!==Nr(r)&&e.throw()}}class Lg{constructor(e,t){this.ref=e,this.filter=t,this.last=t(Nr(e))}evaluate(e){let{last:t,ref:r,filter:n}=this;t!==n(Nr(r))&&e.throw()}}class qg{finalize(e,t){this.target=t,this.didModify(e)}evaluate(e){let{tag:t,target:r,lastRevision:n}=this;!e.alwaysRevalidate&&ot(t,n)&&(Mt(t),e.goto(r))}didModify(e){this.tag=e,this.lastRevision=st(this.tag),Mt(e)}constructor(){this.tag=pt,this.lastRevision=1}}class Fg{constructor(e){this.debugLabel=e}evaluate(){Rt(this.debugLabel)}}class zg{constructor(e){this.target=e}evaluate(){let e=Tt();this.target.didModify(e)}}cg.add(41,(e,{op1:t})=>{e.tree().appendText(e.constants.getValue(t))}),cg.add(42,(e,{op1:t})=>{e.tree().appendComment(e.constants.getValue(t))}),cg.add(48,(e,{op1:t})=>{e.tree().openElement(e.constants.getValue(t))}),cg.add(49,e=>{let t=Nr(e.stack.pop());e.tree().openElement(t)}),cg.add(50,e=>{let t=e.stack.pop(),r=e.stack.pop(),n=e.stack.pop(),i=Nr(t),s=Nr(r),o=Nr(n);Pr(t)||e.updateWith(new jg(t)),void 0===s||Pr(r)||e.updateWith(new jg(r));let a=e.tree().pushRemoteElement(i,o,s);if(e.associateDestroyable(a),void 0!==e.env.debugRenderTree){let n=om(void 0===s?{}:{insertBefore:r},[t]);e.env.debugRenderTree.create(a,{type:"keyword",name:"in-element",args:n,instance:null}),Fe(a,()=>{e.env.debugRenderTree?.willDestroy(a)})}}),cg.add(56,e=>{let t=e.tree().popRemoteElement();void 0!==e.env.debugRenderTree&&e.env.debugRenderTree.didRender(t,t)}),cg.add(54,e=>{let t=e.fetchValue(6),r=null;t&&(r=t.flush(e),e.loadValue(6,null)),e.tree().flushElement(r)}),cg.add(55,e=>{let t=e.tree().closeElement();null!==t&&t.forEach(t=>{e.env.scheduleInstallModifier(t);const r=t.manager.getDestroyable(t.state);null!==r&&e.associateDestroyable(r)})}),cg.add(57,(e,{op1:t})=>{if(!e.env.isInteractive)return;let r=e.getOwner(),n=e.stack.pop(),i=e.constants.getValue(t),{manager:s}=i,{constructing:o}=e.tree(),a=n.capture(),l=s.create(r,o,i.state,a),c={manager:s,state:l,definition:i};e.fetchValue(6).addModifier(e,c,a);let u=s.getTag(l);return null!==u?(Mt(u),e.updateWith(new Ug(u,c))):void 0}),cg.add(108,e=>{if(!e.env.isInteractive)return;let{stack:t}=e,r=t.pop(),n=t.pop().capture(),{positional:i,named:s}=n,{constructing:o}=e.tree(),a=e.getOwner(),l=Cr(()=>{let e,t,l=Nr(r);if(!pr(l))return;if(yg(l,2)){let{definition:r,owner:o,positional:a,named:c}=_g(l);t=r,e=o,void 0!==a&&(n.positional=a.concat(i)),void 0!==c&&(n.named=Object.assign({},...c,s))}else t=l,e=a;let c=xn(t);if(null===c)throw new Error("BUG: modifier manager expected");let u={resolvedName:null,manager:c,state:t},h=c.create(e,o,u.state,n);return{manager:c,state:h,definition:u}}),c=Nr(l),u=null;return void 0!==c&&(e.fetchValue(6).addModifier(e,c,n),u=c.manager.getTag(c.state),null!==u&&Mt(u)),!Pr(r)||u?e.updateWith(new Bg(u,c,l)):void 0});class Ug{constructor(e,t){this.tag=e,this.modifier=t,this.lastUpdated=st(e)}evaluate(e){let{modifier:t,tag:r,lastUpdated:n}=this;Mt(r),ot(r,n)||(e.env.scheduleUpdateModifier(t),this.lastUpdated=st(r))}}class Bg{constructor(e,t,r){this.tag=e,this.instance=t,this.instanceRef=r,this.lastUpdated=st(e??bt)}evaluate(e){let{tag:t,lastUpdated:r,instance:n,instanceRef:i}=this,s=Nr(i);if(s!==n){if(void 0!==n){let e=n.manager.getDestroyable(n.state);null!==e&&Ue(e)}if(void 0!==s){let{manager:r,state:n}=s,i=r.getDestroyable(n);null!==i&&qe(this,i),t=r.getTag(n),null!==t&&(this.lastUpdated=st(t)),this.tag=t,e.env.scheduleInstallModifier(s)}this.instance=s}else null===t||ot(t,r)||(e.env.scheduleUpdateModifier(n),this.lastUpdated=st(t));null!==t&&Mt(t)}}cg.add(51,(e,{op1:t,op2:r,op3:n})=>{let i=e.constants.getValue(t),s=e.constants.getValue(r),o=n?e.constants.getValue(n):null;e.tree().setStaticAttribute(i,s,o)}),cg.add(52,(e,{op1:t,op2:r,op3:n})=>{let i=e.constants.getValue(t),s=e.constants.getValue(r),o=e.stack.pop(),a=Nr(o),l=n?e.constants.getValue(n):null,c=e.tree().setDynamicAttribute(i,a,s,l);Pr(o)||e.updateWith(new $g(o,c,e.env))});class $g{constructor(e,t,r){let n=!1;this.updateRef=Cr(()=>{let i=Nr(e);n?t.update(i,r):n=!0}),Nr(this.updateRef)}evaluate(){Nr(this.updateRef)}}cg.add(78,(e,{op1:t})=>{let r=e.constants.getValue(t),{manager:n,capabilities:i}=r,s={definition:r,manager:n,capabilities:i,state:null,handle:null,table:null,lookup:null};e.stack.push(s)}),cg.add(80,(e,{op1:t})=>{let r,n=e.stack,i=Nr(n.pop()),s=e.constants,o=e.getOwner();if(s.getValue(t),e.loadValue(7,null),"string"==typeof i){let t=function(e,t,r,n){let i=e?.lookupComponent?.(r,n)??null;return t.resolvedComponent(i,r)}(e.context.resolver,s,i,o);r=t}else r=mg(i)?i:s.component(i,o);n.push(r)}),cg.add(81,e=>{let t,r=e.stack,n=Nr(r.pop()),i=e.constants;t=mg(n)?n:i.component(n,e.getOwner(),!0),r.push(t)}),cg.add(79,e=>{let t,r,{stack:n}=e,i=n.pop();mg(i)?r=t=null:(r=i.manager,t=i.capabilities),n.push({definition:i,capabilities:t,manager:r,state:null,handle:null,table:null})}),cg.add(82,(e,{op1:t,op2:r,op3:n})=>{let i=e.stack,s=e.constants.getArray(t),o=n>>4,a=8&n,l=7&n?e.constants.getArray(r):sr;e.args.setup(i,s,l,o,!!a),i.push(e.args)}),cg.add(83,e=>{let{stack:t}=e;t.push(e.args.empty(t))}),cg.add(86,e=>{let t=e.stack,r=t.pop().capture();t.push(r)}),cg.add(85,(e,{op1:t})=>{let r=e.stack,n=e.fetchValue(t),i=r.pop(),{definition:s}=n;if(yg(s,0)){s.manager;let t=e.constants,{definition:r,owner:o,resolved:a,positional:l,named:c}=_g(s);if(a)s=r;else if("string"==typeof r){let n=e.context.resolver?.lookupComponent?.(r,o)??null;s=t.resolvedComponent(n,r)}else s=t.component(r,o);void 0!==c&&i.named.merge(mr({},...c)),void 0!==l&&(i.realloc(l.length),i.positional.prepend(l));let{manager:u}=s;n.definition=s,n.manager=u,n.capabilities=s.capabilities,e.loadValue(7,o)}let{manager:o,state:a}=s;if(!un(0,n.capabilities,Jr.prepareArgs))return void r.push(i);let l=i.blocks.values,c=i.blocks.names,u=o.prepareArgs(a,i);if(u){i.clear();for(let i=0;i<l.length;i++)r.push(l[i]);let{positional:e,named:t}=u,n=e.length;for(let i=0;i<n;i++)r.push(e[i]);let s=Object.keys(t);for(let i=0;i<s.length;i++)r.push(t[s[i]]);i.setup(r,s,c,n,!1)}r.push(i)}),cg.add(87,(e,{op1:t})=>{let r=e.fetchValue(4),{definition:n,manager:i,capabilities:s}=r;if(!un(0,s,Jr.createInstance))return;let o=null;un(0,s,Jr.dynamicScope)&&(o=e.dynamicScope());let a=1&t,l=null;un(0,s,Jr.createArgs)&&(l=e.stack.peek());let c=null;un(0,s,Jr.createCaller)&&(c=e.getSelf());let u=i.create(e.getOwner(),n.state,l,e.env,o,c,!!a);r.state=u,un(0,s,Jr.updateHook)&&e.updateWith(new Qg(u,i,o))}),cg.add(88,(e,{op1:t})=>{let{manager:r,state:n,capabilities:i}=e.fetchValue(t),s=r.getDestroyable(n);s&&e.associateDestroyable(s)}),cg.add(97,(e,{op1:t})=>{e.beginCacheGroup(void 0),e.tree().pushAppendingBlock()}),cg.add(89,e=>{e.loadValue(6,new Hg)}),cg.add(53,(e,{op1:t,op2:r,op3:n})=>{let i=e.constants.getValue(t),s=e.constants.getValue(r),o=e.stack.pop(),a=n?e.constants.getValue(n):null;e.fetchValue(6).setAttribute(i,o,s,a)}),cg.add(105,(e,{op1:t,op2:r,op3:n})=>{let i=e.constants.getValue(t),s=e.constants.getValue(r),o=n?e.constants.getValue(n):null;e.fetchValue(6).setStaticAttribute(i,s,o)});class Hg{setAttribute(e,t,r,n){let i={value:t,namespace:n,trusting:r};"class"===e&&this.classes.push(t),this.attributes[e]=i}setStaticAttribute(e,t,r){let n={value:t,namespace:r};"class"===e&&this.classes.push(t),this.attributes[e]=n}addModifier(e,t,r){if(this.modifiers.push(t),void 0!==e.env.debugRenderTree){const{manager:n,definition:i,state:s}=t;if(null===s||"object"!=typeof s&&"function"!=typeof s)return;let{element:o,constructing:a}=e.tree(),l=i.resolvedName??n.getDebugName(i.state),c=n.getDebugInstance(s),u=new xg(o,a,a);e.env.debugRenderTree.create(s,{type:"modifier",name:l,args:r,instance:c}),e.env.debugRenderTree.didRender(s,u),e.associateDestroyable(s),e.updateWith(new Yg(s)),e.updateWith(new Jg(s,u)),Fe(s,()=>{e.env.debugRenderTree?.willDestroy(s)})}}flush(e){let t,r=this.attributes;for(let n in this.attributes){if("type"===n){t=r[n];continue}let i=this.attributes[n];"class"===n?Wg(e,"class",Vg(this.classes),i.namespace,i.trusting):Wg(e,n,i.value,i.namespace,i.trusting)}return void 0!==t&&Wg(e,"type",t.value,t.namespace,t.trusting),this.modifiers}constructor(){this.attributes=hr(),this.classes=[],this.modifiers=[]}}function Vg(e){return 0===e.length?"":1===e.length?e[0]:function(e){return e.every(e=>"string"==typeof e)}(e)?e.join(" "):(t=e,Cr(()=>{let e=[];for(const r of t){let t=Mg("string"==typeof r?r:Nr(r));t&&e.push(t)}return 0===e.length?null:e.join(" ")}));var t}function Wg(e,t,r,n,i=!1){if("string"==typeof r)e.tree().setStaticAttribute(t,r,n);else{let s=e.tree().setDynamicAttribute(t,Nr(r),i,n);Pr(r)||e.updateWith(new $g(r,s,e.env))}}function Kg(e,t,r,n,i){let s=r.table.symbols.indexOf(e),o=n.get(t);-1!==s&&i.scope().bindBlock(s+1,o),r.lookup&&(r.lookup[e]=o)}cg.add(99,(e,{op1:t})=>{let{definition:r,state:n}=e.fetchValue(t),{manager:i}=r,s=e.fetchValue(6);i.didCreateElement(n,e.tree().constructing,s)}),cg.add(90,(e,{op1:t,op2:r})=>{let n=e.fetchValue(t),{definition:i,state:s}=n,{manager:o}=i,a=o.getSelf(s);if(void 0!==e.env.debugRenderTree){let n,i,o=e.fetchValue(t),{definition:l,manager:c}=o;if(e.stack.peek()===e.args)n=e.args.capture();else{let t=e.constants.getArray(r);e.args.setup(e.stack,t,[],0,!0),n=e.args.capture()}let u=l.compilable;if(null===u){un(0,o.capabilities,Jr.dynamicLayout);let t=e.context.resolver;u=null===t?null:c.getDynamicLayout(s,t),i=null!==u?u.moduleName:"__default__.hbs"}else i=u.moduleName;if(e.associateDestroyable(o),Tg(c))c.getDebugCustomRenderTree(o.definition.state,o.state,n,i).forEach(t=>{let{bucket:r}=t;e.env.debugRenderTree.create(r,t),Fe(o,()=>{e.env.debugRenderTree?.willDestroy(r)}),e.updateWith(new Yg(r))});else{let t=function(e,t=e.manager){return e.resolvedName??e.debugName??t.getDebugName(e.state)}(l,c);e.env.debugRenderTree.create(o,{type:"component",name:t,args:n,template:i,instance:Nr(a)}),Fe(o,()=>{e.env.debugRenderTree?.willDestroy(o)}),e.updateWith(new Yg(o))}}e.stack.push(a)}),cg.add(91,(e,{op1:t})=>{let{definition:r,state:n}=e.fetchValue(t),{manager:i}=r,s=i.getTagName(n);e.stack.push(s)}),cg.add(92,(e,{op1:t})=>{let r=e.fetchValue(t),{manager:n,definition:i}=r,{stack:s}=e,{compilable:o}=i;if(null===o){let{capabilities:t}=r,i=e.context.resolver;o=null===i?null:n.getDynamicLayout(r.state,i),null===o&&(o=un(0,t,Jr.wrapped)?ag(e.constants.defaultTemplate).asWrappedLayout():ag(e.constants.defaultTemplate).asLayout())}let a=o.compile(e.context);s.push(o.symbolTable),s.push(a)}),cg.add(75,(e,{op1:t})=>{let r=e.stack.pop(),n=e.stack.pop(),{manager:i,capabilities:s}=r,o={definition:r,manager:i,capabilities:s,state:null,handle:n.handle,table:n.symbolTable,lookup:null};e.loadValue(t,o)}),cg.add(95,(e,{op1:t})=>{let{stack:r}=e,n=r.pop(),i=r.pop(),s=e.fetchValue(t);s.handle=n,s.table=i}),cg.add(38,(e,{op1:t})=>{let r,{table:n,manager:i,capabilities:s,state:o}=e.fetchValue(t);un(0,s,Jr.hasSubOwner)?(r=i.getOwner(o),e.loadValue(7,null)):(r=e.fetchValue(7),null===r?r=e.getOwner():e.loadValue(7,null)),e.pushRootScope(n.symbols.length+1,r)}),cg.add(17,(e,{op1:t})=>{let r=e.fetchValue(t),n=e.scope(),i=e.stack.peek(),s=i.named.atNames;for(let o=s.length-1;o>=0;o--){let e=s[o],t=r.table.symbols.indexOf(e),a=i.named.get(e,!0);-1!==t&&n.bindSymbol(t+1,a),r.lookup&&(r.lookup[e]=a)}}),cg.add(18,(e,{op1:t})=>{let r=e.fetchValue(t),{blocks:n}=e.stack.peek();for(const[i]of lr(n.names))Kg(n.symbolNames[i],n.names[i],r,n,e)}),cg.add(96,(e,{op1:t})=>{let r=e.fetchValue(t);e.call(r.handle)}),cg.add(100,(e,{op1:t})=>{let r=e.fetchValue(t),{manager:n,state:i,capabilities:s}=r,o=e.tree().popBlock();void 0!==e.env.debugRenderTree&&(Tg(n)?n.getDebugCustomRenderTree(r.definition.state,i,gm).reverse().forEach(t=>{let{bucket:r}=t;e.env.debugRenderTree.didRender(r,o),e.updateWith(new Jg(r,o))}):(e.env.debugRenderTree.didRender(r,o),e.updateWith(new Jg(r,o)))),un(0,s,Jr.createInstance)&&(n.didRenderLayout(i,o),e.env.didCreate(r),e.updateWith(new Gg(r,o)))}),cg.add(98,e=>{e.commitCacheGroup()});class Qg{constructor(e,t,r){this.component=e,this.manager=t,this.dynamicScope=r}evaluate(e){let{component:t,manager:r,dynamicScope:n}=this;r.update(t,n)}}class Gg{constructor(e,t){this.component=e,this.bounds=t}evaluate(e){let{component:t,bounds:r}=this,{manager:n,state:i}=t;n.didUpdateLayout(i,r),e.env.didUpdate(t)}}class Yg{constructor(e){this.bucket=e}evaluate(e){e.env.debugRenderTree?.update(this.bucket)}}class Jg{constructor(e,t){this.bucket=e,this.bounds=t}evaluate(e){e.env.debugRenderTree?.didRender(this.bucket,this.bounds)}}class Zg{constructor(){this.stack=null,this.positional=new em,this.named=new tm,this.blocks=new im}empty(e){let t=e.registers[3]+1;return this.named.empty(e,t),this.positional.empty(e,t),this.blocks.empty(e,t),this}setup(e,t,r,n,i){this.stack=e;let s=this.named,o=t.length,a=e.registers[3]-o+1;s.setup(e,a,o,t,i);let l=a-n;this.positional.setup(e,l,n);let c=this.blocks,u=r.length,h=l-3*u;c.setup(e,h,u,r)}get base(){return this.blocks.base}get length(){return this.positional.length+this.named.length+3*this.blocks.length}at(e){return this.positional.at(e)}realloc(e){let{stack:t}=this;if(e>0&&null!==t){let{positional:r,named:n}=this,i=r.base+e;for(let e=r.length+n.length-1;e>=0;e--)t.copy(e+r.base,e+i);r.base+=e,n.base+=e,t.registers[3]+=e}}capture(){let e=0===this.positional.length?fm:this.positional.capture();return{named:0===this.named.length?pm:this.named.capture(),positional:e}}clear(){let{stack:e,length:t}=this;t>0&&null!==e&&e.pop(t)}}const Xg=ir();class em{constructor(){this.base=0,this.length=0,this.stack=null,this._references=null}empty(e,t){this.stack=e,this.base=t,this.length=0,this._references=Xg}setup(e,t,r){this.stack=e,this.base=t,this.length=r,this._references=0===r?Xg:null}at(e){let{base:t,length:r,stack:n}=this;return e<0||e>=r?Sr:n.get(e,t)}capture(){return this.references}prepend(e){let t=e.length;if(t>0){let{base:r,length:n,stack:i}=this;this.base=r-=t,this.length=n+t;for(let s=0;s<t;s++)i.set(e[s],s,r);this._references=null}}get references(){let e=this._references;if(!e){let{stack:t,base:r,length:n}=this;e=this._references=t.slice(r,r+n)}return e}}class tm{constructor(){this.base=0,this.length=0,this._references=null,this._names=sr,this._atNames=sr}empty(e,t){this.stack=e,this.base=t,this.length=0,this._references=Xg,this._names=sr,this._atNames=sr}setup(e,t,r,n,i){this.stack=e,this.base=t,this.length=r,0===r?(this._references=Xg,this._names=sr,this._atNames=sr):(this._references=null,i?(this._names=null,this._atNames=n):(this._names=n,this._atNames=null))}get names(){let e=this._names;return e||(e=this._names=this._atNames.map(this.toSyntheticName)),e}get atNames(){let e=this._atNames;return e||(e=this._atNames=this._names.map(this.toAtName)),e}has(e){return-1!==this.names.indexOf(e)}get(e,t=!1){let{base:r,stack:n}=this,i=(t?this.atNames:this.names).indexOf(e);return-1===i?Sr:n.get(i,r)}capture(){let{names:e,references:t}=this,r=hr();for(const[n,i]of lr(e))r[i]=t[n];return r}merge(e){let t=Object.keys(e);if(t.length>0){let{names:r,length:n,stack:i}=this,s=r.slice();for(const o of t)-1===s.indexOf(o)&&(n=s.push(o),i.push(e[o]));this.length=n,this._references=null,this._names=s,this._atNames=null}}get references(){let e=this._references;if(!e){let{base:t,length:r,stack:n}=this;e=this._references=n.slice(t,t+r)}return e}toSyntheticName(e){return e.slice(1)}toAtName(e){return`@${e}`}}function rm(e){return`&${e}`}const nm=ir();class im{constructor(){this.internalValues=null,this._symbolNames=null,this.internalTag=null,this.names=sr,this.length=0,this.base=0}empty(e,t){this.stack=e,this.names=sr,this.base=t,this.length=0,this._symbolNames=null,this.internalTag=pt,this.internalValues=nm}setup(e,t,r,n){this.stack=e,this.names=n,this.base=t,this.length=r,this._symbolNames=null,0===r?(this.internalTag=pt,this.internalValues=nm):(this.internalTag=null,this.internalValues=null)}get values(){let e=this.internalValues;if(!e){let{base:t,length:r,stack:n}=this;e=this.internalValues=n.slice(t,t+3*r)}return e}has(e){return-1!==this.names.indexOf(e)}get(e){let t=this.names.indexOf(e);if(-1===t)return null;let{base:r,stack:n}=this,i=n.get(3*t,r),s=n.get(3*t+1,r),o=n.get(3*t+2,r);return null===o?null:[o,s,i]}capture(){return new sm(this.names,this.values)}get symbolNames(){let e=this._symbolNames;return null===e&&(e=this._symbolNames=this.names.map(rm)),e}}class sm{constructor(e,t){this.names=e,this.values=t,this.length=e.length}has(e){return-1!==this.names.indexOf(e)}get(e){let t=this.names.indexOf(e);return-1===t?null:[this.values[3*t+2],this.values[3*t+1],this.values[3*t]]}}function om(e,t){return{named:e,positional:t}}function am(e){let t=hr();for(const[r,n]of Object.entries(e))t[r]=Nr(n);return t}function lm(e){return e.map(Nr)}const cm=Symbol("ARGUMENT_ERROR");function um(e){return null!==e&&"object"==typeof e&&e[cm]}function hm(e){return{[cm]:!0,error:e}}function dm(e){return{named:function(e){let t=hr();for(const[n,i]of Object.entries(e))try{t[n]=Nr(i)}catch(r){t[n]=hm(r)}return t}(e.named),positional:(t=e.positional,t.map(e=>{try{return Nr(e)}catch(t){return hm(t)}}))};var t}const pm=Object.freeze(Object.create(null)),fm=Xg,gm=om(pm,fm);function mm(e){return"string"==typeof e?e:"function"!=typeof e.toString?"":String(e)}function ym(e){let t,r=Tn(e);return t=null===r?null:"function"==typeof r?r:r.getHelper(e),t}function bm(e){return e===Sr}cg.add(77,(e,{op1:t,op2:r})=>{let n=e.stack,i=n.pop(),s=n.pop(),o=e.getOwner();e.context.resolver,e.loadValue(8,function(e,t,r,n){let i,s;return Cr(()=>{let o=Nr(t);return o===i||(s=yg(o,e)?n?vg(e,o,r,n):n:0===e&&"string"==typeof o&&o||pr(o)?vg(e,o,r,n):null,i=o),s})}(t,i,o,s))}),cg.add(107,e=>{let t,r=e.stack,n=r.pop(),i=r.pop().capture(),s=e.getOwner(),o=Cr(()=>{void 0!==t&&Ue(t);let e=Nr(n);if(yg(e,1)){let{definition:r,owner:n,positional:s,named:a}=_g(e),l=ym(r);void 0!==a&&(i.named=mr({},...a,i.named)),void 0!==s&&(i.positional=s.concat(i.positional)),t=l(i,n),qe(o,t)}else if(pr(e)){let r=ym(e);t=r(i,s),Be(t)&&qe(o,t)}else t=Sr}),a=Cr(()=>(Nr(o),Nr(t)));e.associateDestroyable(o),e.loadValue(8,a)}),cg.add(16,(e,{op1:t})=>{let r=e.stack,n=e.constants.getValue(t)(r.pop().capture(),e.getOwner(),e.dynamicScope());Be(n)&&e.associateDestroyable(n),e.loadValue(8,n)}),cg.add(21,(e,{op1:t})=>{let r=e.referenceForSymbol(t);e.stack.push(r)}),cg.add(19,(e,{op1:t})=>{let r=e.stack.pop();e.scope().bindSymbol(t,r)}),cg.add(20,(e,{op1:t})=>{let r=e.stack.pop(),n=e.stack.pop(),i=e.stack.pop();e.scope().bindBlock(t,[r,n,i])}),cg.add(37,(e,{op1:t})=>{e.pushRootScope(t,e.getOwner())}),cg.add(22,(e,{op1:t})=>{let r=e.constants.getValue(t),n=e.stack.pop();e.stack.push(Lr(n,r))}),cg.add(23,(e,{op1:t})=>{let{stack:r}=e,n=e.scope().getBlock(t);r.push(n)}),cg.add(24,e=>{let{stack:t}=e,r=t.pop();if(r&&!bm(r)){let[e,n,i]=r;t.push(i),t.push(n),t.push(e)}else t.push(null),t.push(null),t.push(null)}),cg.add(25,e=>{let{stack:t}=e,r=t.pop();r&&!bm(r)?t.push(Ar):t.push(Rr)}),cg.add(26,e=>{e.stack.pop(),e.stack.pop();let t=e.stack.pop(),r=t&&t.parameters.length;e.stack.push(r?Ar:Rr)}),cg.add(27,(e,{op1:t})=>{let r=new Array(t);for(let i=t;i>0;i--)r[i-1]=e.stack.pop();var n;e.stack.push((n=r,Cr(()=>{const e=[];for(const t of n){const r=Nr(t);null!=r&&e.push(mm(r))}return e.length>0?e.join(""):null})))}),cg.add(109,e=>{let t=e.stack.pop(),r=e.stack.pop(),n=e.stack.pop();e.stack.push(Cr(()=>Ae(Nr(t))?Nr(r):Nr(n)))}),cg.add(110,e=>{let t=e.stack.pop();e.stack.push(Cr(()=>!Ae(Nr(t))))}),cg.add(111,e=>{let t=e.dynamicScope(),r=e.stack,n=r.pop();r.push(Cr(()=>{let e=String(Nr(n));return Nr(t.get(e))}))}),cg.add(112,e=>{let{positional:t}=e.stack.pop().capture();e.loadValue(8,Cr(()=>{console.log(...lm(t))}))});class _m{constructor(e,t,r){this.node=e,this.reference=t,this.lastValue=r}evaluate(){let e,t=Nr(this.reference),{lastValue:r}=this;t!==r&&(e=Ig(t)?"":Ng(t)?t:String(t),e!==r)&&(this.node.nodeValue=this.lastValue=e)}}function vm(e){return function(e){return Ng(e)||Ig(e)||"boolean"==typeof e||"number"==typeof e}(e)?2:yg(e,0)||On(e)?0:yg(e,1)||Mn(e)?1:Dg(e)?4:function(e){return Pg(e)&&11===e.nodeType}(e)?5:function(e){return Pg(e)&&"number"==typeof e.nodeType}(e)?6:2}function wm(e){return pr(e)?yg(e,0)||On(e)?0:1:2}function km(e,t){console.info("Use `context`, and `get(<path>)` to debug this template."),t("this")}cg.add(76,e=>{let t=e.stack.peek();e.stack.push(vm(Nr(t))),Pr(t)||e.updateWith(new Lg(t,vm))}),cg.add(106,e=>{let t=e.stack.peek();e.stack.push(wm(Nr(t))),Pr(t)||e.updateWith(new Lg(t,wm))}),cg.add(43,e=>{let t=Nr(e.stack.pop()),r=Ig(t)?"":String(t);e.tree().appendDynamicHTML(r)}),cg.add(44,e=>{let t=Nr(e.stack.pop()).toHTML(),r=Ig(t)?"":t;e.tree().appendDynamicHTML(r)}),cg.add(47,e=>{let t=e.stack.pop(),r=Nr(t),n=Ig(r)?"":String(r),i=e.tree().appendDynamicText(n);Pr(t)||e.updateWith(new _m(i,t,n))}),cg.add(45,e=>{let t=Nr(e.stack.pop());e.tree().appendDynamicFragment(t)}),cg.add(46,e=>{let t=Nr(e.stack.pop());e.tree().appendDynamicNode(t)});let Sm=km;class xm{#f;constructor(e,t){this.scope=e,this.#f=t}get(e){let t,{scope:r}=this,n=this.#f,i=e.split("."),[s,...o]=e.split(".");return"this"===s?t=r.getSelf():n.locals[s]?t=r.getSymbol(n.locals[s]):(t=this.scope.getSelf(),o=i),o.reduce((e,t)=>Lr(e,t),t)}}cg.add(103,(e,{op1:t})=>{let r=e.constants.getValue(t),n=new xm(e.scope(),r);Sm(Nr(e.getSelf()),e=>Nr(n.get(e)))}),cg.add(72,(e,{op1:t,op2:r})=>{let n=e.stack,i=n.pop(),s=Nr(n.pop()),o=Wr(i,null===s?"@identity":String(s)),a=Nr(o);e.updateWith(new Lg(o,e=>e.isEmpty())),a.isEmpty()?e.lowlevel.goto(r+1):(e.enterList(o,t),e.stack.push(a))}),cg.add(73,e=>{e.exitList()}),cg.add(74,(e,{op1:t})=>{let r=e.stack.peek().next();null!==r?e.registerItem(e.enterItem(r)):e.lowlevel.goto(t)});const Am={dynamicLayout:!1,dynamicTag:!1,prepareArgs:!1,createArgs:!1,attributeHook:!1,elementHook:!1,createCaller:!1,dynamicScope:!1,updateHook:!1,createInstance:!1,wrapped:!1,willDestroy:!1,hasSubOwner:!1};class Rm{getCapabilities(){return Am}getDebugName({name:e}){return e}getSelf(){return xr}getDestroyable(){return null}}const Tm=new Rm;class Em{constructor(e="@glimmer/component/template-only",t="(unknown template-only component)"){this.moduleName=e,this.name=t}toString(){return this.moduleName}}function Cm(e,t){return new Em(e,t)}En(Tm,Em.prototype);const Om={foreignObject:1,desc:1,title:1},Mm=Object.create(null);class Im{constructor(e){this.document=e,this.setupUselessElement()}setupUselessElement(){this.uselessElement=this.document.createElement("div")}createElement(e,t){let r,n,i,s;if(t?(r=t.namespaceURI===ig||"svg"===e,i=t.namespaceURI===ng||"math"===e,n=!!Om[t.tagName]):(r="svg"===e,i="math"===e,n=!1),!i&&!r||n)return this.document.createElement(e);if(Mm[e])throw new Error(`Cannot create a ${e} inside an SVG context`);return s=i?ng:ig,this.document.createElementNS(s,e)}insertBefore(e,t,r){e.insertBefore(t,r)}insertHTMLBefore(e,t,r){if(""===r){const r=this.createComment("");return e.insertBefore(r,t),new xg(e,r,r)}const n=t?t.previousSibling:e.lastChild;let i;if(null===t)e.insertAdjacentHTML("beforeend",r),i=e.lastChild;else if(t instanceof HTMLElement)t.insertAdjacentHTML("beforebegin",r),i=t.previousSibling;else{const{uselessElement:n}=this;e.insertBefore(n,t),n.insertAdjacentHTML("beforebegin",r),i=n.previousSibling,e.removeChild(n)}const s=n?n.nextSibling:e.firstChild;return new xg(e,s,i)}createTextNode(e){return this.document.createTextNode(e)}createComment(e){return this.document.createComment(e)}}function Pm(e,t,r){if(!e)return t;if(!function(e,t){const r=e.createElementNS(t,"svg");try{r.insertAdjacentHTML("beforeend","<circle></circle>")}catch{}finally{return 1!==r.childNodes.length||r.firstChild.namespaceURI!==ig}}(e,r))return t;const n=e.createElement("div");return class extends t{insertHTMLBefore(e,t,i){return""===i||e.namespaceURI!==r?super.insertHTMLBefore(e,t,i):function(e,t,r,n){let i;if("FOREIGNOBJECT"===e.tagName.toUpperCase()){const e="<svg><foreignObject>"+r+"</foreignObject></svg>";gr(t),t.insertAdjacentHTML("afterbegin",e),i=t.firstChild.firstChild}else{const e="<svg>"+r+"</svg>";gr(t),t.insertAdjacentHTML("afterbegin",e),i=t.firstChild}return function(e,t,r){const n=e.firstChild;let i=n,s=n;for(;s;){const e=s.nextSibling;t.insertBefore(s,r),i=s,s=e}return new xg(t,n,i)}(i,e,n)}(e,n,i,t)}}}function Dm(e,t){return e&&function(e){const t=e.createElement("div");return t.appendChild(e.createTextNode("first")),t.insertAdjacentHTML("beforeend","second"),2!==t.childNodes.length}(e)?class extends t{constructor(e){super(e),this.uselessComment=e.createComment("")}insertHTMLBefore(e,t,r){if(""===r)return super.insertHTMLBefore(e,t,r);let n=!1;const i=t?t.previousSibling:e.lastChild;i&&i instanceof Text&&(n=!0,e.insertBefore(this.uselessComment,t));const s=super.insertHTMLBefore(e,t,r);return n&&e.removeChild(this.uselessComment),s}}:t}const Nm="undefined"==typeof document?null:sg(document);let jm=class extends Im{createElementNS(e,t){return this.document.createElementNS(e,t)}setAttribute(e,t,r,n=null){n?e.setAttributeNS(n,t,r):e.setAttribute(t,r)}};jm=Dm(Nm,jm),jm=Pm(Nm,jm,ig);const Lm=jm;["b","big","blockquote","body","br","center","code","dd","div","dl","dt","em","embed","h1","h2","h3","h4","h5","h6","head","hr","i","img","li","listing","main","meta","nobr","ol","p","pre","ruby","s","small","span","strong","strike","sub","sup","table","tt","u","ul","var"].forEach(e=>Mm[e]=1);const qm=/[\t\n\v\f\r \xa0\u{1680}\u{180e}\u{2000}-\u{200a}\u{2028}\u{2029}\u{202f}\u{205f}\u{3000}\u{feff}]/u,Fm="undefined"==typeof document?null:sg(document);class zm extends Im{constructor(e){super(e),this.document=e,this.namespace=null}setAttribute(e,t,r){e.setAttribute(t,r)}removeAttribute(e,t){e.removeAttribute(t)}insertAfter(e,t,r){this.insertBefore(e,t,r.nextSibling)}}let Um=zm;Um=Dm(Fm,Um),Um=Pm(Fm,Um,ig);const Bm=Um;function $m(e,t){let r,n;if(t in e)n=t,r="prop";else{let i=t.toLowerCase();i in e?(r="prop",n=i):(r="attr",n=t)}return"prop"!==r||"style"!==n.toLowerCase()&&!function(e,t){let r=Hm[e.toUpperCase()];return!(!r||!r[t.toLowerCase()])}(e.tagName,n)||(r="attr"),{normalized:n,type:r}}const Hm={INPUT:{form:!0,autocorrect:!0,list:!0},SELECT:{form:!0},OPTION:{form:!0},TEXTAREA:{form:!0},LABEL:{form:!0},FIELDSET:{form:!0},LEGEND:{form:!0},OBJECT:{form:!0},OUTPUT:{form:!0},BUTTON:{form:!0}},Vm=Symbol("TRANSACTION");class Wm{didCreate(e){this.createdComponents.push(e)}didUpdate(e){this.updatedComponents.push(e)}scheduleInstallModifier(e){this.scheduledInstallModifiers.push(e)}scheduleUpdateModifier(e){this.scheduledUpdateModifiers.push(e)}commit(){let{createdComponents:e,updatedComponents:t}=this;for(const{manager:i,state:s}of e)i.didCreate(s);for(const{manager:i,state:s}of t)i.didUpdate(s);let{scheduledInstallModifiers:r,scheduledUpdateModifiers:n}=this;for(const{manager:i,state:s,definition:o}of r){let e=i.getTag(s);if(null!==e){let t=Ft(()=>i.install(s));ut(e,t)}else i.install(s)}for(const{manager:i,state:s,definition:o}of n){let e=i.getTag(s);if(null!==e){let t=Ft(()=>i.update(s));ut(e,t)}else i.update(s)}}constructor(){this.scheduledInstallModifiers=[],this.scheduledUpdateModifiers=[],this.createdComponents=[],this.updatedComponents=[]}}class Km{static{Ym=Vm}constructor(e,t){this.delegate=t,this[Ym]=null,this.isInteractive=t.isInteractive,this.debugRenderTree=this.delegate.enableDebugTooling?new Og:void 0,this.isArgumentCaptureError=this.delegate.enableDebugTooling?um:void 0,e.appendOperations?(this.appendOperations=e.appendOperations,this.updateOperations=e.updateOperations):e.document&&(this.appendOperations=new Lm(e.document),this.updateOperations=new zm(e.document))}getAppendOperations(){return this.appendOperations}getDOM(){return this.updateOperations}begin(){this[Vm],this.debugRenderTree?.begin(),this[Vm]=new Wm}get transaction(){return this[Vm]}didCreate(e){this.transaction.didCreate(e)}didUpdate(e){this.transaction.didUpdate(e)}scheduleInstallModifier(e){this.isInteractive&&this.transaction.scheduleInstallModifier(e)}scheduleUpdateModifier(e){this.isInteractive&&this.transaction.scheduleUpdateModifier(e)}commit(){let e=this.transaction;this[Vm]=null,e.commit(),this.debugRenderTree?.commit(),this.delegate.onTransactionCommit()}}function Qm(e,t,r,n){return{env:new Km(e,t),program:new rg(r.constants,r.heap),resolver:n}}function Gm(e,t){if(e[Vm])t();else{e.begin();try{t()}finally{e.commit()}}}var Ym;function Jm(e){return An(e,{})}const Zm=Jm(({positional:e})=>Cr(()=>lm(e),null)),Xm=e=>(e=>null==e||"function"!=typeof e.toString)(e)?"":String(e),ey=Jm(({positional:e})=>Cr(()=>lm(e).map(Xm).join(""),null)),ty=Jm(({positional:e})=>{let t=e[0];return Cr(()=>(...r)=>{let[n,...i]=lm(e);if(!Mr(t))return n.call(null,...i,...r);{let e=i.length>0?i[0]:r[0];jr(t,e)}},null)}),ry=Jm(({positional:e})=>{let t=e[0]??Sr,r=e[1]??Sr;return Cr(()=>{let e=Nr(t);if(dr(e))return Ee(e,String(Nr(r)))},e=>{let n=Nr(t);if(dr(n))return Ce(n,String(Nr(r)),e)})}),ny=Jm(({named:e})=>{let t=Cr(()=>am(e),null),r=new Map;for(let n in e)r.set(n,e[n]);return t.children=r,t});function iy(e){return Lt(e.argsCache)}class sy{constructor(e,t=()=>gm){let r=jt(()=>t(e));this.argsCache=r}get named(){return iy(this).named||pm}get positional(){return iy(this).positional||fm}}class oy{constructor(e,t){this.tag=dt(),this.listener=null,this.element=e,this.args=t,Fe(this,()=>{let{element:e,listener:t}=this;if(t){let{eventName:r,callback:n,options:i}=t;cy(e,r,n,i)}})}updateListener(){let{element:e,args:t,listener:r}=this;t.positional[0];let n=Nr(t.positional[0]);t.positional[1];let i,s,o,a=Nr(t.positional[1]);{let{once:e,passive:r,capture:n}=t.named;e&&(i=Nr(e)),r&&(s=Nr(r)),n&&(o=Nr(n))}let l,c=!1;if(c=null===r||n!==r.eventName||a!==r.userProvidedCallback||i!==r.once||s!==r.passive||o!==r.capture,c&&(void 0===i&&void 0===s&&void 0===o||(l={once:i,passive:s,capture:o})),c){let t=a;this.listener={eventName:n,callback:t,userProvidedCallback:a,once:i,passive:s,capture:o,options:l},r&&cy(e,r.eventName,r.callback,r.options),function(e,t,r,n){ay++,e.addEventListener(t,r,n)}(e,n,t,l)}}}let ay=0,ly=0;function cy(e,t,r,n){ly++,e.removeEventListener(t,r,n)}const uy=Sn(new class{getDebugName(){return"on"}getDebugInstance(){return null}get counters(){return{adds:ay,removes:ly}}create(e,t,r,n){return new oy(t,n)}getTag({tag:e}){return e}install(e){e.updateListener()}update(e){e.updateListener()}getDestroyable(e){return e}},{});class hy{constructor(e,t,r,n){this.stack=e,this.externs=r,this.currentOpSize=0,this.context=t,this.registers=n}fetchRegister(e){return this.registers[e]}loadRegister(e,t){this.registers[e]=t}setPc(e){this.registers[0]=e}pushFrame(){this.stack.push(this.registers[1]),this.stack.push(this.registers[2]),this.registers[2]=this.registers[3]-1}popFrame(){this.registers[3]=this.registers[2]-1,this.registers[1]=this.stack.get(0),this.registers[2]=this.stack.get(1)}pushSmallFrame(){this.stack.push(this.registers[1])}popSmallFrame(){this.registers[1]=this.stack.pop()}goto(e){this.setPc(this.target(e))}target(e){return this.registers[0]+e-this.currentOpSize}call(e){this.registers[1]=this.registers[0],this.setPc(this.context.program.heap.getaddr(e))}returnTo(e){this.registers[1]=this.target(e)}return(){this.setPc(this.registers[1])}nextStatement(){let{registers:e,context:t}=this,r=e[0];if(-1===r)return null;let n=t.program.opcode(r),i=this.currentOpSize=n.size;return this.registers[0]+=i,n}evaluateOuter(e,t){this.evaluateInner(e,t)}evaluateInner(e,t){e.isMachine?this.evaluateMachine(e,t):this.evaluateSyscall(e,t)}evaluateMachine(e,t){switch(e.type){case 0:return void this.pushFrame();case 1:return void this.popFrame();case 3:return void this.call(e.op1);case 2:return void t.call(this.stack.pop());case 4:return void this.goto(e.op1);case 5:return void t.return();case 6:return void this.returnTo(e.op1)}}evaluateSyscall(e,t){cg.evaluate(t,e,e.type)}}const dy=["javascript:","vbscript:"],py=["A","BODY","LINK","IMG","IFRAME","BASE","FORM"],fy=["EMBED"],gy=["href","src","background","action"],my=["src"];function yy(e,t){return-1!==e.indexOf(t)}function by(e,t){return(null===e||yy(py,e))&&yy(gy,t)}function _y(e,t){return null!==e&&yy(fy,e)&&yy(my,t)}function vy(e,t){return by(e,t)||_y(e,t)}let wy;function ky(e,t,r){if(null==r)return r;if(Dg(r))return r.toHTML();const n=e.tagName.toUpperCase();let i=Mg(r);if(by(n,t)){let e=(s=i,wy||(wy=function(){const e=URL;if("object"==typeof e&&null!==e&&"function"==typeof e.parse){let t=e;return e=>{let r=null;return"string"==typeof e&&(r=t.parse(e).protocol),null===r?":":r}}if("function"==typeof e)return t=>{try{return new e(t).protocol}catch{return":"}};throw new Error('@glimmer/runtime needs a valid "globalThis.URL"')}()),wy(s));if(yy(dy,e))return`unsafe:${i}`}var s;return _y(n,t)?`unsafe:${i}`:i}function Sy(e,t,r){const{tagName:n,namespaceURI:i}=e,s={element:e,name:t,namespace:r};if(i===ig)return xy(n,t,s);const{type:o,normalized:a}=$m(e,t);return"attr"===o?xy(n,a,s):function(e,t,r){return vy(e,t)?new Ey(t,r):function(e,t){return("INPUT"===e||"TEXTAREA"===e)&&"value"===t}(e,t)?new Oy(t,r):function(e,t){return"OPTION"===e&&"selected"===t}(e,t)?new My(t,r):new Ty(t,r)}(n,a,s)}function xy(e,t,r){return vy(e,t)?new Cy(r):new Ry(r)}class Ay{constructor(e){this.attribute=e}}class Ry extends Ay{set(e,t,r){const n=Iy(t);if(null!==n){const{name:t,namespace:r}=this.attribute;e.__setAttribute(t,n,r)}}update(e,t){const r=Iy(e),{element:n,name:i}=this.attribute;null===r?n.removeAttribute(i):n.setAttribute(i,r)}}class Ty extends Ay{constructor(e,t){super(t),this.normalizedName=e}set(e,t,r){null!=t&&(this.value=t,e.__setProperty(this.normalizedName,t))}update(e,t){const{element:r}=this.attribute;this.value!==e&&(r[this.normalizedName]=this.value=e,null==e&&this.removeAttribute())}removeAttribute(){const{element:e,namespace:t}=this.attribute;t?e.removeAttributeNS(t,this.normalizedName):e.removeAttribute(this.normalizedName)}}class Ey extends Ty{set(e,t,r){const{element:n,name:i}=this.attribute,s=ky(n,i,t);super.set(e,s,r)}update(e,t){const{element:r,name:n}=this.attribute,i=ky(r,n,e);super.update(i,t)}}class Cy extends Ry{set(e,t,r){const{element:n,name:i}=this.attribute,s=ky(n,i,t);super.set(e,s,r)}update(e,t){const{element:r,name:n}=this.attribute,i=ky(r,n,e);super.update(i,t)}}class Oy extends Ty{set(e,t){e.__setProperty("value",Mg(t))}update(e){const t=this.attribute.element,r=t.value,n=Mg(e);r!==n&&(t.value=n)}}class My extends Ty{set(e,t){null!=t&&!1!==t&&e.__setProperty("selected",!0)}update(e){this.attribute.element.selected=!!e}}function Iy(e){return!1===e||null==e||void 0===e.toString?null:!0===e?"":"function"==typeof e?null:String(e)}class Py{constructor(e){this.node=e}firstNode(){return this.node}}class Dy{constructor(e){this.node=e}lastNode(){return this.node}}class Ny{static forInitialRender(e,t){return new this(e,t.element,t.nextSibling).initialize()}static resume(e,t){let r=new this(e,t.parentElement(),t.reset(e)).initialize();return r.pushBlock(t),r}constructor(e,t,r){this.constructing=null,this.operations=null,this.cursors=new fr,this.modifierStack=new fr,this.blockStack=new fr,this.pushElement(t,r),this.env=e,this.dom=e.getAppendOperations(),this.updateOperations=e.getDOM()}initialize(){return this.pushAppendingBlock(),this}debugBlocks(){return this.blockStack.toArray()}get element(){return this.cursors.current.element}get nextSibling(){return this.cursors.current.nextSibling}get hasBlocks(){return this.blockStack.size>0}block(){return this.blockStack.current}popElement(){this.cursors.pop(),this.cursors.current}pushAppendingBlock(){return this.pushBlock(new jy(this.element))}pushResettableBlock(){return this.pushBlock(new qy(this.element))}pushBlockList(e){return this.pushBlock(new Fy(this.element,e))}pushBlock(e,t=!1){let r=this.blockStack.current;return null!==r&&(t||r.didAppendBounds(e)),this.__openBlock(),this.blockStack.push(e),e}popBlock(){return this.block().finalize(this),this.__closeBlock(),this.blockStack.pop()}__openBlock(){}__closeBlock(){}openElement(e){let t=this.__openElement(e);return this.constructing=t,t}__openElement(e){return this.dom.createElement(e,this.element)}flushElement(e){let t=this.element,r=this.constructing;this.__flushElement(t,r),this.constructing=null,this.operations=null,this.pushModifiers(e),this.pushElement(r,null),this.didOpenElement(r)}__flushElement(e,t){this.dom.insertBefore(e,t,this.nextSibling)}closeElement(){return this.willCloseElement(),this.popElement(),this.popModifiers()}pushRemoteElement(e,t,r){return this.__pushRemoteElement(e,t,r)}__pushRemoteElement(e,t,r){if(this.pushElement(e,r),void 0===r)for(;e.lastChild;)e.removeChild(e.lastChild);let n=new Ly(e);return this.pushBlock(n,!0)}popRemoteElement(){const e=this.popBlock();return this.popElement(),e}pushElement(e,t=null){this.cursors.push(new Sg(e,t))}pushModifiers(e){this.modifierStack.push(e)}popModifiers(){return this.modifierStack.pop()}didAppendBounds(e){return this.block().didAppendBounds(e),e}didAppendNode(e){return this.block().didAppendNode(e),e}didOpenElement(e){return this.block().openElement(e),e}willCloseElement(){this.block().closeElement()}appendText(e){return this.didAppendNode(this.__appendText(e))}__appendText(e){let{dom:t,element:r,nextSibling:n}=this,i=t.createTextNode(e);return t.insertBefore(r,i,n),i}__appendNode(e){return this.dom.insertBefore(this.element,e,this.nextSibling),e}__appendFragment(e){let t=e.firstChild;if(t){let r=new xg(this.element,t,e.lastChild);return this.dom.insertBefore(this.element,e,this.nextSibling),r}{const e=this.__appendComment("");return new xg(this.element,e,e)}}__appendHTML(e){return this.dom.insertHTMLBefore(this.element,this.nextSibling,e)}appendDynamicHTML(e){let t=this.trustedContent(e);this.didAppendBounds(t)}appendDynamicText(e){let t=this.untrustedContent(e);return this.didAppendNode(t),t}appendDynamicFragment(e){let t=this.__appendFragment(e);this.didAppendBounds(t)}appendDynamicNode(e){let t=this.__appendNode(e),r=new xg(this.element,t,t);this.didAppendBounds(r)}trustedContent(e){return this.__appendHTML(e)}untrustedContent(e){return this.__appendText(e)}appendComment(e){return this.didAppendNode(this.__appendComment(e))}__appendComment(e){let{dom:t,element:r,nextSibling:n}=this,i=t.createComment(e);return t.insertBefore(r,i,n),i}__setAttribute(e,t,r){this.dom.setAttribute(this.constructing,e,t,r)}__setProperty(e,t){this.constructing[e]=t}setStaticAttribute(e,t,r){this.__setAttribute(e,t,r)}setDynamicAttribute(e,t,r,n){let i=Sy(this.constructing,e,n);return i.set(this,t,this.env),i}}class jy{constructor(e){this.parent=e,this.first=null,this.last=null,this.nesting=0}parentElement(){return this.parent}firstNode(){return this.first.firstNode()}lastNode(){return this.last.lastNode()}openElement(e){this.didAppendNode(e),this.nesting++}closeElement(){this.nesting--}didAppendNode(e){0===this.nesting&&(this.first||(this.first=new Py(e)),this.last=new Dy(e))}didAppendBounds(e){0===this.nesting&&(this.first||(this.first=e),this.last=e)}finalize(e){null===this.first&&e.appendComment("")}}class Ly extends jy{constructor(e){super(e),Fe(this,()=>{this.parentElement()===this.firstNode().parentNode&&Rg(this)})}}class qy extends jy{constructor(e){super(e)}reset(){Ue(this);let e=Rg(this);return this.first=null,this.last=null,this.nesting=0,e}}class Fy{constructor(e,t){this.parent=e,this.boundList=t,this.parent=e,this.boundList=t}parentElement(){return this.parent}firstNode(){return this.boundList[0].firstNode()}lastNode(){let e=this.boundList;return e[e.length-1].lastNode()}openElement(e){}closeElement(){}didAppendNode(e){}didAppendBounds(e){}finalize(e){this.boundList.length}}function zy(e,t){return Ny.forInitialRender(e,t)}class Uy{constructor(e,{alwaysRevalidate:t=!1}){this.frameStack=new fr,this.env=e,this.dom=e.getDOM(),this.alwaysRevalidate=t}execute(e,t){this._execute(e,t)}_execute(e,t){let{frameStack:r}=this;for(this.try(e,t);!r.isEmpty();){let e=this.frame.nextStatement();void 0!==e?e.evaluate(this):r.pop()}}get frame(){return this.frameStack.current}goto(e){this.frame.goto(e)}try(e,t){this.frameStack.push(new Wy(e,t))}throw(){this.frame.handleException(),this.frameStack.pop()}}class By{constructor(e,t,r,n){this.state=e,this.context=t,this.children=n,this.bounds=r}parentElement(){return this.bounds.parentElement()}firstNode(){return this.bounds.firstNode()}lastNode(){return this.bounds.lastNode()}evaluate(e){e.try(this.children,null)}}class $y extends By{evaluate(e){e.try(this.children,this)}handleException(){let{state:e,bounds:t,context:{env:r}}=this;!function(e){let{children:t}=Le(e);Ne(t,Ue)}(this);let n=Ny.resume(r,t),i=e.evaluate(n),s=this.children=[],o=i.execute(e=>{e.updateWith(this),e.pushUpdating(s)});qe(this,o.drop)}constructor(...e){super(...e),this.type="try"}}class Hy extends $y{constructor(e,t,r,n,i,s){super(e,t,r,[]),this.key=n,this.memo=i,this.value=s,this.retained=!1,this.index=-1}shouldRemove(){return!this.retained}reset(){this.retained=!1}}class Vy extends By{constructor(e,t,r,n,i){super(e,t,r,n),this.iterableRef=i,this.type="list-block",this.opcodeMap=new Map,this.marker=null,this.lastIterator=Nr(i)}initializeChild(e){e.index=this.children.length-1,this.opcodeMap.set(e.key,e)}evaluate(e){let t=Nr(this.iterableRef);if(this.lastIterator!==t){let{bounds:r}=this,{dom:n}=e,i=this.marker=n.createComment("");n.insertAfter(r.parentElement(),i,r.lastNode()),this.sync(t),this.parentElement().removeChild(i),this.marker=null,this.lastIterator=t}super.evaluate(e)}sync(e){let{opcodeMap:t,children:r}=this,n=0,i=0;for(this.children=this.bounds.boundList=[];;){let s=e.next();if(null===s)break;let o=r[n],{key:a}=s;for(;void 0!==o&&o.retained;)o=r[++n];if(void 0!==o&&o.key===a)this.retainItem(o,s),n++;else if(t.has(a)){let e=t.get(a);if(e.index<i)this.moveItem(e,s,o);else{i=e.index;let t=!1;for(let e=n+1;e<i;e++)if(!r[e].retained){t=!0;break}t?(this.moveItem(e,s,o),n++):(this.retainItem(e,s),n=i+1)}}else this.insertItem(s,o)}for(const s of r)s.retained?s.reset():this.deleteItem(s)}retainItem(e,t){let{children:r}=this;jr(e.memo,t.memo),jr(e.value,t.value),e.retained=!0,e.index=r.length,r.push(e)}insertItem(e,t){let{opcodeMap:r,bounds:n,state:i,children:s,context:{env:o}}=this,{key:a}=e,l=void 0===t?this.marker:t.firstNode(),c=Ny.forInitialRender(o,{element:n.parentElement(),nextSibling:l});i.evaluate(c).execute(t=>{let n=t.enterItem(e);n.index=s.length,s.push(n),r.set(a,n),qe(this,n)})}moveItem(e,t,r){let n,i,{children:s}=this;jr(e.memo,t.memo),jr(e.value,t.value),e.retained=!0,void 0===r?Ag(e,this.marker):(n=e.lastNode().nextSibling,i=r.firstNode(),n!==i&&Ag(e,i)),e.index=s.length,s.push(e)}deleteItem(e){Ue(e),Rg(e),this.opcodeMap.delete(e.key)}}class Wy{constructor(e,t){this.ops=e,this.exceptionHandler=t,this.current=0}goto(e){this.current=e}nextStatement(){return this.ops[this.current++]}handleException(){this.exceptionHandler&&this.exceptionHandler.handleException()}}class Ky{constructor(e,t,r,n){this.env=e,this.updating=t,this.bounds=r,this.drop=n,qe(this,n),Fe(this,()=>Rg(this.bounds))}rerender({alwaysRevalidate:e=!1}={alwaysRevalidate:!1}){let{env:t,updating:r}=this;new Uy(t,{alwaysRevalidate:e}).execute(r,this)}parentElement(){return this.bounds.parentElement()}firstNode(){return this.bounds.firstNode()}lastNode(){return this.bounds.lastNode()}handleException(){}}class Qy{static restore(e,t){const r=new this(e.slice(),[0,-1,e.length-1,0]);return r.registers[0]=t,r.registers[3]=e.length-1,r.registers[2]=-1,r}constructor(e=[],t){this.stack=e,this.registers=t}push(e){this.stack[++this.registers[3]]=e}dup(e=this.registers[3]){this.stack[++this.registers[3]]=this.stack[e]}copy(e,t){this.stack[t]=this.stack[e]}pop(e=1){let t=this.stack[this.registers[3]];return this.registers[3]-=e,t}peek(e=0){return this.stack[this.registers[3]-e]}get(e,t=this.registers[2]){return this.stack[t+e]}set(e,t,r=this.registers[2]){this.stack[r+t]=e}slice(e,t){return this.stack.slice(e,t)}capture(e){let t=this.registers[3]+1,r=t-e;return this.stack.slice(r,t)}reset(){this.stack.length=0}}class Gy{constructor(e,t){this.drop={},this.scope=new fr,this.dynamicScope=new fr,this.updating=new fr,this.cache=new fr,this.list=new fr,this.destroyable=new fr,this.scope.push(e),this.dynamicScope.push(t),this.destroyable.push(this.drop)}}class Yy{#g;get stack(){return this.lowlevel.stack}get pc(){return this.lowlevel.fetchRegister(0)}#m;fetch(e){let t=this.fetchValue(e);this.stack.push(t)}load(e){let t=this.stack.pop();this.loadValue(e,t)}loadValue(e,t){this.#m[e]=t}fetchValue(e){return function(e){return e<=3}(e)?this.lowlevel.fetchRegister(e):this.#m[e]}call(e){null!==e&&this.lowlevel.call(e)}return(){this.lowlevel.return()}#y;constructor({scope:e,dynamicScope:t,stack:r,pc:n},i,s){this.#m=[null,null,null,null,null,null,null,null,null];let o=Qy.restore(r,n);this.#y=s,this.context=i,this.#g=new Gy(e,t),this.args=new Zg,this.lowlevel=new hy(o,i,void 0,o.registers),this.pushUpdating()}static initial(e,t){let r=kg.root(t.owner,t.scope??{self:Sr,size:0});const n=function(e,t,r){return{pc:e,scope:t,dynamicScope:r,stack:[]}}(e.program.heap.getaddr(t.handle),r,t.dynamicScope);return new Yy(n,e,t.tree)}compile(e){return og(e.compile(this.context))}get constants(){return this.context.program.constants}get program(){return this.context.program}get env(){return this.context.env}captureClosure(e,t=this.lowlevel.fetchRegister(0)){return{pc:t,scope:this.scope(),dynamicScope:this.dynamicScope(),stack:this.stack.capture(e)}}capture(e,t=this.lowlevel.fetchRegister(0)){return new Jy(this.captureClosure(e,t),this.context)}beginCacheGroup(e){let t=this.updating(),r=new qg;t.push(r),t.push(new Fg(e)),this.#g.cache.push(r),Rt()}commitCacheGroup(){let e=this.updating(),t=this.#g.cache.pop(),r=Tt();e.push(new zg(t)),t.finalize(r,e.length)}enter(e){let t=this.capture(e),r=this.tree().pushResettableBlock(),n=new $y(t,this.context,r,[]);this.didEnter(n)}enterItem({key:e,value:t,memo:r}){let{stack:n}=this,i=Kr(t),s=Kr(r);n.push(i),n.push(s);let o=this.capture(2),a=this.tree().pushResettableBlock(),l=new Hy(o,this.context,a,e,s,i);return this.didEnter(l),l}registerItem(e){this.listBlock().initializeChild(e)}enterList(e,t){let r=[],n=this.lowlevel.target(t),i=this.capture(0,n),s=this.tree().pushBlockList(r),o=new Vy(i,this.context,s,r,e);this.#g.list.push(o),this.didEnter(o)}didEnter(e){this.associateDestroyable(e),this.#g.destroyable.push(e),this.updateWith(e),this.pushUpdating(e.children)}exit(){this.#g.destroyable.pop(),this.#y.popBlock(),this.popUpdating()}exitList(){this.exit(),this.#g.list.pop()}pushRootScope(e,t){let r=kg.sized(t,e);return this.#g.scope.push(r),r}pushChildScope(){this.#g.scope.push(this.scope().child())}pushScope(e){this.#g.scope.push(e)}popScope(){this.#g.scope.pop()}pushDynamicScope(){let e=this.dynamicScope().child();return this.#g.dynamicScope.push(e),e}bindDynamicScope(e){let t=this.dynamicScope();for(const r of ar(e))t.set(r,this.stack.pop())}pushUpdating(e=[]){this.#g.updating.push(e)}popUpdating(){return this.#g.updating.pop()}updateWith(e){this.updating().push(e)}listBlock(){return this.#g.list.current}associateDestroyable(e){qe(this.#g.destroyable.current,e)}updating(){return this.#g.updating.current}tree(){return this.#y}scope(){return this.#g.scope.current}dynamicScope(){return this.#g.dynamicScope.current}popDynamicScope(){this.#g.dynamicScope.pop()}getOwner(){return this.scope().owner}getSelf(){return this.scope().getSelf()}referenceForSymbol(e){return this.scope().getSymbol(e)}execute(e){return this._execute(e)}_execute(e){let t;e&&e(this);do{t=this.next()}while(!t.done);return t.value}next(){let e,{env:t}=this,r=this.lowlevel.nextStatement();return null!==r?(this.lowlevel.evaluateOuter(r,this),e={done:!1,value:null}):(this.stack.reset(),e={done:!0,value:new Ky(t,this.popUpdating(),this.#y.popBlock(),this.#g.drop)}),e}}class Jy{constructor(e,t){this.state=e,this.context=t}evaluate(e){return new Yy(this.state,this.context,e)}}class Zy{constructor(e){this.vm=e}next(){return this.vm.next()}sync(){return this.vm.execute()}}function Xy(e,t,r,n,i,s=new wg){let o=og(i.compile(e)),a=i.symbolTable.symbols.length,l=Yy.initial(e,{scope:{self:r,size:a},dynamicScope:s,tree:n,handle:o,owner:t});return new Zy(l)}function eb(e,t,r,n,i={},s=new wg){return function(e,t,r,n,i){const s=Object.keys(i).map(e=>[e,i[e]]),o=["main","else","attrs"],a=s.map(([e])=>`@${e}`);let l=e.constants.component(n,r,void 0,"{ROOT}");e.lowlevel.pushFrame();for(let h=0;h<3*o.length;h++)e.stack.push(null);e.stack.push(null),s.forEach(([,t])=>{e.stack.push(t)}),e.args.setup(e.stack,a,o,0,!0);const c=l.compilable,u={handle:og(c.compile(t)),symbolTable:c.symbolTable};return e.stack.push(e.args),e.stack.push(u),e.stack.push(l),new Zy(e)}(Yy.initial(e,{tree:t,handle:e.stdlib.main,dynamicScope:s,owner:r}),e,r,n,function(e){const t=Tr(e);return Object.keys(e).reduce((e,r)=>(e[r]=Lr(t,r),e),{})}(i))}class tb extends Sg{constructor(e,t,r){super(e,t),this.startingBlockDepth=r,this.candidate=null,this.injectedOmittedNode=!1,this.openBlockDepth=r-1}}class rb extends Ny{constructor(e,t,r){if(super(e,t,r),this.unmatchedAttributes=null,this.blockDepth=0,r)throw new Error("Rehydration with nextSibling not supported");let n=this.currentCursor.element.firstChild;for(;null!==n&&!nb(n);)n=n.nextSibling;this.candidate=n;const i=sb(n);if(0!==i){const e=i-1,t=this.dom.createComment(`%+b:${e}%`);n.parentNode.insertBefore(t,this.candidate);let r=n.nextSibling;for(;null!==r&&(!ib(r)||sb(r)!==i);)r=r.nextSibling;const s=this.dom.createComment(`%-b:${e}%`);n.parentNode.insertBefore(s,r.nextSibling),this.candidate=t,this.startingBlockOffset=e}else this.startingBlockOffset=0}get currentCursor(){return this.cursors.current}get candidate(){return this.currentCursor?this.currentCursor.candidate:null}set candidate(e){this.currentCursor.candidate=e}disableRehydration(e){const t=this.currentCursor;t.candidate=null,t.nextSibling=e}enableRehydration(e){const t=this.currentCursor;t.candidate=e,t.nextSibling=null}pushElement(e,t=null){const r=new tb(e,t,this.blockDepth||0);null!==this.candidate&&(r.candidate=e.firstChild,this.candidate=e.nextSibling),this.cursors.push(r)}clearMismatch(e){let t=e;const r=this.currentCursor;if(null!==r){const e=r.openBlockDepth;if(e>=r.startingBlockDepth)for(;t&&!(ib(t)&&e>=ob(t,this.startingBlockOffset));)t=this.remove(t);else for(;null!==t;)t=this.remove(t);this.disableRehydration(t)}}__openBlock(){const{currentCursor:e}=this;if(null===e)return;const t=this.blockDepth;this.blockDepth++;const{candidate:r}=e;if(null===r)return;const{tagName:n}=e.element;nb(r)&&ob(r,this.startingBlockOffset)===t?(this.candidate=this.remove(r),e.openBlockDepth=t):"TITLE"!==n&&"SCRIPT"!==n&&"STYLE"!==n&&this.clearMismatch(r)}__closeBlock(){const{currentCursor:e}=this;if(null===e)return;const t=e.openBlockDepth;this.blockDepth--;const{candidate:r}=e;let n=!1;if(null!==r)if(n=!0,ib(r)&&ob(r,this.startingBlockOffset)===t){const t=this.remove(r);this.candidate=t,e.openBlockDepth--}else this.clearMismatch(r),n=!1;if(!n){const t=e.nextSibling;if(null!==t&&ib(t)&&ob(t,this.startingBlockOffset)===this.blockDepth){const r=this.remove(t);this.enableRehydration(r),e.openBlockDepth--}}}__appendNode(e){const{candidate:t}=this;return t||super.__appendNode(e)}__appendHTML(e){const t=this.markerBounds();if(t){const e=t.firstNode(),r=t.lastNode(),n=new xg(this.element,e.nextSibling,r.previousSibling),i=this.remove(e);return this.remove(r),null!==i&&cb(i)&&(this.candidate=this.remove(i),null!==this.candidate&&this.clearMismatch(this.candidate)),n}return super.__appendHTML(e)}remove(e){const t=e.parentNode,r=e.nextSibling;return t.removeChild(e),r}markerBounds(){const e=this.candidate;if(e&&lb(e)){const t=e;let r=t.nextSibling;for(;!lb(r);)r=r.nextSibling;return new xg(this.element,t,r)}return null}__appendText(e){const{candidate:t}=this;return t?3===t.nodeType?(t.nodeValue!==e&&(t.nodeValue=e),this.candidate=t.nextSibling,t):8===(r=t).nodeType&&"%|%"===r.nodeValue||cb(t)&&""===e?(this.candidate=this.remove(t),this.__appendText(e)):(this.clearMismatch(t),super.__appendText(e)):super.__appendText(e);var r}__appendComment(e){const t=this.candidate;return t&&8===t.nodeType?(t.nodeValue!==e&&(t.nodeValue=e),this.candidate=t.nextSibling,t):(t&&this.clearMismatch(t),super.__appendComment(e))}__openElement(e){const t=this.candidate;if(t&&ab(t)&&function(e,t){return e.namespaceURI===ig?e.tagName===t:e.tagName===t.toUpperCase()}(t,e))return this.unmatchedAttributes=[].slice.call(t.attributes),t;if(t){if(ab(t)&&"TBODY"===t.tagName)return this.pushElement(t,null),this.currentCursor.injectedOmittedNode=!0,this.__openElement(e);this.clearMismatch(t)}return super.__openElement(e)}__setAttribute(e,t,r){const n=this.unmatchedAttributes;if(n){const r=ub(n,e);if(r)return r.value!==t&&(r.value=t),void n.splice(n.indexOf(r),1)}return super.__setAttribute(e,t,r)}__setProperty(e,t){const r=this.unmatchedAttributes;if(r){const n=ub(r,e);if(n)return n.value!==t&&(n.value=t),void r.splice(r.indexOf(n),1)}return super.__setProperty(e,t)}__flushElement(e,t){const{unmatchedAttributes:r}=this;if(r){for(const e of r)this.constructing.removeAttribute(e.name);this.unmatchedAttributes=null}else super.__flushElement(e,t)}willCloseElement(){const{candidate:e,currentCursor:t}=this;null!==e&&this.clearMismatch(e),t&&t.injectedOmittedNode&&this.popElement(),super.willCloseElement()}getMarker(e,t){const r=e.querySelector(`script[glmr="${t}"]`);return r?sg(r):null}__pushRemoteElement(e,t,r){const n=this.getMarker(e,t);if(!n||n.parentNode,void 0===r){for(;null!==e.firstChild&&e.firstChild!==n;)this.remove(e.firstChild);r=null}const i=new tb(e,null,this.blockDepth);this.cursors.push(i),null===n?this.disableRehydration(r):this.candidate=this.remove(n);const s=new Ly(e);return this.pushBlock(s,!0)}didAppendBounds(e){if(super.didAppendBounds(e),this.candidate){const t=e.lastNode();this.candidate=t.nextSibling}return e}}function nb(e){return 8===e.nodeType&&0===e.nodeValue.lastIndexOf("%+b:",0)}function ib(e){return 8===e.nodeType&&0===e.nodeValue.lastIndexOf("%-b:",0)}function sb(e){return parseInt(e.nodeValue.slice(4),10)}function ob(e,t){return sb(e)-t}function ab(e){return 1===e.nodeType}function lb(e){return 8===e.nodeType&&"%glmr%"===e.nodeValue}function cb(e){return 8===e.nodeType&&"% %"===e.nodeValue}function ub(e,t){for(const r of e)if(r.name===t)return r}function hb(e,t){return rb.forInitialRender(e,t)}const db=Object.freeze(Object.defineProperty({__proto__:null,ConcreteBounds:xg,CurriedValue:bg,CursorImpl:Sg,DOMChanges:Bm,DOMTreeConstruction:Lm,DynamicAttribute:Ay,DynamicScopeImpl:wg,EMPTY_ARGS:gm,EMPTY_NAMED:pm,EMPTY_POSITIONAL:fm,EnvironmentImpl:Km,IDOMChanges:zm,LowLevelVM:hy,NewTreeBuilder:Ny,RehydrateTree:rb,RemoteBlock:Ly,ResettableBlockImpl:qy,SERIALIZATION_FIRST_NODE_STRING:"%+b:0%",ScopeImpl:kg,SimpleDynamicAttribute:Ry,TEMPLATE_ONLY_COMPONENT_MANAGER:Tm,TemplateOnlyComponent:Em,TemplateOnlyComponentManager:Rm,UpdatingVM:Uy,array:Zm,clear:Rg,clientBuilder:zy,concat:ey,createCapturedArgs:om,curry:vg,destroy:Ue,dynamicAttribute:Sy,fn:ty,get:ry,hash:ny,inTransaction:Gm,invokeHelper:function(e,t,n){const i=r(e),s=Tn(t).getDelegateFor(i);let o,a=new sy(e,n),l=s.createHelper(t,a);if(!pn(s))throw new Error("TODO: unreachable, to be implemented with hasScheduledEffect");return o=jt(()=>s.getValue(l)),qe(e,o),fn(s)&&qe(o,s.getDestroyable(l)),o},isDestroyed:He,isDestroying:$e,isSerializationFirstNode:function(e){return"%+b:0%"===e.nodeValue},isWhitespace:function(e){return qm.test(e)},normalizeProperty:$m,on:uy,registerDestructor:Fe,rehydrationBuilder:hb,reifyArgs:function(e){return{named:am(e.named),positional:lm(e.positional)}},reifyNamed:am,reifyPositional:lm,renderComponent:eb,renderMain:Xy,renderSync:function(e,t){let r;return Gm(e,()=>r=t.sync()),r},resetDebuggerCallback:function(){Sm=km},runtimeOptions:Qm,setDebuggerCallback:function(e){Sm=e},templateOnlyComponent:Cm},Symbol.toStringTag,{value:"Module"})),pb=uy,fb=Symbol("MUTABLE_CELL"),gb=Wf({id:"yTlmws8O",block:'[[[46,[30,0],null,null,null]],[],["component"]]',moduleName:"packages/@ember/-internals/glimmer/lib/templates/root.hbs",isStrictMode:!0}),mb=Wf({id:"Cc/BCoQJ",block:'[[[11,"input"],[16,1,[30,0,["id"]]],[16,0,[30,0,["class"]]],[17,1],[16,4,[30,0,["type"]]],[16,"checked",[30,0,["checked"]]],[16,2,[30,0,["value"]]],[4,[32,0],["change",[30,0,["change"]]],null],[4,[32,0],["input",[30,0,["input"]]],null],[4,[32,0],["keyup",[30,0,["keyUp"]]],null],[4,[32,0],["paste",[30,0,["valueDidChange"]]],null],[4,[32,0],["cut",[30,0,["valueDidChange"]]],null],[12],[13]],["&attrs"],[]]',moduleName:"packages/@ember/-internals/glimmer/lib/templates/input.hbs",scope:()=>[pb],isStrictMode:!0});function yb(){}class bb{static toString(){return"internal component"}constructor(e,t,r){this.owner=e,this.args=t,this.caller=r,i(this,e)}get id(){return W(this)}get class(){return"ember-view"}validateArguments(){for(let e of Object.keys(this.args.named))this.isSupportedArgument(e)||this.onUnsupportedArgument(e)}named(e){let t=this.args.named[e];return t?Nr(t):void 0}positional(e){let t=this.args.positional[e];return t?Nr(t):void 0}listenerFor(e){return this.named(e)||yb}isSupportedArgument(e){return!1}onUnsupportedArgument(e){}toString(){return`<${this.constructor}:${W(this)}>`}}const _b=new WeakMap;function vb(e,t){let r={create(){throw void 0},toString:()=>e.toString()};return _b.set(r,e),En(kb,r),$n(t,r),r}const wb={dynamicLayout:!1,dynamicTag:!1,prepareArgs:!1,createArgs:!0,attributeHook:!1,elementHook:!1,createCaller:!0,dynamicScope:!1,updateHook:!1,createInstance:!0,wrapped:!1,willDestroy:!1,hasSubOwner:!1},kb=new class{getCapabilities(){return wb}create(e,t,r,n,i,s){var o;let a=new(o=t,_b.get(o))(e,r.capture(),Nr(s));return zt(a.validateArguments.bind(a)),a}didCreate(){}didUpdate(){}didRenderLayout(){}didUpdateLayout(){}getDebugName(e){return e.toString()}getSelf(e){return Tr(e)}getDestroyable(e){return e}},Sb=Object.freeze({});function xb(e){return function(e){return e.target}(e).value}function Ab(e){return void 0===e?new Rb(void 0):Pr(e)?new Rb(Nr(e)):Dr(e)?new Tb(e):new Eb(e)}class Rb{static{su(this.prototype,"value",[_s])}#b=void lu(this,"value");constructor(e){this.value=e}get(){return this.value}set(e){this.value=e}}class Tb{constructor(e){this.reference=e}get(){return Nr(this.reference)}set(e){jr(this.reference,e)}}class Eb{local;upstream;lastUpstreamValue=Sb;constructor(e){this.upstream=new Tb(e)}get(){let e=this.upstream.get();return e!==this.lastUpstreamValue&&(this.lastUpstreamValue=e,this.local=new Rb(e)),this.local.get()}set(e){this.local.set(e)}}class Cb extends bb{validateArguments(){super.validateArguments()}_value=Ab(this.args.named.value);get value(){return this._value.get()}set value(e){this._value.set(e)}valueDidChange(e){this.value=xb(e)}static{au(this.prototype,"valueDidChange",[mc])}change(e){this.valueDidChange(e)}input(e){this.valueDidChange(e)}keyUp(e){switch(e.key){case"Enter":this.listenerFor("enter")(e),this.listenerFor("insert-newline")(e);break;case"Escape":this.listenerFor("escape-press")(e)}}static{au(this.prototype,"keyUp",[mc])}listenerFor(e){let t=super.listenerFor(e);return this.isVirtualEventListener(e,t)?function(e){return t=>e(xb(t),t)}(t):t}isVirtualEventListener(e,t){return-1!==["enter","insert-newline","escape-press"].indexOf(e)}}let Ob;if(a){const IC=Object.create(null),PC=document.createElement("input");IC[""]=!1,IC.text=!0,IC.checkbox=!0,Ob=e=>{let t=IC[e];if(void 0===t){try{PC.type=e,t=PC.type===e}catch(r){t=!1}finally{PC.type="text"}IC[e]=t}return t}}else Ob=e=>""!==e;class Mb extends Cb{static toString(){return"Input"}get class(){return this.isCheckbox?"ember-checkbox ember-view":"ember-text-field ember-view"}get type(){let e=this.named("type");return null==e?"text":Ob(e)?e:"text"}get isCheckbox(){return"checkbox"===this.named("type")}_checked=Ab(this.args.named.checked);get checked(){return this.isCheckbox?this._checked.get():void 0}set checked(e){this._checked.set(e)}change(e){this.isCheckbox?this.checkedDidChange(e):super.change(e)}static{au(this.prototype,"change",[mc])}input(e){this.isCheckbox||super.input(e)}static{au(this.prototype,"input",[mc])}checkedDidChange(e){let t=e.target;this.checked=t.checked}static{au(this.prototype,"checkedDidChange",[mc])}isSupportedArgument(e){return-1!==["type","value","checked","enter","insert-newline","escape-press"].indexOf(e)||super.isSupportedArgument(e)}}const Ib=vb(Mb,mb),Pb=Wf({id:"7Z3LFeO/",block:'[[[11,3],[16,1,[30,0,["id"]]],[16,0,[30,0,["class"]]],[16,"role",[30,0,["role"]]],[16,"title",[30,0,["title"]]],[16,"rel",[30,0,["rel"]]],[16,"tabindex",[30,0,["tabindex"]]],[16,"target",[30,0,["target"]]],[17,1],[16,6,[30,0,["href"]]],[4,[32,0],["click",[30,0,["click"]]],null],[12],[18,2,null],[13]],["&attrs","&default"],["yield"]]',moduleName:"packages/@ember/-internals/glimmer/lib/templates/link-to.hbs",scope:()=>[pb],isStrictMode:!0}),Db=[],Nb={};function jb(e){return null==e}function Lb(e){return"object"==typeof e&&null!==e&&!0===e.isQueryParams}class qb extends bb{static toString(){return"LinkTo"}static{su(this.prototype,"routing",[Ip("-routing")])}#_=void lu(this,"routing");validateArguments(){super.validateArguments()}get class(){let e="ember-view";return this.isActive?(e+=this.classFor("active"),!1===this.willBeActive&&(e+=" ember-transitioning-out")):this.willBeActive&&(e+=" ember-transitioning-in"),this.isLoading&&(e+=this.classFor("loading")),this.isDisabled&&(e+=this.classFor("disabled")),e}get href(){if(this.isLoading)return"#";let{routing:e,route:t,models:r,query:n}=this;return Mt(Xt(e,"currentState")),e.generateURL(t,r,n)}click(e){if(!bc(e))return;let t=e.currentTarget;if(""!==t.target&&"_self"!==t.target)return;if(this.preventDefault(e),this.isDisabled)return;if(this.isLoading)return;let{routing:r,route:n,models:i,query:s,replace:o}=this,a={transition:void 0};Wc(0,0,()=>{a.transition=r.transitionTo(n,i,s,o)})}static{au(this.prototype,"click",[mc])}get route(){if("route"in this.args.named){let e=this.named("route");return e&&this.namespaceRoute(e)}return this.currentRoute}currentRouteCache=jt(()=>(Mt(Xt(this.routing,"currentState")),zt(()=>this.routing.currentRouteName)));get currentRoute(){return Lt(this.currentRouteCache)}get models(){return"models"in this.args.named?this.named("models"):"model"in this.args.named?[this.named("model")]:Db}get query(){return"query"in this.args.named?{...this.named("query")}:Nb}get replace(){return!0===this.named("replace")}get isActive(){return this.isActiveForState(this.routing.currentState)}get willBeActive(){let e=this.routing.currentState,t=this.routing.targetState;return e===t?null:this.isActiveForState(t)}get isLoading(){return jb(this.route)||this.models.some(e=>jb(e))}get isDisabled(){return Boolean(this.named("disabled"))}get isEngine(){return void 0!==th(this.owner)}get engineMountPoint(){return this.owner.mountPoint}classFor(e){let t=this.named(`${e}Class`);return!0===t||jb(t)?` ${e}`:t?` ${t}`:""}namespaceRoute(e){let{engineMountPoint:t}=this;return void 0===t?e:"application"===e?t:`${t}.${e}`}isActiveForState(e){if(!function(e){return!jb(e)}(e))return!1;if(this.isLoading)return!1;let t=this.named("current-when");if("boolean"==typeof t)return t;if("string"==typeof t){let{models:r,routing:n}=this;return t.split(" ").some(t=>n.isActiveForRoute(r,void 0,this.namespaceRoute(t),e))}{let{route:t,models:r,query:n,routing:i}=this;return i.isActiveForRoute(r,n,t,e)}}preventDefault(e){e.preventDefault()}isSupportedArgument(e){return-1!==["route","model","models","query","replace","disabled","current-when","activeClass","loadingClass","disabledClass"].indexOf(e)||super.isSupportedArgument(e)}}let{prototype:Fb}=qb,zb=(e,t)=>e?Object.getOwnPropertyDescriptor(e,t)||zb(Object.getPrototypeOf(e),t):null;{let DC=Fb.onUnsupportedArgument;Object.defineProperty(Fb,"onUnsupportedArgument",{configurable:!0,enumerable:!1,value:function(e){"href"===e||DC.call(this,e)}})}{let NC=zb(Fb,"models").get;Object.defineProperty(Fb,"models",{configurable:!0,enumerable:!1,get:function(){let e=NC.call(this);return e.length>0&&!("query"in this.args.named)&&Lb(e[e.length-1])&&(e=e.slice(0,-1)),e}});let jC=zb(Fb,"query").get;Object.defineProperty(Fb,"query",{configurable:!0,enumerable:!1,get:function(){if("query"in this.args.named){let e=jC.call(this);return Lb(e)?e.values??Nb:e}{let e=NC.call(this);if(e.length>0){let t=e[e.length-1];if(Lb(t)&&null!==t.values)return t.values}return Nb}}})}{let LC=Fb.onUnsupportedArgument;Object.defineProperty(Fb,"onUnsupportedArgument",{configurable:!0,enumerable:!1,value:function(e){"params"!==e&&LC.call(this,e)}})}const Ub=vb(qb,Pb),Bb=Wf({id:"KVdeMchh",block:'[[[11,"textarea"],[16,1,[30,0,["id"]]],[16,0,[30,0,["class"]]],[17,1],[16,2,[30,0,["value"]]],[4,[32,0],["change",[30,0,["change"]]],null],[4,[32,0],["input",[30,0,["input"]]],null],[4,[32,0],["keyup",[30,0,["keyUp"]]],null],[4,[32,0],["paste",[30,0,["valueDidChange"]]],null],[4,[32,0],["cut",[30,0,["valueDidChange"]]],null],[12],[13]],["&attrs"],[]]',moduleName:"packages/@ember/-internals/glimmer/lib/templates/textarea.hbs",scope:()=>[pb],isStrictMode:!0});class $b extends Cb{static toString(){return"Textarea"}get class(){return"ember-text-area ember-view"}change(e){super.change(e)}static{au(this.prototype,"change",[mc])}input(e){super.input(e)}static{au(this.prototype,"input",[mc])}isSupportedArgument(e){return-1!==["type","value","enter","insert-newline","escape-press"].indexOf(e)||super.isSupportedArgument(e)}}const Hb=vb($b,Bb);function Vb(e){if("error"===e.result)throw new Error(`Compile Error: ${e.problem} @ ${e.span.start}..${e.span.end}`);return e}function Wb(e,t){return"attrs"===t[0]&&(t.shift(),1===t.length)?Lr(e,t[0]):qr(e,t)}function Kb(e){let t=e.indexOf(":");return-1===t?[e,e,!0]:[e.substring(0,t),e.substring(t+1),!1]}function Qb(e,t,r,n){let[i,s,o]=r;if("id"===s){let t=hs(e,i);null==t&&(t=e.elementId);let r=kr(t);return void n.setAttribute("id",r,!0,null)}let a=i.indexOf(".")>-1?Wb(t,i.split(".")):Lr(t,i);n.setAttribute(s,a,!1,null)}function Gb(e,t){let r;return Cr(()=>{let n=Nr(e);return!0===n?r||(r=Ap(t)):n||0===n?String(n):null})}function Yb(){}class Jb{classRef=null;rootRef;argsRevision;constructor(e,t,r,n,i,s){this.component=e,this.args=t,this.argsTag=r,this.finalizer=n,this.hasWrappedElement=i,this.isInteractive=s,this.classRef=null,this.argsRevision=null===t?0:st(r),this.rootRef=Tr(e),Fe(this,()=>this.willDestroy(),!0),Fe(this,()=>this.component.destroy())}willDestroy(){let{component:e,isInteractive:t}=this;if(t){Et(),e.trigger("willDestroyElement"),e.trigger("willClearRender"),Ct();let t=Ac(e);t&&(Ec(t),Cc(e))}e.renderer.unregister(e)}finalize(){let{finalizer:e}=this;e(),this.finalizer=Yb}}function Zb(e){let t=Object.create(null),r=Object.create(null);for(let n in e){let i=e[n],s=Nr(i);Dr(i)?t[n]=new e_(i,s):t[n]=s,r[n]=s}return r.attrs=t,r}const Xb=Symbol("REF");class e_{value;[fb];[Xb];constructor(e,t){this[fb]=!0,this[Xb]=e,this.value=t}update(e){jr(this[Xb],e)}}const t_=ye("ARGS"),r_=ye("HAS_BLOCK"),n_=Symbol("DIRTY_TAG"),i_=Symbol("IS_DISPATCHING_ATTRS"),s_=Symbol("BOUNDS"),o_=kr("ember-view");class a_{templateFor(e){let t,{layout:r,layoutName:i}=e,s=n(e);if(void 0===r){if(void 0===i)return null;t=s.lookup(`template:${i}`)}else{if("function"!=typeof r)return null;t=r}return Vb(t(s)).asWrappedLayout()}getDynamicLayout(e){return this.templateFor(e.component)}getTagName(e){let{component:t,hasWrappedElement:r}=e;return r?t&&t.tagName||"div":null}getCapabilities(){return u_}prepareArgs(e,t){if(t.named.has("__ARGS__")){let{__ARGS__:e,...r}=t.named.capture(),n=Nr(e);return{positional:n.positional,named:{...r,...n.named}}}const{positionalParams:r}=e.class??e;if(null==r||0===t.positional.length)return null;let n;if("string"==typeof r){let e=t.positional.capture();n={[r]:Cr(()=>lm(e))},Object.assign(n,t.named.capture())}else{if(!(Array.isArray(r)&&r.length>0))return null;{const e=Math.min(r.length,t.positional.length);n={},Object.assign(n,t.named.capture());for(let i=0;i<e;i++)n[r[i]]=t.positional.at(i)}}return{positional:nr,named:n}}create(e,t,r,{isInteractive:n},s,o,a){let l=s.view,c=r.named.capture();Rt();let u=Zb(c);u[t_]=c;let h=Tt();!function(e,t){e.named.has("id")&&(t.elementId=t.id)}(r,u),u.parentView=l,u[r_]=a,u._target=Nr(o),i(u,e),Et();let d=t.create(u),p=Qc("render.component",l_,d);s.view=d,null!=l&&Ic(l,d),d.trigger("didReceiveAttrs");let f=""!==d.tagName;f||(n&&d.trigger("willRender"),d._transitionTo("hasElement"),n&&d.trigger("willInsertElement"));let g=new Jb(d,c,h,p,f,n);return r.named.has("class")&&(g.classRef=r.named.get("class")),n&&f&&d.trigger("willRender"),Ct(),Mt(g.argsTag),Mt(d[n_]),g}getDebugName(e){return e.fullName||e.normalizedName||e.class?.name||e.name}getSelf({rootRef:e}){return e}didCreateElement({component:e,classRef:t,isInteractive:r,rootRef:n},i,s){Tc(e,i),Rc(i,e);let{attributeBindings:o,classNames:a,classNameBindings:l}=e;if(o&&o.length)!function(e,t,r,n){let i=[],s=e.length-1;for(;-1!==s;){let o=Kb(e[s]),a=o[1];-1===i.indexOf(a)&&(i.push(a),Qb(t,r,o,n)),s--}if(-1===i.indexOf("id")){let e=t.elementId?t.elementId:W(t);n.setAttribute("id",kr(e),!1,null)}}(o,e,n,s);else{let t=e.elementId?e.elementId:W(e);s.setAttribute("id",kr(t),!1,null)}if(t){const e=Gb(t);s.setAttribute("class",e,!1,null)}a&&a.length&&a.forEach(e=>{s.setAttribute("class",kr(e),!1,null)}),l&&l.length&&l.forEach(e=>{!function(e,t,r){let n=t.split(":"),[i,s,o]=n;if(""===i)r.setAttribute("class",kr(s),!0,null);else{let t,n=i.indexOf(".")>-1,a=n?i.split("."):[],l=n?Wb(e,a):Lr(e,i);t=void 0===s?Gb(l,n?a[a.length-1]:i):function(e,t,r){return Cr(()=>Nr(e)?t:r)}(l,s,o),r.setAttribute("class",t,!1,null)}}(n,e,s)}),s.setAttribute("class",o_,!1,null),"ariaRole"in e&&s.setAttribute("role",Lr(n,"ariaRole"),!1,null),e._transitionTo("hasElement"),r&&(Et(),e.trigger("willInsertElement"),Ct())}didRenderLayout(e,t){e.component[s_]=t,e.finalize()}didCreate({component:e,isInteractive:t}){t&&(e._transitionTo("inDOM"),e.trigger("didInsertElement"),e.trigger("didRender"))}update(e){let{component:t,args:r,argsTag:n,argsRevision:i,isInteractive:s}=e;if(e.finalizer=Qc("render.component",c_,t),Et(),null!==r&&!ot(n,i)){Rt();let i=Zb(r);n=e.argsTag=Tt(),e.argsRevision=st(n),t[i_]=!0,t.setProperties(i),t[i_]=!1,t.trigger("didUpdateAttrs"),t.trigger("didReceiveAttrs")}s&&(t.trigger("willUpdate"),t.trigger("willRender")),Ct(),Mt(n),Mt(t[n_])}didUpdateLayout(e){e.finalize()}didUpdate({component:e,isInteractive:t}){t&&(e.trigger("didUpdate"),e.trigger("didRender"))}getDestroyable(e){return e}}function l_(e){return e.instrumentDetails({initialRender:!0})}function c_(e){return e.instrumentDetails({initialRender:!1})}const u_={dynamicLayout:!0,dynamicTag:!0,prepareArgs:!0,createArgs:!0,attributeHook:!0,elementHook:!0,createCaller:!0,dynamicScope:!0,updateHook:!0,createInstance:!0,wrapped:!0,willDestroy:!0,hasSubOwner:!1},h_=new a_;function d_(e){return e===h_}let p_=new WeakMap;const f_=Object.freeze([]);class g_ extends(du.extend(za,pu,{didReceiveAttrs(){},didRender(){},didUpdate(){},didUpdateAttrs(){},willRender(){},willUpdate(){}},{concatenatedProperties:["attributeBindings","classNames","classNameBindings"],classNames:f_,classNameBindings:f_})){isComponent=!0;init(e){super.init(e),this._superRerender=this.rerender,this.rerender=this._rerender,this[i_]=!1,this[n_]=ht(),this[s_]=null;const t=this._dispatcher;if(t){let e=p_.get(t);e||(e=new WeakSet,p_.set(t,e));let r=Object.getPrototypeOf(this);e.has(r)||(t.lazyEvents.forEach((e,r)=>{null!==e&&"function"==typeof this[e]&&t.setupHandlerForBrowserEvent(r)}),e.add(r))}this.elementId||""===this.tagName||(this.elementId=W(this))}__dispatcher;get _dispatcher(){if(void 0===this.__dispatcher){let e=n(this);if(e.lookup("-environment:main").isInteractive){let t=e.lookup("event_dispatcher:main");this.__dispatcher=t}else this.__dispatcher=null}return this.__dispatcher}on(e,t,r){return this._dispatcher?.setupHandlerForEmberEvent(e),super.on(e,t,r)}_rerender(){ct(this[n_]),this._superRerender()}[Vi](e,t){if(this[i_])return;let r=this[t_],n=void 0!==r?r[e]:void 0;void 0!==n&&Dr(n)&&jr(n,2===arguments.length?t:hs(this,e))}getAttr(e){return this.get(e)}readDOMAttr(e){let t=Ac(this),r="http://www.w3.org/2000/svg"===t.namespaceURI,{type:n,normalized:i}=$m(t,e);return r||"attr"===n?t.getAttribute(i):t[i]}get childViews(){return Mc(this)}static{au(this.prototype,"childViews",[hi({configurable:!1,enumerable:!1})])}appendChild(e){Ic(this,e)}_transitionTo(e){let t=this._currentState,r=this._currentState=this._states[e];this._state=e,t&&t.exit&&t.exit(this),r.enter&&r.enter(this)}nearestOfType(e){let t=this.parentView;for(;t;){if(e.detect(t.constructor))return t;t=t.parentView}}nearestWithProperty(e){let t=this.parentView;for(;t;){if(e in t)return t;t=t.parentView}}rerender(){return this._currentState.rerender(this)}get element(){return this.renderer.getElement(this)}static{au(this.prototype,"element",[hi({configurable:!1,enumerable:!1})])}appendTo(e){let t;return t=a&&"string"==typeof e?document.querySelector(e):e,this.renderer.appendTo(this,t),this}append(){return this.appendTo(document.body)}willInsertElement(){return this}didInsertElement(){return this}willClearRender(){return this}destroy(){return super.destroy(),this._currentState.destroy(this),this}willDestroyElement(){return this}didDestroyElement(){return this}parentViewDidChange(){return this}handleEvent(e,t){return this._currentState.handleEvent(this,e,t)}static isComponentFactory=!0;static toString(){return"@ember/component"}}g_.reopenClass({positionalParams:[]}),En(h_,g_);const m_=Symbol("RECOMPUTE_TAG"),y_=Symbol("IS_CLASSIC_HELPER");class b_ extends Bc{static isHelperFactory=!0;static[y_]=!0;static helper=S_;init(e){super.init(e),this[m_]=ht()}recompute(){go(()=>ct(this[m_]))}}class __{capabilities=dn(0,{hasValue:!0,hasDestroyable:!0});ownerInjection;constructor(e){let t={};i(t,e),this.ownerInjection=t}createHelper(e,t){var r;return{instance:null!=(r=e)&&"class"in r?e.create():e.create(this.ownerInjection),args:t}}getDestroyable({instance:e}){return e}getValue({instance:e,args:t}){let{positional:r,named:n}=t,i=e.compute(r,n);return Mt(e[m_]),i}getDebugName(e){return K((e.class||e).prototype)}}zn(e=>new __(e),b_);const v_=Tn(b_);class w_{isHelperFactory=!0;constructor(e){this.compute=e}create(){return{compute:this.compute}}}const k_=new class{capabilities=dn(0,{hasValue:!0});createHelper(e,t){return()=>e.compute.call(null,t.positional,t.named)}getValue(e){return e()}getDebugName(e){return K(e.compute)}};function S_(e){return new w_(e)}function x_(e){return{object:`${e.name}:main`}}zn(()=>k_,w_.prototype);const A_={dynamicLayout:!1,dynamicTag:!1,prepareArgs:!1,createArgs:!1,attributeHook:!1,elementHook:!1,createCaller:!1,dynamicScope:!0,updateHook:!1,createInstance:!0,wrapped:!1,willDestroy:!1,hasSubOwner:!1},R_=ln(A_),T_=new class{create(e,t,r,n,i){let s=i.get("outletState"),o=t.ref;i.set("outletState",o);let a={finalize:Qc("render.outlet",x_,t)};if(void 0!==n.debugRenderTree){let e=Nr(s),t=e?.render?.owner,r=Nr(o),n=r?.render?.owner;if(t&&t!==n){let{mountPoint:e}=n;e&&(a.engine={mountPoint:e,instance:n})}}return a}getDebugName({name:e}){return`{{outlet}} for ${e}`}getDebugCustomRenderTree(e,t){let r=[];return r.push({bucket:t,type:"outlet",name:"main",args:gm,instance:void 0,template:void 0}),t.engine&&r.push({bucket:t.engine,type:"engine",name:t.engine.mountPoint,args:gm,instance:t.engine.instance,template:void 0}),r}getCapabilities(){return A_}getSelf(){return Sr}didCreate(){}didUpdate(){}didRenderLayout(e){e.finalize()}didUpdateLayout(){}getDestroyable(){return null}},E_=Wf({id:"Hacwyo/Q",block:'[[[8,[30,1],null,[["@controller","@model"],[[30,2],[30,3]]],null]],["@Component","@controller","@model"],[]]',moduleName:"/home/runner/work/ember.js/ember.js/packages/@ember/-internals/glimmer/lib/component-managers/outlet.ts",isStrictMode:!0});class C_{handle=-1;resolvedName=null;manager=T_;capabilities=R_;compilable;constructor(e,t){this.state=t,this.compilable=Vb(E_(e)).asLayout()}}class O_ extends a_{component;constructor(e){super(),this.component=e}create(e,t,r,{isInteractive:n},i){let s=this.component,o=Qc("render.component",l_,s);i.view=s;let a=""!==s.tagName;a||(n&&s.trigger("willRender"),s._transitionTo("hasElement"),n&&s.trigger("willInsertElement"));let l=new Jb(s,null,pt,o,a,n);return Mt(s[n_]),l}}const M_={dynamicLayout:!0,dynamicTag:!0,prepareArgs:!1,createArgs:!1,attributeHook:!0,elementHook:!0,createCaller:!0,dynamicScope:!0,updateHook:!0,createInstance:!0,wrapped:!0,willDestroy:!1,hasSubOwner:!1};class I_{handle=-1;resolvedName="-top-level";state;manager;capabilities=ln(M_);compilable=null;constructor(e){this.manager=new O_(e);let t=Do(e);this.state=t}}function P_(e){return An(e,{})}class D_{constructor(e){this.inner=e}}const N_=P_(({positional:e})=>{const t=e[0];return Cr(()=>{let e=Nr(t);return Mt(ni(e)),Kn(e)&&(e=Da(e)),new D_(e)})});class j_{position=0;constructor(e){this.length=e}isEmpty(){return!1}memoFor(e){return e}next(){let{length:e,position:t}=this;if(t>=e)return null;let r=this.valueFor(t),n=this.memoFor(t);return this.position++,{value:r,memo:n}}}class L_ extends j_{static from(e){return e.length>0?new this(e):null}static fromForEachable(e){let t=[];return e.forEach(e=>t.push(e)),this.from(t)}constructor(e){super(e.length),this.array=e}valueFor(e){return this.array[e]}}class q_ extends j_{static from(e){return e.length>0?new this(e):null}constructor(e){super(e.length),this.array=e}valueFor(e){return ei(this.array,e)}}class F_ extends j_{static fromIndexable(e){let t=Object.keys(e);if(0===t.length)return null;{let r=[];for(let n of t){let t;t=e[n],Ot()&&(Mt(Xt(e,n)),Array.isArray(t)&&Mt(Xt(t,"[]"))),r.push(t)}return new this(t,r)}}static fromForEachable(e){let t=[],r=[],n=0,i=!1;return e.forEach(function(e,s){i=i||arguments.length>=2,i&&t.push(s),r.push(e),n++}),0===n?null:i?new this(t,r):new L_(r)}constructor(e,t){super(t.length),this.keys=e,this.values=t}valueFor(e){return this.values[e]}memoFor(e){return this.keys[e]}}class z_{static from(e){let t=e[Symbol.iterator](),r=t.next(),{done:n}=r;return n?null:new this(t,r)}position=0;constructor(e,t){this.iterable=e,this.result=t}isEmpty(){return!1}next(){let{iterable:e,result:t,position:r}=this;if(t.done)return null;let n=this.valueFor(t,r),i=this.memoFor(t,r);return this.position++,this.result=e.next(),{value:n,memo:i}}}class U_ extends z_{valueFor(e){return e.value}memoFor(e,t){return t}}class B_ extends z_{valueFor(e){return e.value[1]}memoFor(e){return e.value[0]}}function $_(e){return null!=e&&"function"==typeof e.forEach}function H_(e){return null!=e&&"function"==typeof e[Symbol.iterator]}var V_;V_={scheduleRevalidate(){po.ensureInstance()},toBool:function(e){return Kn(e)?(Mt(ri(e,"content")),Boolean(hs(e,"isTruthy"))):Uu(e)?(Mt(ri(e,"[]")),0!==e.length):null!==(t=e)&&"object"==typeof t&&"function"==typeof t.toHTML?Boolean(e.toString()):Boolean(e);var t},toIterator:function(e){return e instanceof D_?function(e){return function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}(e)?Array.isArray(e)||Yn(e)?F_.fromIndexable(e):H_(e)?B_.from(e):$_(e)?F_.fromForEachable(e):F_.fromIndexable(e):null}(e.inner):function(e){return q(e)?Array.isArray(e)?L_.from(e):Yn(e)?q_.from(e):H_(e)?U_.from(e):$_(e)?L_.fromForEachable(e):null:null}(e)},getProp:ds,setProp:Ia,getPath:hs,setPath:Ma,scheduleDestroy(e,t){yo("actions",null,t,e)},scheduleDestroyed(e){yo("destroy",null,e)}},Ie=V_.scheduleRevalidate,ke=V_.scheduleDestroy,Se=V_.scheduleDestroyed,xe=V_.toIterator,Ae=V_.toBool,Re=V_.getProp,Te=V_.setProp,Ee=V_.getPath,Ce=V_.setPath;class W_{enableDebugTooling=w._DEBUG_RENDER_TREE;constructor(e,t){this.owner=e,this.isInteractive=t}onTransactionCommit(){}}const K_=P_(({positional:e,named:t})=>{const r=e[0];let n=t.type,i=t.loc,s=t.original;return Nr(n),Nr(i),Nr(s),Cr(()=>Nr(r))});let Q_;Q_=e=>e.positional[0];const G_=P_(Q_),Y_=P_(({positional:e})=>Cr(()=>{let t=e[0],r=e[1],n=Nr(t).split("."),i=n[n.length-1],s=Nr(r);return!0===s?Ap(i):s||0===s?String(s):""})),J_=P_(({positional:e},t)=>{let r=Nr(e[0]);return Tr(t.factoryFor(r)?.class)}),Z_=P_(({positional:e})=>{const t=e[0];return Cr(()=>{let e=Nr(t);return q(e)&&Mt(ri(e,"[]")),e})}),X_=P_(({positional:e})=>Ir(e[0])),ev=P_(({positional:e})=>Or(e[0])),tv=P_(({positional:e,named:t})=>Er(Nr(e[0]))),rv=P_(()=>Tr(([3e7]+-1e3+-4e3+-2e3+-1e11).replace(/[0-3]/g,e=>(4*e^16*Math.random()>>(2&e)).toString(16)))),nv={dynamicLayout:!0,dynamicTag:!1,prepareArgs:!1,createArgs:!0,attributeHook:!1,elementHook:!1,createCaller:!0,dynamicScope:!0,updateHook:!0,createInstance:!0,wrapped:!1,willDestroy:!1,hasSubOwner:!0},iv=new class{getDynamicLayout(e){return Vb(e.engine.lookup("template:application")(e.engine)).asLayout()}getCapabilities(){return nv}getOwner(e){return e.engine}create(e,{name:t},r,n){let i=e.buildChildEngineInstance(t);i.boot();let s,o,a,l,c=i.factoryFor("controller:application")||td(i,"application");if(r.named.has("model")&&(l=r.named.get("model")),void 0===l)s=c.create(),o=Tr(s),a={engine:i,controller:s,self:o,modelRef:l};else{let e=Nr(l);s=c.create({model:e}),o=Tr(s),a={engine:i,controller:s,self:o,modelRef:l}}return n.debugRenderTree&&qe(i,s),a}getDebugName({name:e}){return e}getDebugCustomRenderTree(e,t,r,n){return[{bucket:t.engine,instance:t.engine,type:"engine",name:e.name,args:r},{bucket:t.controller,instance:t.controller,type:"route-template",name:"application",args:r,template:n}]}getSelf({self:e}){return e}getDestroyable(e){return e.engine}didCreate(){}didUpdate(){}didRenderLayout(){}didUpdateLayout(){}update(e){let{controller:t,modelRef:r}=e;void 0!==r&&t.set("model",Nr(r))}};class sv{handle=-1;state;manager=iv;compilable=null;capabilities=ln(nv);constructor(e){this.resolvedName=e,this.state={name:e}}}const ov=P_((e,t)=>{let r,n,i,s=e.positional[0];return r=om(e.named,fm),Cr(()=>{let e=Nr(s);return"string"==typeof e?(n===e||(n=e,i=vg(0,new sv(e),t,r,!0)),i):(i=null,n=null,null)})}),av={dynamicLayout:!1,dynamicTag:!1,prepareArgs:!1,createArgs:!0,attributeHook:!1,elementHook:!1,createCaller:!1,dynamicScope:!1,updateHook:!1,createInstance:!0,wrapped:!1,willDestroy:!1,hasSubOwner:!1},lv=ln(av),cv=new class{create(e,t,r){let n=r.named.get("controller");return{self:n,controller:Nr(n)}}getSelf({self:e}){return e}getDebugName({name:e}){return`route-template (${e})`}getDebugCustomRenderTree({name:e,templateName:t},r,n){return[{bucket:r,type:"route-template",name:e,args:n,instance:r.controller,template:t}]}getCapabilities(){return av}didRenderLayout(){}didUpdateLayout(){}didCreate(){}didUpdate(){}getDestroyable(){return null}};let uv=class{handle=-1;resolvedName;state;manager=cv;capabilities=lv;compilable;constructor(e,t){let r=Vb(t);this.resolvedName=e,this.state={name:e,templateName:r.moduleName},this.compilable=r.asLayout()}};function hv(e,t,r){return vg(0,new uv(t,r),e,null,!0)}const dv=P_((e,t,r)=>{let n=Cr(()=>{let e=Nr(r.get("outletState"));return e?.outlets?.main}),i=null,s=null;return Cr(()=>{let e=Nr(n),r=function(e,t){if(void 0===t)return null;let r=t.render;if(void 0===r)return null;let n=r.template;return null==n?null:{ref:e,name:r.name,template:n,controller:r.controller}}(n,e);if(!function(e,t){return null!==e&&null!==t&&e.template===t.template&&e.controller===t.controller}(r,i))if(i=r,null!==r){let o,a=e?.render?.owner??t,l=hr(),c=r.template;o=On(c)?c:hv(a,r.name,c),l.Component=Tr(o),l.controller=Tr(r.controller);let u=qr(n,["render","model"]),h=Nr(u);l.model=Cr(()=>(i===r&&(h=Nr(u)),h));let d=om(l,fm);s=vg(0,new C_(t,r),a,d,!0)}else s=null;return s})});function pv(e){return{object:`component:${e}`}}const fv={mut:X_,readonly:ev,unbound:tv,"-hash":ny,"-each-in":N_,"-normalize-class":Y_,"-resolve":J_,"-track-array":Z_,"-mount":ov,"-outlet":dv,"-in-el-null":G_},gv={...fv,array:Zm,concat:ey,fn:ty,get:ry,hash:ny,"unique-id":rv};gv["-disallow-dynamic-resolution"]=K_;const mv={},yv={...mv,on:uy};class bv{componentDefinitionCache=new Map;lookupPartial(){return null}lookupHelper(e,t){let r=gv[e];if(void 0!==r)return r;let n=t.factoryFor(`helper:${e}`);if(void 0===n)return null;let i=n.class;return void 0===i?null:"function"==typeof i&&!0===i[y_]?(An(v_,n),n):i}lookupBuiltInHelper(e){return fv[e]??null}lookupModifier(e,t){let r=yv[e];if(void 0!==r)return r;let n=t.factoryFor(`modifier:${e}`);return void 0===n?null:n.class||null}lookupBuiltInModifier(e){return mv[e]??null}lookupComponent(e,t){let r=function(e,t){let r=function(e,t){let r=`component:${e}`;return t.factoryFor(r)||null}(t,e);if(null!=(n=r)&&"function"==typeof n.create&&r.class){let e=Hn(r.class);if(void 0!==e)return{component:r,layout:e}}var n;return null===r?null:{component:r,layout:null}}(t,e);if(null===r)return null;let n,i=null;n=null===r.component?i=r.layout(t):r.component;let s=this.componentDefinitionCache.get(n);if(void 0!==s)return s;null===i&&null!==r.layout&&(i=r.layout(t));let o=Qc("render.getComponentDefinition",pv,e),a=null;if(null===r.component)a={state:Cm(void 0,e),manager:Tm,template:i};else{let e=r.component,t=e.class,n=Cn(t);a={state:d_(n)?e:t,manager:n,template:i}}return o(),this.componentDefinitionCache.set(n,a),a}}const _v="-top-level";class vv{static extend(e){return class extends vv{static create(t){return t?super.create(Object.assign({},e,t)):super.create(e)}}}static reopenClass(e){Object.assign(this,e)}static create(e){let{environment:t,application:r,template:i}=e,s=n(e),o=i(s);return new vv(t,s,o,r)}ref;state;constructor(e,t,r,n){this._environment=e,this.owner=t,this.template=r,this.namespace=n;let i=ht(),s={outlets:{main:void 0},render:{owner:t,name:_v,controller:void 0,model:void 0,template:r}},o=this.ref=Cr(()=>(Mt(i),s),e=>{ct(i),s.outlets.main=e});this.state={ref:o,name:_v,template:r,controller:void 0}}appendTo(e){let t;t=this._environment.hasDOM&&"string"==typeof e?document.querySelector(e):e,yo("render",this.owner.lookup("renderer:-dom"),"appendOutletView",this,t)}rerender(){}setOutletState(e){jr(this.ref,e)}destroy(){}}class wv{constructor(e,t){this.view=e,this.outletState=t}child(){return new wv(this.view,this.outletState)}get(e){return this.outletState}set(e,t){return this.outletState=t,t}}const kv=()=>{};class Sv{type="component";#v;#w;constructor(e,t,r){this.#w=()=>{let n=eb(e.context,e.builder(e.env,r.into),e.owner,t,r?.args),i=this.#v=n.sync();qe(this,this.#v),this.#w=()=>{if(!$e(i)&&!He(i))return i.rerender({alwaysRevalidate:!1})}}}isFor(e){return!1}render(){this.#w()}destroy(){Ue(this)}get destroyed(){return He(this)}get result(){return this.#v}}class xv{type="classic";id;result;destroyed;render;env;constructor(e,t,r,n,i,s,o,a){this.root=e,this.id=e instanceof vv?W(e):wc(e),this.result=void 0,this.destroyed=!1,this.env=t.env,this.render=()=>{let e=Vb(n).asLayout(),l=Xy(t,r,i,a(t.env,{element:s,nextSibling:null}),e,o),c=this.result=l.sync();qe(r,c),this.render=()=>{if(!$e(c)&&!He(c))return c.rerender({alwaysRevalidate:!1})}}}isFor(e){return this.root===e}destroy(){let{result:e,env:t}=this;this.destroyed=!0,this.root=null,this.result=void 0,this.render=void 0,void 0!==e&&Gm(t,()=>Ue(e))}}const Av=[];function Rv(e){let t=Av.indexOf(e);Av.splice(t,1)}let Tv=null,Ev=0;po.on("begin",function(){for(let e of Av)e.rerender()}),po.on("end",function(){for(let e of Av)if(!e.isValid()){if(Ev>w._RERENDER_LOOP_LIMIT)throw Ev=0,e.destroy(),new Error("infinite rendering invalidation detected");return Ev++,po.join(null,kv)}Ev=0,function(){if(null!==Tv){let e=Tv.resolve;Tv=null,po.join(null,e)}}()});class Cv{static create(e,t){const r=new Cv(e,t);return qe(t,r),r}#k;#S=-1;#x=!1;#A=!1;#R=[];#T=[];constructor(e,t){this.#k=e,Fe(this,()=>{this.clearAllRoots(t)})}get debug(){return{roots:this.#R,inRenderTransaction:this.#x,isInteractive:this.isInteractive}}get roots(){return this.#R}get owner(){return this.#k.owner}get builder(){return this.#k.builder}get context(){return this.#k.context}get env(){return this.context.env}get isInteractive(){return this.#k.context.env.isInteractive}renderRoot(e,t){let r=this.#R;return r.push(e),qe(this,e),1===r.length&&function(e){Av.push(e)}(t),this.#E(t),e}#E(e){if(this.#x)return;this.#x=!0;let t=!1;try{this.renderRoots(e),t=!0}finally{t||(this.#S=st(bt)),this.#x=!1}}renderRoots(e){let t,r=this.#R,n=this.#T;do{t=r.length,Gm(this.context.env,()=>{for(let e=0;e<r.length;e++){let i=r[e];i.destroyed?n.push(i):e>=t||i.render()}this.#S=st(bt)})}while(r.length>t);for(;n.length;){let e=n.pop(),t=r.indexOf(e);r.splice(t,1)}0===this.#R.length&&Rv(e)}scheduleRevalidate(e){po.scheduleOnce("render",this,this.revalidate,e)}isValid(){return this.#A||0===this.#R.length||ot(bt,this.#S)}revalidate(e){this.isValid()||this.#E(e)}clearAllRoots(e){let t=this.#R;for(let r of t)Ue(r);this.#T.length=0,this.#R=[],t.length&&Rv(e)}}class Ov{static strict(e,t,r){return new Ov(e,{hasDOM:a,...r},t,new bv,zy)}state;constructor(e,t,r,n,i){let s={constants:new Xf,heap:new tg},o=Qm({document:r},new W_(e,t.isInteractive),s,n),a=new Bf(s,e=>new eg(e),o);this.state=Cv.create({owner:e,context:a,builder:i},this)}get debugRenderTree(){let{debugRenderTree:e}=this.state.env;return e}isValid(){return this.state.isValid()}destroy(){Ue(this)}render(e,t){const r=new Sv(this.state,e,{args:t.args,into:(n=t.into,"element"in n?n:{element:n,nextSibling:null})});var n;return this.state.renderRoot(r,this)}rerender(){this.state.scheduleRevalidate(this)}}class Mv extends Ov{static strict(e,t,r){return new Ov(e,{hasDOM:a,...r},t,new bv,zy)}_rootTemplate;_viewRegistry;static create(e){let{_viewRegistry:t}=e,r=n(e),i=r.lookup("service:-document"),s=r.lookup("-environment:main"),o=r.lookup(Uo`template:-root`),a=r.lookup("service:-dom-builder");return new this(r,i,s,o,t,a)}constructor(e,t,r,n,i,s=zy,o=new bv){super(e,r,t,o,s),this._rootTemplate=n(e),this._viewRegistry=i||e.lookup("-view-registry:main")}appendOutletView(e,t){let r=new C_((n=e).owner,n.state);var n;let{name:i,template:s}=e.state,o=hr();o.Component=Tr(hv(e.owner,i,s)),o.controller=Sr,o.model=Sr;let a=om(o,fm);this._appendDefinition(e,vg(0,r,e.owner,a,!0),t)}appendTo(e,t){let r=new I_(e);this._appendDefinition(e,vg(0,r,this.state.owner,null,!0),t)}_appendDefinition(e,t,r){let n=Tr(t),i=new wv(null,Sr),s=new xv(e,this.state.context,this.state.owner,this._rootTemplate,n,r,i,this.state.builder);this.state.renderRoot(s,this)}cleanupRootFor(e){if(He(this))return;let t=this.state.roots,r=t.length;for(;r--;){let n=t[r];"classic"===n.type&&n.isFor(e)&&(n.destroy(),t.splice(r,1))}}remove(e){e._transitionTo("destroying"),this.cleanupRootFor(e),this.state.isInteractive&&e.trigger("didDestroyElement")}get _roots(){return this.state.debug.roots}get _inRenderTransaction(){return this.state.debug.inRenderTransaction}get _isInteractive(){return this.state.debug.isInteractive}get _context(){return this.state.context}register(e){let t=wc(e);this._viewRegistry[t]=e}unregister(e){delete this._viewRegistry[wc(e)]}getElement(e){if(this._isInteractive)return Ac(e);throw new Error("Accessing `this.element` is not allowed in non-interactive environments (such as FastBoot).")}getBounds(e){let t=e[s_];return{parentElement:t.parentElement(),firstNode:t.firstNode(),lastNode:t.lastNode()}}}const Iv=Wf({id:"tiXbzL5t",block:'[[[46,[28,[32,0],null,null],null,null,null]],[],["component"]]',moduleName:"packages/@ember/-internals/glimmer/lib/templates/outlet.hbs",scope:()=>[dv],isStrictMode:!0});class Pv extends rh{rootElement=null;init(e){super.init(e),this.application._watchInstance(this),this.register("-application-instance:main",this,{instantiate:!1})}_bootSync(e){return this._booted||(e=new Dv(e),this.setupRegistry(e),e.rootElement?this.rootElement=e.rootElement:this.rootElement=this.application.rootElement,e.location&&Ma(this.router,"location",e.location),this.application.runInstanceInitializers(this),e.isInteractive&&this.setupEventDispatcher(),this._booted=!0),this}setupRegistry(e){this.constructor.setupRegistry(this.__registry__,e)}_router;get router(){if(!this._router){let e=this.lookup("router:main");this._router=e}return this._router}didCreateRootView(e){e.appendTo(this.rootElement)}startRouting(){this.router.startRouting()}setupRouter(){this.router.setupRouter()}handleURL(e){return this.setupRouter(),this.router.handleURL(e)}setupEventDispatcher(){let e=this.lookup("event_dispatcher:main"),t=hs(this.application,"customEvents"),r=hs(this,"customEvents"),n=Object.assign({},t,r);return e.setup(n,this.rootElement),e}getURL(){return this.router.url}visit(e){this.setupRouter();let t=this.__container__.lookup("-environment:main"),r=this.router,n=()=>t.options.shouldRender?(null===Tv&&(Tv=Ql.defer(),co()||po.schedule("actions",null,kv)),Tv.promise).then(()=>this):this,i=e=>{if(e.error&&e.error instanceof Error)throw e.error;if("TransitionAborted"===e.name&&r._routerMicrolib.activeTransition)return r._routerMicrolib.activeTransition.then(n,i);throw"TransitionAborted"===e.name?new Error(e.message):e},s=hs(r,"location");return s.setURL(e),r.handleURL(s.getURL()).then(n,i)}willDestroy(){super.willDestroy(),this.application._unwatchInstance(this)}static setupRegistry(e,t={}){let r=t instanceof Dv?t:new Dv(t);e.register("-environment:main",r.toEnvironment(),{instantiate:!1}),e.register("service:-document",r.document,{instantiate:!1}),super.setupRegistry(e,r)}}class Dv{isInteractive;_renderMode;isBrowser;location=null;shouldRender;document;rootElement;constructor(e={}){this.isInteractive=Boolean(a),this._renderMode=e._renderMode,void 0!==e.isBrowser?this.isBrowser=Boolean(e.isBrowser):this.isBrowser=Boolean(a),this.isBrowser||(this.isInteractive=!1,this.location="none"),void 0!==e.shouldRender?this.shouldRender=Boolean(e.shouldRender):this.shouldRender=!0,this.shouldRender||(this.isInteractive=!1),e.document?this.document=e.document:this.document="undefined"!=typeof document?document:null,e.rootElement&&(this.rootElement=e.rootElement),void 0!==e.location&&(this.location=e.location),void 0!==e.isInteractive&&(this.isInteractive=Boolean(e.isInteractive))}toEnvironment(){return{...f,hasDOM:this.isBrowser,isInteractive:this.isInteractive,_renderMode:this._renderMode,options:this}}}class Nv extends pc{static NAMESPACES=Go;static NAMESPACES_BY_ID=Yo;static processAll=ra;static byName=ea;init(e){super.init(e),Jo(this)}toString(){let e=hs(this,"name")||hs(this,"modulePrefix");if(e)return e;Xo();let t=Ho(this);return void 0===t&&(t=W(this),$o(this,t)),t}nameClasses(){ta(this)}destroy(){return Zo(this),super.destroy()}}Nv.prototype.isNamespace=!0;const jv=Object.freeze(Object.defineProperty({__proto__:null,default:Nv},Symbol.toStringTag,{value:"Module"}));var Lv=function(){function e(){this._vertices=new qv}return e.prototype.add=function(e,t,r,n){if(!e)throw new Error("argument `key` is required");var i=this._vertices,s=i.add(e);if(s.val=t,r)if("string"==typeof r)i.addEdge(s,i.add(r));else for(var o=0;o<r.length;o++)i.addEdge(s,i.add(r[o]));if(n)if("string"==typeof n)i.addEdge(i.add(n),s);else for(o=0;o<n.length;o++)i.addEdge(i.add(n[o]),s)},e.prototype.addEdges=function(e,t,r,n){this.add(e,t,r,n)},e.prototype.each=function(e){this._vertices.walk(e)},e.prototype.topsort=function(e){this.each(e)},e}(),qv=function(){function e(){this.length=0,this.stack=new Fv,this.path=new Fv,this.result=new Fv}return e.prototype.add=function(e){if(!e)throw new Error("missing key");for(var t,r=0|this.length,n=0;n<r;n++)if((t=this[n]).key===e)return t;return this.length=r+1,this[r]={idx:r,key:e,val:void 0,out:!1,flag:!1,length:0}},e.prototype.addEdge=function(e,t){this.check(e,t.key);for(var r=0|t.length,n=0;n<r;n++)if(t[n]===e.idx)return;t.length=r+1,t[r]=e.idx,e.out=!0},e.prototype.walk=function(e){this.reset();for(var t=0;t<this.length;t++){var r=this[t];r.out||this.visit(r,"")}this.each(this.result,e)},e.prototype.check=function(e,t){if(e.key===t)throw new Error("cycle detected: "+t+" <- "+t);if(0!==e.length){for(var r=0;r<e.length;r++)if(this[e[r]].key===t)throw new Error("cycle detected: "+t+" <- "+e.key+" <- "+t);if(this.reset(),this.visit(e,t),this.path.length>0){var n="cycle detected: "+t;throw this.each(this.path,function(e){n+=" <- "+e}),new Error(n)}}},e.prototype.reset=function(){this.stack.length=0,this.path.length=0,this.result.length=0;for(var e=0,t=this.length;e<t;e++)this[e].flag=!1},e.prototype.visit=function(e,t){var r=this,n=r.stack,i=r.path,s=r.result;for(n.push(e.idx);n.length;){var o=0|n.pop();if(o>=0){var a=this[o];if(a.flag)continue;if(a.flag=!0,i.push(o),t===a.key)break;n.push(~o),this.pushIncoming(a)}else i.pop(),s.push(~o)}},e.prototype.pushIncoming=function(e){for(var t=this.stack,r=e.length-1;r>=0;r--){var n=e[r];this[n].flag||t.push(n)}},e.prototype.each=function(e,t){for(var r=0,n=e.length;r<n;r++){var i=this[e[r]];t(i.key,i.val)}},e}(),Fv=function(){function e(){this.length=0}return e.prototype.push=function(e){this[this.length++]=0|e},e.prototype.pop=function(){return 0|this[--this.length]},e}();class zv extends pc{constructor(e){super(e),this.resolver=n(this).lookup("resolver-for-debugging:main")}resolver;canCatalogEntriesByType(e){return"model"!==e&&"template"!==e}catalogEntriesByType(e){let t=Nv.NAMESPACES,r=[],n=new RegExp(`${i=e,kp.get(i)}$`);var i;return t.forEach(e=>{for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.test(t)&&"class"===Au(e[t])&&r.push(Ap(t.replace(n,"")))}),r}}class Uv extends pc{componentFor(e,t){let r=`component:${e}`;return t.factoryFor(r)}layoutFor(e,t,r){let n=`template:components/${e}`;return t.lookup(n,r)}}const Bv=new WeakMap;class $v extends Ny{__openBlock(){let{tagName:e}=this.element;if("TITLE"!==e&&"SCRIPT"!==e&&"STYLE"!==e){let e=this.serializeBlockDepth++;this.__appendComment(`%+b:${e}%`)}super.__openBlock()}__closeBlock(){let{tagName:e}=this.element;if(super.__closeBlock(),"TITLE"!==e&&"SCRIPT"!==e&&"STYLE"!==e){let e=--this.serializeBlockDepth;this.__appendComment(`%-b:${e}%`)}}__appendHTML(e){let{tagName:t}=this.element;if("TITLE"===t||"SCRIPT"===t||"STYLE"===t)return super.__appendHTML(e);let r=this.__appendComment("%glmr%");if("TABLE"===t){let t=e.indexOf("<");t>-1&&"tr"===e.slice(t+1,t+3)&&(e=`<tbody>${e}</tbody>`)}""===e?this.__appendComment("% %"):super.__appendHTML(e);let n=this.__appendComment("%glmr%");return new xg(this.element,r,n)}__appendText(e){let{tagName:t}=this.element,r=function(e){let{element:t,nextSibling:r}=e;return null===r?t.lastChild:r.previousSibling}(this);return"TITLE"===t||"SCRIPT"===t||"STYLE"===t?super.__appendText(e):""===e?this.__appendComment("% %"):(r&&3===r.nodeType&&this.__appendComment("%|%"),super.__appendText(e))}closeElement(){return Bv.has(this.element)&&(Bv.delete(this.element),super.closeElement()),super.closeElement()}openElement(e){return"tr"===e&&"TBODY"!==this.element.tagName&&"THEAD"!==this.element.tagName&&"TFOOT"!==this.element.tagName&&(this.openElement("tbody"),Bv.set(this.constructing,!0),this.flushElement(null)),super.openElement(e)}pushRemoteElement(e,t,r=null){let{dom:n}=this,i=n.createElement("script");return i.setAttribute("glmr",t),n.insertBefore(e,i,r),super.pushRemoteElement(e,t,r)}constructor(...e){super(...e),this.serializeBlockDepth=0}}function Hv(e,t){return $v.forInitialRender(e,t)}function Vv(e){e.register("service:-dom-builder",{create(e){switch(n(e).lookup("-environment:main")._renderMode){case"serialize":return Hv.bind(null);case"rehydrate":return hb.bind(null);default:return zy.bind(null)}}}),e.register(Uo`template:-root`,gb),e.register("renderer:-dom",Mv)}class Wv extends(Nv.extend(Ra)){static initializers=Object.create(null);static instanceInitializers=Object.create(null);static initializer=Qv("initializers");static instanceInitializer=Qv("instanceInitializers");static buildRegistry(e){let t=new qo({resolver:Kv(e)});return t.set=Ma,t.register("application:main",e,{instantiate:!1}),function(e){e.optionsForType("component",{singleton:!1}),e.optionsForType("view",{singleton:!1}),e.register("controller:basic",Zu,{instantiate:!1}),e.register("service:-routing",qp),e.register("resolver-for-debugging:main",e.resolver,{instantiate:!1}),e.register("container-debug-adapter:main",zv),e.register("component-lookup:main",Uv)}(t),function(e){e.optionsForType("template",{instantiate:!1}),e.register("view:-outlet",vv),e.register("template:-outlet",Iv),e.optionsForType("helper",{instantiate:!1}),e.register("component:input",Ib),e.register("component:link-to",Ub),e.register("component:textarea",Hb)}(t),t}init(e){super.init(e),this.buildRegistry()}_initializersRan=!1;ensureInitializers(){this._initializersRan||(this.runInitializers(),this._initializersRan=!0)}buildInstance(e={}){return this.ensureInitializers(),rh.create({...e,base:this})}buildRegistry(){return this.__registry__=this.constructor.buildRegistry(this)}initializer(e){this.constructor.initializer(e)}instanceInitializer(e){this.constructor.instanceInitializer(e)}runInitializers(){this._runInitializer("initializers",(e,t)=>{t.initialize(this)})}runInstanceInitializers(e){this._runInitializer("instanceInitializers",(t,r)=>{r.initialize(e)})}_runInitializer(e,t){let r,n=hs(this.constructor,e),i=function(e){let t=[];for(let r in e)t.push(r);return t}(n),s=new Lv;for(let o of i)r=n[o],s.add(r.name,r,r.before,r.after);s.topsort(t)}}function Kv(e){let t={namespace:e};return e.Resolver.create(t)}function Qv(e){return function(t){let r=this.superclass;if(void 0!==r[e]&&r[e]===this[e]){let t={[e]:Object.create(this[e])};this.reopenClass(t)}this[e][t.name]=t}}const Gv=s,Yv=i;class Jv extends Wv{static buildRegistry(e){let t=super.buildRegistry(e);return function(e){e.register("router:main",Qd),e.register("-view-registry:main",{create:()=>pe(null)}),e.register("route:basic",pd),e.register("event_dispatcher:main",qc),e.register("location:hash",op),e.register("location:history",cp),e.register("location:none",up),e.register(Uo`-bucket-cache:main`,{create:()=>new vd}),e.register("service:router",Lp)}(t),Vv(t),t}static initializer=Qv("initializers");static instanceInitializer=Qv("instanceInitializers");init(e){super.init(e),this.rootElement??="body",this._document??=null,this.eventDispatcher??=null,this.customEvents??=null,this.autoboot??=!0,this._document??=a?window.document:null,this._globalsMode??=!0,this._readinessDeferrals=1,this._booted=!1,this._applicationInstances=new Set,this.autoboot=this._globalsMode=Boolean(this.autoboot),this._globalsMode&&this._prepareForGlobalsMode(),this.autoboot&&this.waitForDOMReady()}buildInstance(e={}){return Pv.create({...e,base:this,application:this})}_watchInstance(e){this._applicationInstances.add(e)}_unwatchInstance(e){return this._applicationInstances.delete(e)}Router;_prepareForGlobalsMode(){this.Router=(this.Router||Qd).extend(),this._buildDeprecatedInstance()}__deprecatedInstance__;__container__;_buildDeprecatedInstance(){let e=this.buildInstance();this.__deprecatedInstance__=e,this.__container__=e.__container__}waitForDOMReady(){const e=this._document;if(null===e||"loading"!==e.readyState)yo("actions",this,this.domReady);else{let t=()=>{e.removeEventListener("DOMContentLoaded",t),fo(this,this.domReady)};e.addEventListener("DOMContentLoaded",t)}}domReady(){this.isDestroying||this.isDestroyed||this._bootSync()}deferReadiness(){this._readinessDeferrals++}advanceReadiness(){this._readinessDeferrals--,0===this._readinessDeferrals&&bo(this,this.didBecomeReady)}_bootPromise=null;boot(){if(this._bootPromise)return this._bootPromise;try{this._bootSync()}catch(e){}return this._bootPromise}_bootResolver=null;_bootSync(){if(this._booted||this.isDestroying||this.isDestroyed)return;let e=this._bootResolver=Gl.defer();this._bootPromise=e.promise;try{this.runInitializers(),Ro("application",this),this.advanceReadiness()}catch(t){throw e.reject(t),t}}reset(){let e=this.__deprecatedInstance__;this._readinessDeferrals=1,this._bootPromise=null,this._bootResolver=null,this._booted=!1,go(this,function(){fo(e,"destroy"),this._buildDeprecatedInstance(),yo("actions",this,"_bootSync")})}didBecomeReady(){if(!this.isDestroying&&!this.isDestroyed)try{if(this.autoboot){let e;e=this._globalsMode?this.__deprecatedInstance__:this.buildInstance(),e._bootSync(),this.ready(),e.startRouting()}this._bootResolver.resolve(this),this._booted=!0}catch(e){throw this._bootResolver.reject(e),e}}ready(){return this}willDestroy(){super.willDestroy(),Ao.application===this&&(Ao.application=void 0),this._applicationInstances.size&&(this._applicationInstances.forEach(e=>e.destroy()),this._applicationInstances.clear())}visit(e,t){return this.boot().then(()=>{let r=this.buildInstance();return r.boot(t).then(()=>r.visit(e)).catch(e=>{throw fo(r,"destroy"),e})})}}const Zv=Object.freeze(Object.defineProperty({__proto__:null,_loaded:Ao,default:Jv,getOwner:Gv,onLoad:function(e,t){let r=xo[e];(So[e]??=[]).push(t),r&&t(r)},runLoadHooks:Ro,setOwner:Yv},Symbol.toStringTag,{value:"Module"})),Xv=Object.assign({},{}),ew=function(){var e;let t="trakt-mal-sync/config/environment";try{let r=null!==(e=document.querySelector(`meta[name="${t}"]`).getAttribute("content"))&&void 0!==e?e:"{}";return JSON.parse(decodeURIComponent(r))}catch(r){return`Could not read config from meta tag with name "${t}".`}}(),tw=Object.freeze(Object.defineProperty({__proto__:null,default:ew},Symbol.toStringTag,{value:"Module"}));!function(e){self.deprecationWorkflow=self.deprecationWorkflow||{},self.deprecationWorkflow.deprecationLog={messages:new Set},self.deprecationWorkflow.flushDeprecations=t=>function({handler:e="silence",config:t={}}={}){let r=self.deprecationWorkflow.deprecationLog.messages,n=t.workflow??[],i=r.values().filter(e=>!n.some(t=>t.matchId===e)).map(t=>({handler:e,matchId:t})),s={...t,workflow:[...n,...i]};return`import setupDeprecationWorkflow from 'ember-cli-deprecation-workflow';\n\nsetupDeprecationWorkflow(${JSON.stringify(s,void 0,2)});`}({config:e,...t})}({throwOnUnhandled:!1,workflow:[]});const rw=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));!function(){const e="TEST_WAITERS",t="undefined"!=typeof Symbol?Symbol.for(e):e,r=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;throw new Error("unable to locate global object")}();let n=r[t];void 0===n&&(n=r[t]=new Map)}();class nw{name;constructor(e){this.name=e}beginAsync(){return this}endAsync(){}waitUntil(){return!0}debugInfo(){return[]}reset(){}}function iw(e){return e?.__esModule?e:{default:e,...e}}let sw,ow;sw=iw(o).getOwner;{const qC=new nw("@embroider/router:lazy-route-waiter");function FC(){return window}class zC extends Qd{seenByRoute=new Set;registeredBundles=new Map;lazyRoute(e){let t=FC();if(t._embroiderRouteBundles_)return t._embroiderRouteBundles_.find(t=>-1!==t.names.indexOf(e))}lazyEngine(e){let t=FC(),r=this._engineInfoByRoute[e];if(r&&t._embroiderEngineBundles_){let e=r.name;return t._embroiderEngineBundles_.find(t=>-1!==t.names.indexOf(e))}}isEngine(e){return Boolean(this._engineInfoByRoute[e])}_getQPMeta(e,...t){let r=this.lazyRoute(e.name);if((!r||this.registeredBundles.get(r)?.loaded)&&(!this.isEngine(e.name)||this.seenByRoute.has(e.name))&&(r=this.lazyEngine(e.name),!r||this.registeredBundles.get(r)?.loaded))return super._getQPMeta(e,...t)}setupRouter(...e){let t=super.setupRouter(...e),r=this._routerMicrolib;return r.getRoute.isEmbroiderRouterHandler||(r.getRoute=this._handlerResolver(r.getRoute.bind(r))),t}registerBundle(e){let t=this.registeredBundles.get(e);if(t)return t.promise;{let r;t={promise:new Promise(e=>r=e),loaded:!1},this.registeredBundles.set(e,t);const n=sw(this);return r((async()=>{let r=qC.beginAsync(),{default:i}=await e.load();if(qC.endAsync(r),He(n)||$e(n))return;let s=n.lookup("resolver:current");if(!s)throw new Error("This version of @embroider/router requires ember-resolver >= 13.1.0");s.addModules(i),t.loaded=!0})()),t.promise}}_handlerResolver(e){let t=t=>{const r=this.lazyRoute(t)??this.lazyEngine(t);return this.seenByRoute.add(t),r?this.registeredBundles.get(r)?.loaded?e(t):this.registerBundle(r).then(()=>e(t)):e(t)};return t.isEmbroiderRouterHandler=!0,t}}ow=zC}var aw=ow;class lw extends aw{location=ew.locationType;rootURL=ew.rootURL}lw.map(function(){this.route("dashboard"),this.route("settings"),this.route("auth",function(){this.route("trakt-callback"),this.route("mal-callback")}),this.route("sync",function(){this.route("preview"),this.route("progress"),this.route("results")})});const cw=Object.freeze(Object.defineProperty({__proto__:null,default:lw},Symbol.toStringTag,{value:"Module"})),uw=Object.freeze(Object.defineProperty({__proto__:null,default:class extends Pp{dbName="TraktMALSync";dbVersion=4;db=null;CACHE_DURATION={mapping:6048e5,traktData:36e5,malData:36e5};constructor(){super(...arguments),this.openDatabase()}async openDatabase(){return this.db?this.db:new Promise((e,t)=>{const r=indexedDB.open(this.dbName,this.dbVersion);r.onerror=()=>{console.error("IndexedDB error:",r.error),t(r.error)},r.onsuccess=()=>{this.db=r.result,e(this.db)},r.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains("animeMapping")&&t.deleteObjectStore("animeMapping");const r=t.createObjectStore("animeMapping",{keyPath:"id"});if(r.createIndex("malId","malId",{unique:!1}),r.createIndex("traktId","traktId",{unique:!1}),r.createIndex("title","title",{unique:!1}),t.objectStoreNames.contains("traktCache")||t.createObjectStore("traktCache",{keyPath:"userId"}),t.objectStoreNames.contains("malCache")||t.createObjectStore("malCache",{keyPath:"userId"}),t.objectStoreNames.contains("syncHistory")||t.createObjectStore("syncHistory",{keyPath:"id"}),!t.objectStoreNames.contains("listSyncHistory")){const e=t.createObjectStore("listSyncHistory",{keyPath:"id"});e.createIndex("listId","listId",{unique:!1}),e.createIndex("syncedAt","syncedAt",{unique:!1})}t.objectStoreNames.contains("listSyncStatus")||t.createObjectStore("listSyncStatus",{keyPath:"id"})}})}async get(e,t){return await this.openDatabase(),new Promise((r,n)=>{const i=this.db.transaction([e],"readonly").objectStore(e).get(t);i.onsuccess=()=>{const e=i.result;e&&e.expiresAt&&Date.now()<e.expiresAt||e&&!e.expiresAt?r(e):r(null)},i.onerror=()=>{console.error("Cache get error:",i.error),n(i.error)}})}async set(e,t,r=null){return await this.openDatabase(),new Promise((n,i)=>{const s=this.db.transaction([e],"readwrite").objectStore(e),o={...t,cachedAt:Date.now(),expiresAt:r?Date.now()+r:null},a=s.put(o);a.onsuccess=()=>n(a.result),a.onerror=()=>{console.error("Cache set error:",a.error),i(a.error)}})}async getByIndex(e,t,r){return await this.openDatabase(),new Promise((n,i)=>{const s=this.db.transaction([e],"readonly").objectStore(e).index(t).get(r);s.onsuccess=()=>{const e=s.result;e&&e.expiresAt&&Date.now()>=e.expiresAt?n(null):n(e)},s.onerror=()=>{console.error("Cache getByIndex error:",s.error),i(s.error)}})}async getAll(e){return await this.openDatabase(),new Promise((t,r)=>{const n=this.db.transaction([e],"readonly").objectStore(e).getAll();n.onsuccess=()=>{const e=n.result.filter(e=>!e.expiresAt||Date.now()<e.expiresAt);t(e)},n.onerror=()=>{console.error("Cache getAll error:",n.error),r(n.error)}})}async remove(e,t){return await this.openDatabase(),new Promise((r,n)=>{const i=this.db.transaction([e],"readwrite").objectStore(e).delete(t);i.onsuccess=()=>r(),i.onerror=()=>{console.error("Cache remove error:",i.error),n(i.error)}})}async clearStore(e){return await this.openDatabase(),new Promise((t,r)=>{const n=this.db.transaction([e],"readwrite").objectStore(e).clear();n.onsuccess=()=>t(),n.onerror=()=>{console.error("Cache clearStore error:",n.error),r(n.error)}})}async clearExpired(){await this.openDatabase();const e=["animeMapping","traktCache","malCache","syncHistory","listSyncHistory","listSyncStatus"];for(const t of e){const e=(await this.getAll(t)).filter(e=>e.expiresAt&&Date.now()>=e.expiresAt).map(e=>e.id||e.userId);for(const r of e)await this.remove(t,r)}}async clearAll(){await this.openDatabase();const e=["animeMapping","traktCache","malCache","syncHistory","listSyncHistory","listSyncStatus"];for(const t of e)await this.clearStore(t)}}},Symbol.toStringTag,{value:"Module"}));class hw{constructor(e,t){this.maxRequests=e,this.timeWindowMs=t,this.queue=[],this.timestamps=[],this.processing=!1}async throttle(e){return new Promise((t,r)=>{this.queue.push({fn:e,resolve:t,reject:r}),this.processQueue()})}async processQueue(){if(!this.processing&&0!==this.queue.length){for(this.processing=!0;this.queue.length>0;){const t=Date.now();if(this.timestamps=this.timestamps.filter(e=>t-e<this.timeWindowMs),this.timestamps.length<this.maxRequests){const{fn:r,resolve:n,reject:i}=this.queue.shift();this.timestamps.push(t);try{n(await r())}catch(e){i(e)}await this.delay(100)}else{const e=this.timestamps[0],r=this.timeWindowMs-(t-e)+100;await this.delay(r)}}this.processing=!1}}delay(e){return new Promise(t=>setTimeout(t,e))}getQueueLength(){return this.queue.length}getCurrentRequestCount(){const e=Date.now();return this.timestamps=this.timestamps.filter(t=>e-t<this.timeWindowMs),this.timestamps.length}clearQueue(){this.queue=[]}}const dw=new hw(1e3,3e5),pw=new hw(60,6e4),fw=new hw(50,6e4),gw=Object.freeze(Object.defineProperty({__proto__:null,RateLimiter:hw,idsMoeLimiter:fw,malLimiter:pw,traktLimiter:dw},Symbol.toStringTag,{value:"Module"})),mw=new WeakMap;function yw(e,t,r,n){let i={configurable:!0,enumerable:!0,writable:!0,initializer:null};n&&(i.initializer=n);for(let s of r)i=s(e,t,i)||i;void 0===i.initializer?Object.defineProperty(e,t,i):function(e,t,r){let n=mw.get(e);n||(n=new Map,mw.set(e,n)),n.set(t,r)}(e,t,i)}function bw(e,t,r){let n={...Object.getOwnPropertyDescriptor(e,t)};for(let i of r)n=i(e,t,n)||n;void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(e):void 0,n.initializer=void 0),Object.defineProperty(e,t,n)}function _w(e,t){let r=function(e,t){var r;let n=e.prototype;for(;n;){let e=null==(r=mw.get(n))?void 0:r.get(t);if(e)return e;n=n.prototype}}(e.constructor,t);r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(e):void 0})}class vw extends Pp{static{yw(this.prototype,"storage",[Ip])}#C=void _w(this,"storage");static{yw(this.prototype,"oauth",[Ip])}#O=void _w(this,"oauth");static{yw(this.prototype,"cache",[Ip])}#M=void _w(this,"cache");async request(e,t={}){this.storage.isTokenExpired("mal_expires_at")&&await this.oauth.refreshMALToken();const r=this.storage.getToken("mal_access_token");if(!r)throw new Error("Not authenticated with MyAnimeList");return pw.throttle(async()=>{const n=`${ew.APP.MAL_API_BASE_URL}${e}`,i=await fetch(n,{...t,headers:{Authorization:`Bearer ${r}`,...t.headers}});if(401===i.status)return await this.oauth.refreshMALToken(),this.request(e,t);if(!i.ok){const e=await i.json().catch(()=>({}));throw new Error(e.error||`MAL API error: ${i.statusText}`)}return i.json()})}async getAnimeList(e=null,t=1e3,r=0){const n=`@me-${e||"all"}-${r}`,i=await this.cache.get("malCache",n);if(i)return i.data;let s=`/users/@me/animelist?limit=${t}&offset=${r}&fields=list_status,num_episodes,alternative_titles`;e&&(s+=`&status=${e}`);const o=await this.request(s);return await this.cache.set("malCache",{userId:n,data:o},this.cache.CACHE_DURATION.malData),o}async getAllAnime(e=null){let t=[],r=0,n=!0;for(;n;){const i=await this.getAnimeList(e,1e3,r);t=[...t,...i.data],i.paging&&i.paging.next?r+=1e3:n=!1}return t}async getAnime(e){return this.request(`/anime/${e}?fields=alternative_titles,num_episodes,synopsis,mean,genres`)}async updateAnimeStatus(e,t){const r=new URLSearchParams;return t.status&&r.append("status",t.status),void 0!==t.score&&r.append("score",t.score),void 0!==t.num_watched_episodes&&r.append("num_watched_episodes",t.num_watched_episodes),void 0!==t.is_rewatching&&r.append("is_rewatching",t.is_rewatching),t.start_date&&r.append("start_date",t.start_date),t.finish_date&&r.append("finish_date",t.finish_date),this.request(`/anime/${e}/my_list_status`,{method:"PATCH",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()})}async deleteFromList(e){return this.request(`/anime/${e}/my_list_status`,{method:"DELETE"})}async searchAnime(e,t=10){return this.request(`/anime?q=${encodeURIComponent(e)}&limit=${t}&fields=alternative_titles,num_episodes`)}async getUserProfile(){return this.request("/users/@me")}mapStatusToTrakt(e){return{watching:"watching",completed:"completed",plan_to_watch:"plantowatch",on_hold:"watching",dropped:null}[e]}mapStatusFromTrakt(e){return{watching:"watching",completed:"completed",plantowatch:"plan_to_watch"}[e]||"plan_to_watch"}}const ww=Object.freeze(Object.defineProperty({__proto__:null,default:vw},Symbol.toStringTag,{value:"Module"}));class kw extends Pp{static{yw(this.prototype,"cache",[Ip])}#M=void _w(this,"cache");static{yw(this.prototype,"trakt",[Ip])}#I=void _w(this,"trakt");static{yw(this.prototype,"mal",[Ip])}#P=void _w(this,"mal");static{yw(this.prototype,"storage",[Ip])}#C=void _w(this,"storage");getIdsMoeApiKey(){return this.storage.getUserApiKey("user_ids_moe_api_key")||ew.APP.IDS_MOE_API_KEY||null}async getTraktSlugFromMAL(e){if(!e||!e.title)return null;const t=`mal-${e.id}`,r=await this.cache.get("animeMapping",t);if(r&&r.traktSlug)return r.traktSlug;try{let r=null;if(this.getIdsMoeApiKey()&&e.id){const t=await this.getExternalIdsFromIdsMoe("myanimelist",e.id);if(t&&t.trakt)try{const e=await this.trakt.getShow(t.trakt);e&&e.ids&&(r=e.ids.slug)}catch(n){console.error("Error getting Trakt show details:",n)}}return r||(r=await this.getTraktSlugByTitleSearch(e)),r&&await this.cache.set("animeMapping",{id:t,malId:e.id,traktId:r,title:e.title},this.cache.CACHE_DURATION.mapping),r}catch(n){return console.error("Error mapping MAL to Trakt:",n),null}}async getExternalIdsFromIdsMoe(e,t){const r=this.getIdsMoeApiKey();if(!r)return null;try{const n=`${ew.APP.IDS_MOE_API_BASE_URL}/ids/${t}?platform=${e}`,i=await fw.throttle(async()=>fetch(n,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}}));return i.ok?await i.json():null}catch(n){return console.error(`Error fetching from ids.moe (${e}:${t}):`,n),null}}async getTraktSlugByTitleSearch(e){try{const t=e.title,r=await this.trakt.searchShows(t,"show");if(!r||0===r.length)return null;const n=this.findBestMatch(e,r,"mal-to-trakt");return n?n.show.ids.slug:null}catch(t){return console.error("Error searching Trakt by title:",t),null}}async getMALIdFromTrakt(e){if(!e||!e.title)return null;const t=`trakt-${e.ids.slug}`,r=await this.cache.get("animeMapping",t);if(r&&r.malId)return r.malId;try{let r=null;return this.getIdsMoeApiKey()&&e.title&&(r=await this.searchIdsMoeByTitle(e.title)),r||(r=await this.getMalIdByTitleSearch(e)),r&&await this.cache.set("animeMapping",{id:t,malId:r,traktId:e.ids.slug,title:e.title,year:e.year},this.cache.CACHE_DURATION.mapping),r}catch(n){return console.error("Error mapping Trakt to MAL:",n),null}}async searchIdsMoeByTitle(e){const t=this.getIdsMoeApiKey();if(!t)return null;try{const r=`${ew.APP.IDS_MOE_API_BASE_URL}/search?q=${encodeURIComponent(e)}`,n=await fw.throttle(async()=>fetch(r,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}));if(!n.ok)return null;const i=await n.json();if(!i.results||0===i.results.length)return null;const s=i.results[0],o=`${ew.APP.IDS_MOE_API_BASE_URL}/ids/${s.id}`,a=await fw.throttle(async()=>fetch(o,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}));if(!a.ok)return null;const l=await a.json();return l?.myanimelist||null}catch(r){return console.error("Error searching ids.moe by title:",r),null}}async getMalIdFromIdsMoe(e,t){const r=this.getIdsMoeApiKey();if(!r)return null;try{const n=`${ew.APP.IDS_MOE_API_BASE_URL}/ids/${t}?platform=${e}`,i=await fw.throttle(async()=>fetch(n,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}}));if(!i.ok)return null;const s=await i.json();return s?.myanimelist||null}catch(n){return console.error(`Error fetching from ids.moe (${e}:${t}):`,n),null}}async getMalIdByTitleSearch(e){try{const t=e.title,r=await this.mal.searchAnime(t),n=r?.data||[];if(!n||0===n.length)return null;const i=this.findBestMatch(e,n,"trakt-to-mal");return i?i.node.id:null}catch(t){return console.error("Error searching MAL by title:",t),null}}findBestMatch(e,t,r){let n=null,i=0;for(const s of t){let t,o,a=0;"mal-to-trakt"===r?(t=s.show.title,o=s.show.year):(t=s.node.title,o=s.node.start_season?.year);let l=this.calculateSimilarity(e.title,t);if("mal-to-trakt"===r&&e.alternative_titles){const r=Object.values(e.alternative_titles).flat();for(const e of r){const r=this.calculateSimilarity(e,t);r>l&&(l=r)}}else if("trakt-to-mal"===r&&s.node.alternative_titles){const t=Object.values(s.node.alternative_titles).flat();for(const r of t){const t=this.calculateSimilarity(e.title,r);t>l&&(l=t)}}a+=.8*l;const c="mal-to-trakt"===r?e.start_season?.year:e.year;c&&o&&c===o&&(a+=.2),a>i&&(i=a,n=s)}return i>=.6?n:null}calculateSimilarity(e,t){if(!e||!t)return 0;const r=e.toLowerCase().trim(),n=t.toLowerCase().trim();if(r===n)return 1;if(r.includes(n)||n.includes(r))return.85;const i=r.length>n.length?r:n,s=r.length>n.length?n:r;if(0===i.length)return 1;const o=this.levenshteinDistance(i,s);return(i.length-o)/i.length}levenshteinDistance(e,t){const r=[];for(let n=0;n<=t.length;n++)r[n]=[n];for(let n=0;n<=e.length;n++)r[0][n]=n;for(let n=1;n<=t.length;n++)for(let i=1;i<=e.length;i++)t.charAt(n-1)===e.charAt(i-1)?r[n][i]=r[n-1][i-1]:r[n][i]=Math.min(r[n-1][i-1]+1,r[n][i-1]+1,r[n-1][i]+1);return r[t.length][e.length]}async clearMappings(){await this.cache.clearStore("animeMapping")}}const Sw=Object.freeze(Object.defineProperty({__proto__:null,default:kw},Symbol.toStringTag,{value:"Module"}));class xw extends Pp{static{yw(this.prototype,"storage",[Ip])}#C=void _w(this,"storage");static{yw(this.prototype,"isAuthenticatedTrakt",[_s],function(){return!1})}#D=void _w(this,"isAuthenticatedTrakt");static{yw(this.prototype,"isAuthenticatedMAL",[_s],function(){return!1})}#N=void _w(this,"isAuthenticatedMAL");constructor(){super(...arguments),this.checkAuthStatus()}checkAuthStatus(){const e=this.storage.getToken("trakt_access_token"),t=this.storage.getToken("mal_access_token");this.isAuthenticatedTrakt=!!e&&!this.storage.isTokenExpired("trakt_expires_at"),this.isAuthenticatedMAL=!!t&&!this.storage.isTokenExpired("mal_expires_at")}generateCodeVerifier(){const e=new Uint8Array(96);return crypto.getRandomValues(e),this.base64URLEncode(e)}async generateCodeChallenge(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t);return this.base64URLEncode(new Uint8Array(r))}base64URLEncode(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}generateState(){return crypto.randomUUID()}async initiateMALAuth(){const e=this.storage.getUserApiKey("user_mal_client_id");if(!e)throw new Error("Please configure your MAL API credentials in Settings before connecting");const t=this.generateCodeVerifier(),r=t,n=this.generateState();sessionStorage.setItem("mal_code_verifier",t),sessionStorage.setItem("mal_oauth_state",n);const i=new URLSearchParams({response_type:"code",client_id:e,code_challenge:r,code_challenge_method:"plain",state:n,redirect_uri:`${ew.APP.APP_URL}/auth/mal-callback`});window.location.href=`${ew.APP.MAL_AUTH_URL}?${i}`}async handleMALCallback(e,t){if(t!==sessionStorage.getItem("mal_oauth_state"))throw new Error("Invalid OAuth state - possible CSRF attack");const r=sessionStorage.getItem("mal_code_verifier");if(!r)throw new Error("Code verifier not found");const n=this.storage.getUserApiKey("user_mal_client_id"),i=this.storage.getUserApiKey("user_mal_client_secret");if(!n||!i)throw new Error("MAL API credentials not found in Settings");const s=await fetch("/api/mal-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:n,client_secret:i,code:e,code_verifier:r,grant_type:"authorization_code",redirect_uri:`${ew.APP.APP_URL}/auth/mal-callback`})});if(!s.ok){const e=await s.json();throw new Error(`MAL token exchange failed: ${e.error||s.statusText}`)}const o=await s.json();return this.storage.setToken("mal_access_token",o.access_token),this.storage.setToken("mal_refresh_token",o.refresh_token),this.storage.set("mal_expires_at",Date.now()+1e3*o.expires_in),sessionStorage.removeItem("mal_code_verifier"),sessionStorage.removeItem("mal_oauth_state"),this.isAuthenticatedMAL=!0,o}async refreshMALToken(){const e=this.storage.getToken("mal_refresh_token");if(!e)throw new Error("No refresh token available");const t=this.storage.getUserApiKey("user_mal_client_id"),r=this.storage.getUserApiKey("user_mal_client_secret");if(!t||!r)throw new Error("MAL API credentials not found in Settings");const n=await fetch("/api/mal-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,client_secret:r,refresh_token:e,grant_type:"refresh_token"})});if(!n.ok)throw new Error("MAL token refresh failed");const i=await n.json();return this.storage.setToken("mal_access_token",i.access_token),this.storage.setToken("mal_refresh_token",i.refresh_token),this.storage.set("mal_expires_at",Date.now()+1e3*i.expires_in),this.isAuthenticatedMAL=!0,i}async initiateTraktAuth(){const e=this.storage.getUserApiKey("user_trakt_client_id");if(!e)throw new Error("Please configure your Trakt API credentials in Settings before connecting");const t=this.generateState();sessionStorage.setItem("trakt_oauth_state",t);const r=new URLSearchParams({response_type:"code",client_id:e,redirect_uri:`${ew.APP.APP_URL}/auth/trakt-callback`,state:t});window.location.href=`${ew.APP.TRAKT_AUTH_URL}?${r}`}async handleTraktCallback(e,t){if(t!==sessionStorage.getItem("trakt_oauth_state"))throw new Error("Invalid OAuth state - possible CSRF attack");const r=this.storage.getUserApiKey("user_trakt_client_id"),n=this.storage.getUserApiKey("user_trakt_client_secret");if(!r||!n)throw new Error("Trakt API credentials not found in Settings");const i=await fetch(ew.APP.TRAKT_TOKEN_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:r,client_secret:n,code:e,redirect_uri:`${ew.APP.APP_URL}/auth/trakt-callback`,grant_type:"authorization_code"})});if(!i.ok){const e=await i.json();throw new Error(`Trakt token exchange failed: ${e.error||i.statusText}`)}const s=await i.json();return this.storage.setToken("trakt_access_token",s.access_token),this.storage.setToken("trakt_refresh_token",s.refresh_token),this.storage.set("trakt_expires_at",Date.now()+1e3*s.expires_in),sessionStorage.removeItem("trakt_oauth_state"),this.isAuthenticatedTrakt=!0,s}async refreshTraktToken(){const e=this.storage.getToken("trakt_refresh_token");if(!e)throw new Error("No refresh token available");const t=this.storage.getUserApiKey("user_trakt_client_id"),r=this.storage.getUserApiKey("user_trakt_client_secret");if(!t||!r)throw new Error("Trakt API credentials not found in Settings");const n=await fetch(ew.APP.TRAKT_TOKEN_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,client_secret:r,refresh_token:e,grant_type:"refresh_token"})});if(!n.ok)throw new Error("Trakt token refresh failed");const i=await n.json();return this.storage.setToken("trakt_access_token",i.access_token),i.refresh_token&&this.storage.setToken("trakt_refresh_token",i.refresh_token),this.storage.set("trakt_expires_at",Date.now()+1e3*i.expires_in),this.isAuthenticatedTrakt=!0,i}logoutTrakt(){this.storage.remove("trakt_access_token"),this.storage.remove("trakt_refresh_token"),this.storage.remove("trakt_expires_at"),this.isAuthenticatedTrakt=!1}logoutMAL(){this.storage.remove("mal_access_token"),this.storage.remove("mal_refresh_token"),this.storage.remove("mal_expires_at"),this.isAuthenticatedMAL=!1}logoutAll(){this.logoutTrakt(),this.logoutMAL()}}const Aw=Object.freeze(Object.defineProperty({__proto__:null,default:xw},Symbol.toStringTag,{value:"Module"})),Rw=Object.freeze(Object.defineProperty({__proto__:null,default:class extends Pp{set(e,t){try{const r=btoa(JSON.stringify({value:t,timestamp:Date.now()}));localStorage.setItem(e,r)}catch(r){console.error("Storage set error:",r)}}get(e){try{const t=localStorage.getItem(e);return t?JSON.parse(atob(t)).value:null}catch(t){return console.error("Storage get error:",t),null}}setToken(e,t){this.set(e,t)}getToken(e){return this.get(e)}remove(e){localStorage.removeItem(e)}clearAll(){localStorage.clear()}isTokenExpired(e){const t=this.get(e);return!t||Date.now()>=t}setUserApiKey(e,t){this.set(e,t)}getUserApiKey(e){return this.get(e)}removeUserApiKey(e){this.remove(e)}hasRequiredKeys(){const e=this.getUserApiKey("user_trakt_client_id"),t=this.getUserApiKey("user_trakt_client_secret"),r=this.getUserApiKey("user_mal_client_id"),n=this.getUserApiKey("user_mal_client_secret"),i=this.getUserApiKey("user_ids_moe_api_key");return!!(e&&t&&r&&n&&i)}hasTraktKeys(){const e=this.getUserApiKey("user_trakt_client_id"),t=this.getUserApiKey("user_trakt_client_secret");return!(!e||!t)}hasMALKeys(){const e=this.getUserApiKey("user_mal_client_id"),t=this.getUserApiKey("user_mal_client_secret");return!(!e||!t)}}},Symbol.toStringTag,{value:"Module"}));class Tw extends Pp{static{yw(this.prototype,"trakt",[Ip])}#I=void _w(this,"trakt");static{yw(this.prototype,"mal",[Ip])}#P=void _w(this,"mal");static{yw(this.prototype,"mapping",[Ip])}#j=void _w(this,"mapping");static{yw(this.prototype,"cache",[Ip])}#M=void _w(this,"cache");static{yw(this.prototype,"syncProgress",[_s],function(){return 0})}#L=void _w(this,"syncProgress");static{yw(this.prototype,"syncTotal",[_s],function(){return 0})}#q=void _w(this,"syncTotal");static{yw(this.prototype,"syncStatus",[_s],function(){return"idle"})}#F=void _w(this,"syncStatus");static{yw(this.prototype,"currentOperation",[_s],function(){return null})}#z=void _w(this,"currentOperation");static{yw(this.prototype,"lastSyncResults",[_s],function(){return null})}#U=void _w(this,"lastSyncResults");static{yw(this.prototype,"pendingOperations",[_s],function(){return null})}#B=void _w(this,"pendingOperations");static{yw(this.prototype,"syncDirection",[_s],function(){return null})}#$=void _w(this,"syncDirection");static{yw(this.prototype,"syncedListIds",[_s],function(){return[]})}#H=void _w(this,"syncedListIds");static{yw(this.prototype,"targetTraktListId",[_s],function(){return null})}#V=void _w(this,"targetTraktListId");async analyzeDifferences(e,t=[]){this.syncStatus="analyzing",this.syncProgress=0,this.syncTotal=0;try{this.currentOperation="Fetching anime lists...";let r=[],n=[];if("trakt-to-mal"===e){const e=t.map(e=>this.trakt.getListItems("me",e)),i=await Promise.all(e),s=new Map;for(const t of i)for(const e of t){const t=e.show||e.movie,r=t.ids.slug;s.has(r)||s.set(r,{...e,show:t})}r=Array.from(s.values()),n=await this.mal.getAllAnime()}else n=await this.mal.getAllAnime(),r=[];this.currentOperation="Matching anime between services...",this.syncTotal="trakt-to-mal"===e?r.length:n.length;const i=await this.mapEntries(r,n,e),s=this.calculateDifferences(i,e);return this.syncStatus="idle",s}catch(r){throw this.syncStatus="error",r}}async mapEntries(e,t,r){const n=[];if("trakt-to-mal"===r){const r=new Map;for(const e of t)r.set(e.node.id,e);for(const t of e){const e=t.show.ids.slug,i=await this.mapping.getMALIdFromTrakt(t.show),s=i?r.get(i):null;n.push({traktId:e,malId:i,title:t.show.title,traktData:t,malData:s||null,mapped:!!i}),this.syncProgress++}}else for(const i of t){const e=await this.mapping.getTraktSlugFromMAL(i.node);n.push({traktId:e,malId:i.node.id,title:i.node.title,traktData:null,malData:i,mapped:!!e}),this.syncProgress++}return n}calculateDifferences(e,t){const r=[];for(const n of e)if(n.mapped){if("trakt-to-mal"===t){if(n.traktData&&!n.malData)r.push({type:"add",entry:n,action:"add_to_mal",changes:this.extractTraktData(n.traktData)});else if(n.traktData&&n.malData){const e=this.compareTraktToMAL(n.traktData,n.malData.list_status);e.hasChanges&&r.push({type:"update",entry:n,action:"update_mal",changes:e.changes})}}else if("mal-to-trakt"===t)if(n.malData&&!n.traktData)r.push({type:"add",entry:n,action:"add_to_trakt",changes:this.extractMALData(n.malData)});else if(n.malData&&n.traktData){const e=this.compareMALToTrakt(n.malData.list_status,n.traktData);e.hasChanges&&r.push({type:"update",entry:n,action:"update_trakt",changes:e.changes})}}else r.push({type:"unmapped",entry:n,action:"skip",reason:"No ID mapping available"});return r}extractTraktData(e){return{status:"completed",episodes_watched:e.plays||0,last_watched:e.last_watched_at}}extractMALData(e){return{status:e.list_status?.status||"plan_to_watch",score:e.list_status?.score||0,episodes_watched:e.list_status?.num_episodes_watched||0}}compareTraktToMAL(e,t){const r={};let n=!1;"completed"!==t?.status&&(r.status={from:t?.status,to:"completed"},n=!0);const i=e.plays||0,s=t?.num_episodes_watched||0;return i>s&&(r.episodes={from:s,to:i},n=!0),{hasChanges:n,changes:r}}compareMALToTrakt(e,t){const r={};let n=!1;return"completed"!==e?.status||t||(r.status={from:null,to:"completed"},n=!0),{hasChanges:n,changes:r}}async executeSyncOperations(e,t=null){this.syncStatus="syncing",this.syncTotal=e.length,this.syncProgress=0;const r={successful:0,failed:0,skipped:0,details:[]};for(const i of e){this.currentOperation=i;try{"unmapped"===i.type?(r.skipped++,r.details.push({...i,status:"skipped"})):(await this.executeOperation(i),r.successful++,r.details.push({...i,status:"success"}))}catch(n){r.failed++,r.details.push({...i,status:"error",error:n.message})}this.syncProgress++,t&&t(this.syncProgress,this.syncTotal),await this.delay(100)}return this.syncStatus="complete",this.currentOperation=null,await this.saveSyncHistory(r),this.lastSyncResults=r,r}async executeOperation(e){switch(e.action){case"add_to_mal":return this.mal.updateAnimeStatus(e.entry.malId,{status:e.changes.status||"completed",num_watched_episodes:e.changes.episodes_watched||0});case"update_mal":return this.mal.updateAnimeStatus(e.entry.malId,{status:e.changes.status?.to,num_watched_episodes:e.changes.episodes?.to});case"add_to_trakt":case"update_trakt":return this.targetTraktListId?this.trakt.addItemsToList(this.targetTraktListId,[{ids:{slug:e.entry.traktId}}]):this.trakt.addToHistory([{ids:{slug:e.entry.traktId}}]);default:throw new Error(`Unknown operation: ${e.action}`)}}async saveSyncHistory(e){if(await this.cache.set("syncHistory",{id:`sync-${Date.now()}`,timestamp:new Date,direction:this.syncDirection,...e}),"trakt-to-mal"===this.syncDirection&&this.syncedListIds.length>0)for(const t of this.syncedListIds)await this.cache.set("listSyncStatus",{id:`list-${t}`,listId:t,synced:!0,syncedAt:new Date})}async isListSynced(e){const t=await this.cache.get("listSyncStatus",`list-${e}`);return t?.synced||!1}delay(e){return new Promise(t=>setTimeout(t,e))}}const Ew=Object.freeze(Object.defineProperty({__proto__:null,default:Tw},Symbol.toStringTag,{value:"Module"}));class Cw extends Pp{static{yw(this.prototype,"storage",[Ip])}#C=void _w(this,"storage");static{yw(this.prototype,"oauth",[Ip])}#O=void _w(this,"oauth");static{yw(this.prototype,"cache",[Ip])}#M=void _w(this,"cache");async request(e,t={}){this.storage.isTokenExpired("trakt_expires_at")&&await this.oauth.refreshTraktToken();const r=this.storage.getToken("trakt_access_token");if(!r)throw new Error("Not authenticated with Trakt");return dw.throttle(async()=>{const n=`${ew.APP.TRAKT_API_BASE_URL}${e}`,i=await fetch(n,{...t,headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,"trakt-api-version":"2","trakt-api-key":ew.APP.TRAKT_CLIENT_ID,...t.headers}});if(401===i.status)return await this.oauth.refreshTraktToken(),this.request(e,t);if(!i.ok){const e=await i.json().catch(()=>({}));throw new Error(e.error||`Trakt API error: ${i.statusText}`)}return i.json()})}async getWatchedShows(e="me"){const t=`${e}-watched`,r=await this.cache.get("traktCache",t);if(r)return r.shows;const n=await this.request(`/users/${e}/watched/shows`);return await this.cache.set("traktCache",{userId:t,shows:n},this.cache.CACHE_DURATION.traktData),n}async getWatchlist(e="me"){const t=`${e}-watchlist`,r=await this.cache.get("traktCache",t);if(r)return r.shows;const n=await this.request(`/users/${e}/watchlist/shows`);return await this.cache.set("traktCache",{userId:t,shows:n},this.cache.CACHE_DURATION.traktData),n}async getCollection(e="me"){const t=`${e}-collection`,r=await this.cache.get("traktCache",t);if(r)return r.shows;const n=await this.request(`/users/${e}/collection/shows`);return await this.cache.set("traktCache",{userId:t,shows:n},this.cache.CACHE_DURATION.traktData),n}async getUserLists(e="me"){const t=`${e}-lists`,r=await this.cache.get("traktCache",t);if(r)return r.lists;const n=await this.request(`/users/${e}/lists`);return await this.cache.set("traktCache",{userId:t,lists:n},this.cache.CACHE_DURATION.traktData),n}async getListItems(e="me",t){const r=`${e}-list-${t}`,n=await this.cache.get("traktCache",r);if(n)return n.items;const i=(await this.request(`/users/${e}/lists/${t}/items`)).filter(e=>"show"===e.type||"movie"===e.type);return await this.cache.set("traktCache",{userId:r,items:i},this.cache.CACHE_DURATION.traktData),i}async getShow(e){return this.request(`/shows/${e}?extended=full`)}async getRatings(e="me"){return this.request(`/users/${e}/ratings/shows`)}async addToHistory(e){return this.request("/sync/history",{method:"POST",body:JSON.stringify({shows:e})})}async addToWatchlist(e){return this.request("/sync/watchlist",{method:"POST",body:JSON.stringify({shows:e})})}async removeFromWatchlist(e){return this.request("/sync/watchlist/remove",{method:"POST",body:JSON.stringify({shows:e})})}async addRatings(e){return this.request("/sync/ratings",{method:"POST",body:JSON.stringify({shows:e})})}async getUserProfile(){return this.request("/users/me")}async searchShows(e){return this.request(`/search/show?query=${encodeURIComponent(e)}&extended=full`)}async createList(e,t="",r="private"){return this.request("/users/me/lists",{method:"POST",body:JSON.stringify({name:e,description:t,privacy:r,display_numbers:!0,allow_comments:!1})})}async addItemsToList(e,t=[],r=[]){return this.request(`/users/me/lists/${e}/items`,{method:"POST",body:JSON.stringify({shows:t,movies:r})})}}const Ow=Object.freeze(Object.defineProperty({__proto__:null,default:Cw},Symbol.toStringTag,{value:"Module"}));function Mw(e,t,r){return(t="symbol"==typeof(n=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var n}function Iw(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Pw(e,t,r,n){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),void 0===(i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i)).initializer&&(Object.defineProperty(e,t,i),i=null),i}var Dw,Nw,jw,Lw,qw;const Fw="undefined"!=typeof FastBoot,zw="routeDidChange",Uw=["separator","prepend","replace"];let Bw=(Dw=Ip("router"),Nw=Ip("-document"),jw=class extends Pp{constructor(e){if(super(e),Iw(this,"router",Lw,this),Iw(this,"document",qw,this),Mw(this,"tokens",[]),Mw(this,"_defaultConfig",{separator:" | ",prepend:!0,replace:null}),Mw(this,"scheduleTitleUpdate",()=>{_o("afterRender",this,this._updateTitle)}),this._validateExistingTitleElement(),function(e){return"resolveRegistration"in e}(e)){const r=e.resolveRegistration("config:environment");"object"==typeof(t=r)&&null!==t&&"pageTitle"in t&&Uw.forEach(e=>{if(!function(e){if(null==e)return!0;if(!us(e)&&"number"==typeof e.size)return!e.size;if("object"==typeof e){let t=hs(e,"size");if("number"==typeof t)return!t;let r=hs(e,"length");if("number"==typeof r)return!r}return"number"==typeof e.length&&"function"!=typeof e&&!e.length}(r.pageTitle[e])){const t=r.pageTitle[e];this._defaultConfig[e]=t}})}var t;this.router.on(zw,this.scheduleTitleUpdate)}applyTokenDefaults(e){const t=this._defaultConfig.separator,r=this._defaultConfig.prepend,n=this._defaultConfig.replace;e.previous??=null,e.next??=null,null==e.separator&&(e.separator=t),null==e.prepend&&null!=r&&(e.prepend=r),null==e.replace&&null!=n&&(e.replace=n)}inheritFromPrevious(e){const t=e.previous;t&&(null==e.separator&&(e.separator=t.separator),null==e.prepend&&(e.prepend=t.prepend))}push(e){const t=this._findTokenById(e.id);if(t){const r=this.tokens.indexOf(t),n=[...this.tokens],i=t.previous;return e.previous=i,e.next=t.next,this.inheritFromPrevious(e),this.applyTokenDefaults(e),n.splice(r,1,e),void(this.tokens=n)}const r=this.tokens.slice(-1)[0];r&&(e.previous=r??null,r.next=e,this.inheritFromPrevious(e)),this.applyTokenDefaults(e),this.tokens=[...this.tokens,e]}remove(e){const t=this._findTokenById(e);if(!t)return;const{next:r,previous:n}=t;r&&(r.previous=n),n&&(n.next=r),t.previous=t.next=null;const i=[...this.tokens];i.splice(i.indexOf(t),1),this.tokens=i}get visibleTokens(){const e=this.tokens;let t=e?e.length:0;const r=[];for(;t--;){const n=e[t];if(n){if(n.replace){r.unshift(n);break}r.unshift(n)}}return r}get sortedTokens(){const e=this.visibleTokens;if(!e)return[];let t=!0,r=[];const n=[r],i=[];return e.forEach(e=>{e.front?i.unshift(e):e.prepend?(t&&(t=!1,r=[],n.push(r)),r.unshift(e)):(t||(t=!0,r=[],n.push(r)),r.push(e))}),i.concat(n.reduce((e,t)=>e.concat(t),[]))}toString(){const e=this.sortedTokens,t=[];for(let r=0,n=e.length;r<n;r++){const i=e[r];i&&i.title&&(t.push(i.title),r+1<n&&t.push(i.separator))}return t.join("")}willDestroy(){super.willDestroy(),this.router.off(zw,this.scheduleTitleUpdate)}_updateTitle(){const e=this.toString();Fw?this.updateFastbootTitle(e):this.document.title=e,this.titleDidUpdate(e)}_validateExistingTitleElement(){}_findTokenById(e){return this.tokens.find(t=>t.id===e)}updateFastbootTitle(e){if(!Fw)return;const t=this.document.head,r=t.childNodes;for(let s=0;s<r.length;s++){const e=r[s];e&&"title"===e.nodeName.toLowerCase()&&t.removeChild(e)}const n=this.document.createElement("title"),i=this.document.createTextNode(e);n.appendChild(i),t.appendChild(n)}titleDidUpdate(e){}},Lw=Pw(jw.prototype,"router",[Dw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qw=Pw(jw.prototype,"document",[Nw],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jw);const $w=Object.freeze(Object.defineProperty({__proto__:null,default:Bw},Symbol.toStringTag,{value:"Module"})),Hw={plurals:[[/$/,"s"],[/s$/i,"s"],[/^(ax|test)is$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(octop|vir)i$/i,"$1i"],[/(alias|status|bonus)$/i,"$1es"],[/(bu)s$/i,"$1ses"],[/(buffal|tomat)o$/i,"$1oes"],[/([ti])um$/i,"$1a"],[/([ti])a$/i,"$1a"],[/sis$/i,"ses"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/(hive)$/i,"$1s"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(x|ch|ss|sh)$/i,"$1es"],[/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"],[/^(m|l)ouse$/i,"$1ice"],[/^(m|l)ice$/i,"$1ice"],[/^(ox)$/i,"$1en"],[/^(oxen)$/i,"$1"],[/(quiz)$/i,"$1zes"]],singular:[[/s$/i,""],[/(ss)$/i,"$1"],[/(n)ews$/i,"$1ews"],[/([ti])a$/i,"$1um"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"],[/(^analy)(sis|ses)$/i,"$1sis"],[/([^f])ves$/i,"$1fe"],[/(hive)s$/i,"$1"],[/(tive)s$/i,"$1"],[/([lr])ves$/i,"$1f"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(s)eries$/i,"$1eries"],[/(m)ovies$/i,"$1ovie"],[/(x|ch|ss|sh)es$/i,"$1"],[/^(m|l)ice$/i,"$1ouse"],[/(bus)(es)?$/i,"$1"],[/(o)es$/i,"$1"],[/(shoe)s$/i,"$1"],[/(cris|test)(is|es)$/i,"$1is"],[/^(a)x[ie]s$/i,"$1xis"],[/(octop|vir)(us|i)$/i,"$1us"],[/(alias|status|bonus)(es)?$/i,"$1"],[/^(ox)en/i,"$1"],[/(vert|ind)ices$/i,"$1ex"],[/(matr)ices$/i,"$1ix"],[/(quiz)zes$/i,"$1"],[/(database)s$/i,"$1"]],irregularPairs:[["person","people"],["man","men"],["child","children"],["sex","sexes"],["move","moves"],["cow","kine"],["zombie","zombies"]],uncountable:["equipment","information","rice","money","species","series","fish","sheep","jeans","police"]};class Vw{constructor(e,t){this.size=t||1e4,this.state=new Map,this.doWork=e}get(e){const t=this.state.get(e);if(t)return this.state.delete(e),this.state.set(e,t),t;const r=this.doWork(e);return this.set(e,r),r}set(e,t){if(this.state.size===this.size)for(const[r]of this.state){this.state.delete(r);break}this.state.set(e,t)}clear(){this.state.clear()}}const Ww=/[ _]/g,Kw=/([a-z\d])([A-Z])/g,Qw=new Vw(e=>e.replace(Kw,"$1_$2").toLowerCase().replace(Ww,"-"));function Gw(e){return Qw.get(e)}const Yw=/([a-z\d])([A-Z]+)/g,Jw=/\-|\s+/g,Zw=new Vw(e=>e.replace(Yw,"$1_$2").replace(Jw,"_").toLowerCase()),Xw=/(^|\/)([a-z\u00C0-\u024F])/g,ek=new Vw(e=>e.replace(Xw,e=>e.toUpperCase())),tk=Gw;new Set(Hw.uncountable);const rk=new Map,nk=new Map;new Map(Hw.singular.reverse()),new Map(Hw.plurals.reverse()),Hw.irregularPairs.forEach(e=>{rk.set(e[0].toLowerCase(),e[1]),rk.set(e[1].toLowerCase(),e[1]),nk.set(e[1].toLowerCase(),e[0]),nk.set(e[0].toLowerCase(),e[0])});const ik={name:"ember-data",initialize(e){e.registerOptionsForType("serializer",{singleton:!1}),e.registerOptionsForType("adapter",{singleton:!1})}},sk=Object.freeze(Object.defineProperty({__proto__:null,default:ik},Symbol.toStringTag,{value:"Module"})),ok="@warp-drive/core",ak=globalThis,lk=ak.__warpDrive_universalCache=ak.__warpDrive_universalCache??{};ak[ok]=ak[ok]??{__version:"5.6.0"};const ck=ak[ok],uk=ck.__warpDrive_ModuleScopedCaches??{};if(ck.__warpDrive_hasOtherCopy)throw new Error("Multiple copies of WarpDrive detected, the application will malfunction.");function hk(e,t){return t}function dk(e){return uk[`(transient) ${e}`]??null}function pk(e,t){return uk[`(transient) ${e}`]=t}function fk(e,t){return t}ck.__warpDrive_hasOtherCopy=!0;const gk=fk(0,Symbol.for("wd:skip-cache")),mk=fk(0,Symbol.for("wd:enable-hydration")),yk=hk(0,Symbol("IS_FUTURE")),bk=hk(0,Symbol("DOC")),_k=fk(0,{debug:{}}),vk=function(){try{return globalThis.sessionStorage}catch{return}}(),wk=vk?.getItem("WarpDriveRuntimeConfig");function kk(){return _k}function Sk(e){Object.assign(_k.debug,e),vk?.setItem("WarpDriveRuntimeConfig",JSON.stringify(_k))}wk&&Object.assign(_k,JSON.parse(wk));const xk="__$co",Ak=hk(0,Symbol("#[]"));function Rk(e,t){return dk("signalHooks").createSignal(e,t)}function Tk(){return dk("signalHooks").willSyncFlushWatchers()}const Ek=fk(0,new WeakMap),Ck=fk(0,new Map);function Ok(e,t){Ck.set(e,t)}function Mk(e){Ck.delete(e)}function Ik(e,t){Ek.set(e,t)}const Pk=hk(0,Symbol("IS_CACHE_HANDLER"));function Dk(e){return e&&!0===e[bk]}function Nk(e,t,r){return Dk(t)?t:r?{[bk]:!0,request:e.request,response:e.getResponse(),error:t}:{[bk]:!0,request:e.request,response:e.getResponse(),content:t}}function jk(e){return new DOMException(e||"The user aborted a request.","AbortError")}function Lk(e,t,r,n){const i=new Uk(t,n,0===r),s=function(e,t){return 0===t&&Boolean(e[Pk])}(e[r],r),o=new Bk(i,s);let a;try{a=e[r].request(o,function(t){return i.nextCalled++,Lk(e,t,r+1,n)}),s&&o._finalize(),a&&s&&(a instanceof Promise||(Ok(i.requestId,{isError:!1,result:Nk(i,a,!1)}),a=Promise.resolve(a)))}catch(u){s&&Ok(i.requestId,{isError:!0,result:Nk(i,u,!0)}),a=Promise.reject(u)}const l=function(e){const t=qk();let r,{promise:n}=t;return n=n.finally(()=>{e.resolveStream(),r&&r.forEach(e=>e())}),n.onFinalize=e=>{r=r||[],r.push(e)},n[yk]=!0,n.getStream=()=>e.getStream(),n.abort=t=>{e.abort(jk(t))},n.id=e.requestId,n.lid=e.god.identifier,t.promise=n,t}(i);return c=a,Boolean(c&&c instanceof Promise&&!0===c[yk])?function(e,t,r){return e.setStream(t.getStream()),t.then(t=>{const n={[bk]:!0,request:e.request,response:t.response,content:t.content};r.resolve(n)},t=>{if(Dk(t)&&e.setStream(e.god.stream),!(t&&t instanceof Error))try{throw new Error(t||"Request Rejected with an Unknown Error")}catch(u){t&&"object"==typeof t&&(Object.assign(u,t),u.message=t.message||"Request Rejected with an Unknown Error"),t=u}t[bk]=!0,t.request=e.request,t.response=e.getResponse(),t.error=t.error||t.message,r.reject(t)}),r.promise}(i,a,l):function(e,t,r){return t.then(t=>{if(e.controller.signal.aborted)return void r.reject(jk(e.controller.signal.reason));Dk(t)&&(e.setStream(e.god.stream),t=t.content);const n={[bk]:!0,request:e.request,response:e.getResponse(),content:t};r.resolve(n)},t=>{if(Dk(t)&&e.setStream(e.god.stream),!(t&&t instanceof Error))try{throw new Error(t||"Request Rejected with an Unknown Error")}catch(u){t&&"object"==typeof t&&(Object.assign(u,t),u.message=t.message||"Request Rejected with an Unknown Error"),t=u}t[bk]=!0,t.request=e.request,t.response=e.getResponse(),t.error=t.error||t.message,r.reject(t)}),r.promise}(i,a,l);var c}function qk(){let e,t;const r=new Promise((r,n)=>{e=r,t=n});return{resolve:e,reject:t,promise:r}}function Fk(e){return e.clone=()=>new Headers(e),e.toJSON=()=>Array.from(e),e}function zk(e){const{headers:t,ok:r,redirected:n,status:i,statusText:s,type:o,url:a}=e;return Fk(t),{headers:t,ok:r,redirected:n,status:i,statusText:s,type:o,url:a}}class Uk{hasSetStream=!1;hasSetResponse=!1;hasSubscribers=!1;stream=qk();response=null;nextCalled=0;constructor(e,t,r=!1){this.isRoot=r,this.requestId=t.id,this.controller=e.controller||t.controller,this.stream.promise.sizeHint=0,e.controller&&(e.controller!==t.controller&&t.controller.signal.addEventListener("abort",()=>{this.controller.abort(t.controller.signal.reason)}),delete e.controller);let n=Object.assign({signal:this.controller.signal},e);e.headers&&Fk(e.headers),this.enhancedRequest=n,this.request=e,this.god=t,this.stream.promise=this.stream.promise.then(e=>(this.god.stream===e&&this.hasSubscribers&&(this.god.stream=null),e))}get hasRequestedStream(){return this.god.hasRequestedStream}getResponse(){return this.hasSetResponse?this.response:1===this.nextCalled?this.god.response:null}getStream(){if(this.isRoot&&(this.god.hasRequestedStream=!0),!this.hasSetResponse){const e=this.god.response?.headers?.get("content-length");this.stream.promise.sizeHint=e?parseInt(e,10):0}return this.hasSubscribers=!0,this.stream.promise}abort(e){this.controller.abort(e)}setStream(e){this.hasSetStream||(this.hasSetStream=!0,e instanceof Promise||(this.god.stream=e),this.stream.resolve(e))}resolveStream(){this.setStream(1===this.nextCalled?this.god.stream:null)}setResponse(e){if(!this.hasSetResponse)if(this.hasSetResponse=!0,e instanceof Response){let t=zk(e);this.response=t,this.god.response=t;const r=e.headers?.get("content-length");this.stream.promise.sizeHint=r?parseInt(r,10):0}else this.response=e,this.god.response=e}}class Bk{#W;constructor(e,t){this.id=e.requestId,this.#W=e,this.request=e.enhancedRequest,this._isCacheHandler=t,this._finalized=!1}setStream(e){this.#W.setStream(e)}setResponse(e){this.#W.setResponse(e)}setIdentifier(e){this.#W.god.identifier=e}get hasRequestedStream(){return this.#W.hasRequestedStream}_finalize(){this._finalized=!0}}function $k(e){{let t;return t=null==e||""===e?null:String(e),t}}function Hk(e){let t=null;return"string"==typeof e?t=e.length>0?e:null:"number"!=typeof e||isNaN(e)||(t=String(e)),t}function Vk(e){return Gw(e)}function Wk(e){return Boolean(e&&"object"==typeof e)}function Kk(e,t){return Boolean(Wk(e)&&t in e&&"string"==typeof e[t]&&e[t].length)}function Qk(e){return Kk(e,"lid")}function Gk(e){return Kk(e,"id")||Boolean(Wk(e)&&"id"in e&&"number"==typeof e.id)}const Yk=hk(0,new Set);function Jk(e){return void 0!==e[xk]}function Zk(e){return Yk.has(e)}const Xk="undefined"!=typeof FastBoot?FastBoot.require("crypto"):globalThis.crypto,eS=new Map;let tS=0;function rS(e,t,r){"record"===r&&!e.id&&Gk(t)&&function(e,t,r){let n=e.get(t.type);n||(n=new Map,e.set(t.type,n)),n.set(r,t.lid)}(eS,e,t.id)}function nS(e,t){const r=Gk(e)?$k(e.id):null;return{type:function(e){return Kk(e,"type")}(e)?Vk(e.type):t?t.type:null,id:r}}function iS(e,t){if("record"===t){if(Qk(e))return e.lid;if(Gk(e)){const t=Vk(e.type),r=eS.get(t)?.get(e.id);return r||`@lid:${t}-${e.id}`}return Xk.randomUUID()}if("document"===t)return e.url?e.method&&"GET"!==e.method.toUpperCase()?null:e.url:null}function sS(){}function oS(e){return e}class aS{constructor(){this._generate=dk("configuredGenerationMethod")||iS,this._update=dk("configuredUpdateMethod")||rS,this._forget=dk("configuredForgetMethod")||sS,this._reset=dk("configuredResetMethod")||sS,this._merge=oS,this._keyInfoForResource=dk("configuredKeyInfoMethod")||nS,this._id=tS++,this._cache={resources:new Map,resourcesByType:Object.create(null),documents:new Map,polymorphicLidBackMap:new Map}}__configureMerge(e){this._merge=e||oS}upgradeIdentifier(e){return this._getRecordIdentifier(e,2)}_getRecordIdentifier(e,t){if(Jk(e))return e;const r=this._generate(e,"record");let n=hS(this._cache,r);if(null!==n)return n;if(0!==t){if(2===t)e.lid=r,e[xk]=this._id,n=lS(e);else{const t=this._keyInfoForResource(e,null);t.lid=r,t[xk]=this._id,n=lS(t)}return dS(this._cache,n),n}}peekRecordIdentifier(e){return this._getRecordIdentifier(e,0)}getOrCreateDocumentIdentifier(e){let t=e.cacheOptions?.key;if(t||(t=this._generate(e,"document")),!t)return null;let r=this._cache.documents.get(t);return void 0===r&&(r={lid:t},Yk.add(r),this._cache.documents.set(t,r)),r}getOrCreateRecordIdentifier(e){return this._getRecordIdentifier(e,1)}createIdentifierForNewRecord(e){const t=this._generate(e,"record"),r=lS({id:e.id||null,type:e.type,lid:t,[xk]:this._id});return dS(this._cache,r),r}updateRecordIdentifier(e,t){let r=this.getOrCreateRecordIdentifier(e);const n=this._keyInfoForResource(t,r);let i=uS(this._cache,n,r,t);const s=Qk(t);if(i||r.type!==n.type&&(s&&delete t.lid,i=this.getOrCreateRecordIdentifier(t)),i){const e=r;r=this._mergeRecordIdentifiers(n,e,i,t),s&&(t.lid=r.lid)}const o=r.id;cS(r,0,t,this._update);const a=r.id;if(o!==a&&null!==a){const e=this._cache.resourcesByType[r.type];e.id.set(a,r),null!==o&&e.id.delete(o)}return r}_mergeRecordIdentifiers(e,t,r,n){const i=this._merge(t,r,n),s=i===t?r:t,o=this._cache.polymorphicLidBackMap.get(s.lid);o&&this._cache.polymorphicLidBackMap.delete(s.lid),this.forgetRecordIdentifier(s),this._cache.resources.set(s.lid,i);const a=this._cache.polymorphicLidBackMap.get(i.lid)??[];return a.push(s.lid),o&&o.forEach(e=>{a.push(e),this._cache.resources.set(e,i)}),this._cache.polymorphicLidBackMap.set(i.lid,a),i}forgetRecordIdentifier(e){const t=this.getOrCreateRecordIdentifier(e),r=this._cache.resourcesByType[t.type];null!==t.id&&r.id.delete(t.id),this._cache.resources.delete(t.lid),r.lid.delete(t.lid);const n=this._cache.polymorphicLidBackMap.get(t.lid);n&&(n.forEach(e=>{this._cache.resources.delete(e)}),this._cache.polymorphicLidBackMap.delete(t.lid)),t[xk]=void 0,this._forget(t,"record")}destroy(){eS.clear(),this._cache.documents.forEach(e=>{Yk.delete(e)}),this._reset()}}function lS(e){return e}function cS(e,t,r,n){n(e,r,"record"),void 0!==r.id&&(e.id=$k(r.id))}function uS(e,t,r,n){const i=t.id,{id:s,type:o,lid:a}=r,l=e.resourcesByType[r.type];if(null!==s&&s!==i&&null!==i){const e=l&&l.id.get(i);return void 0!==e&&e}{const r=t.type;if(null!==s&&s===i&&r===o&&Qk(n)&&n.lid!==a)return hS(e,n.lid)||!1;if(null!==s&&s===i&&r&&r!==o&&Qk(n)&&n.lid===a){const t=e.resourcesByType[r],n=t&&t.id.get(i);return void 0!==n&&n}}return!1}function hS(e,t){return e.resources.get(t)||null}function dS(e,t){e.resources.set(t.lid,t);let r=e.resourcesByType[t.type];r||(r={lid:new Map,id:new Map},e.resourcesByType[t.type]=r),r.lid.set(t.lid,t),t.id&&r.id.set(t.id,t)}const pS=hk(0,Symbol("Signals"));function fS(e){return void 0===e[pS]&&function(e){e[pS]=new Map}(e),e[pS]}function gS(e,t,r,n){const i={key:r,context:t,signal:Rk(t,r),value:n,isStale:!1};return e.set(r,i),i}function mS(e,t,r,n){let i=yS(e,r);return i||(i=gS(e,t,r,n)),i}function yS(e,t){return e?.get(t)}function bS(e){!function(e){dk("signalHooks").consumeSignal(e)}(e.signal)}function _S(e){e&&(e.isStale=!0,function(e){dk("signalHooks").notifySignal(e)}(e.signal))}function vS(e,t,r,n){let i=yS(e,r);return i||(i=gS(e,t,r,n)),bS(i),i}function wS(e,t){return{enumerable:!0,configurable:!1,get(){return vS(fS(this),this,e,t).value},set(r){const n=mS(fS(this),this,e,t);n.value!==r&&(n.value=r,_S(n))}}}function kS(e,t,r){Object.defineProperty(e,t,wS(t,r))}function SS(e,t,r){const n=wS(t,r);n.enumerable=!1,Object.defineProperty(e,t,n)}function xS(e,t,r){const n=r.get;return r.get=function(){const e=fS(this);let r=e.get(t);return r||(r=function(e,t,r){return dk("signalHooks").createMemo(e,t,r)}(this,t,n.bind(this)),e.set(t,r)),r()},r}function AS(e,t,r){const n=r.get,i=r.set;return r.get=function(){const e=fS(this);let r=yS(e,t);return r?r.isStale&&(r.isStale=!1,r.value=n.call(this)):r=gS(e,this,t,n.call(this)),bS(r),r.value},i&&(r.set=function(e){const r=fS(this);let n=yS(r,t);n||(n=gS(r,this,t,void 0),n.isStale=!0),i.call(this,e)}),r}function RS(e,t,r){const n=Object.assign({enumerable:!0,configurable:!1},AS(0,t,r));Object.defineProperty(e,t,n)}function TS(e){return"string"==typeof e?e:e.href}class ES{constructor(e,t,r){this._store=e,this._localCache=r,this.identifier=t;const n=fS(this);t&&e.notifications.subscribe(t,(e,t)=>{"updated"===t&&(_S(yS(n,"data")),_S(yS(n,"links")),_S(yS(n,"meta")),_S(yS(n,"errors")))})}async#K(e,t={url:"",method:"GET"}){const r=this.links?.[e];return r?(t.method=t.method||"GET",Object.assign(t,{url:TS(r)}),(await this._store.request(t)).content):null}fetch(e={url:"",method:"GET"}){return e.cacheOptions=e.cacheOptions||{},e.cacheOptions.key=this.identifier?.lid,this.#K(this.links.related?"related":"self",e)}next(e){return this.#K("next",e)}prev(e){return this.#K("prev",e)}first(e){return this.#K("first",e)}last(e){return this.#K("last",e)}toJSON(){const e={};return e.identifier=this.identifier,void 0!==this.data&&(e.data=this.data),void 0!==this.links&&(e.links=this.links),void 0!==this.errors&&(e.errors=this.errors),void 0!==this.meta&&(e.meta=this.meta),e}}RS(ES.prototype,"errors",{get(){const{identifier:e}=this;if(!e){const{document:e}=this._localCache;return"errors"in e?e.errors:void 0}const t=this._store.cache.peek(e);return"errors"in t?t.errors:void 0}}),RS(ES.prototype,"data",{get(){const{identifier:e,_localCache:t}=this,r=e?this._store.cache.peek(e):t.document,n="data"in r?r.data:void 0;return Array.isArray(n)?this._store.recordArrayManager.getCollection({type:e?e.lid:t.request.url,identifiers:n.slice(),doc:e?void 0:r,identifier:e??null}):n?this._store.peekRecord(n):n}}),RS(ES.prototype,"links",{get(){const{identifier:e}=this;return e?this._store.cache.peek(e).links:this._localCache.document.links}}),RS(ES.prototype,"meta",{get(){const{identifier:e}=this;return e?this._store.cache.peek(e).meta:this._localCache.document.meta}});class CS{constructor(e,t){this.store=e,this.___identifier=t,this.___token=e.notifications.subscribe(t,(e,t,r)=>{("identity"===t||"attributes"===t&&"id"===r)&&this._ref++})}destroy(){this.store.notifications.unsubscribe(this.___token)}get type(){return this.identifier().type}id(){return this._ref,this.___identifier.id}identifier(){return this.___identifier}remoteType(){return"identity"}push(e){return Promise.resolve(e).then(e=>this.store.push(e))}value(){return this.store.peekRecord(this.___identifier)}load(){const e=this.id();if(null!==e)return this.store.findRecord(this.type,e)}reload(){const e=this.id();if(null!==e)return this.store.findRecord(this.type,e,{reload:!0})}}kS(CS.prototype,"_ref");class OS{constructor(e){this._store=e,this._willNotify=!1,this._pendingNotifies=new Map}get identifierCache(){return this._store.identifierCache}_scheduleNotification(e,t){let r=this._pendingNotifies.get(e);r||(r=new Set,this._pendingNotifies.set(e,r)),r.add(t),!0!==this._willNotify&&(this._willNotify=!0,this._store._cbs?this._store._schedule("notify",()=>this._flushNotifications()):this._flushNotifications())}_flushNotifications(){if(!1===this._willNotify)return;const e=this._pendingNotifies;this._pendingNotifies=new Map,this._willNotify=!1,e.forEach((e,t)=>{e.forEach(e=>{this._store.notifications.notify(t,"relationships",e)})})}notifyChange(e,t,r){"relationships"===t&&r?this._scheduleNotification(e,r):this._store.notifications.notify(e,t,r)}get schema(){return this._store.schema}setRecordId(e,t){this._store._instanceCache.setRecordId(e,t)}hasRecord(e){return Boolean(this._store._instanceCache.peek(e))}disconnectRecord(e){this._store._instanceCache.disconnect(e),this._pendingNotifies.delete(e)}}OS.prototype.getSchemaDefinitionService=function(){return this._store.schema};const MS=hk(0,new Map);function IS(e,t){MS.set(e,t)}function PS(e){MS.delete(e)}function DS(e){return MS.has(e)?MS.get(e):null}const NS=hk(0,new Map);function jS(e){return NS.get(e)}function LS(e){return NS.get(e)}function qS(e,t){NS.set(e,t)}const FS=hk(0,new Map);function zS(e){return FS.get(e)}class US{constructor(e){this.store=e,this.__instances={record:new Map,reference:new WeakMap,document:new Map},this._storeWrapper=new OS(this.store),e.identifierCache.__configureMerge((e,t,r)=>{let n=e;e.id!==t.id?n="id"in r&&e.id===r.id?e:t:e.type!==t.type&&(n="type"in r&&e.type===r.type?e:t);const i=e===n?t:e,s=this.__instances.record.has(n),o=this.__instances.record.has(i);if(s&&o&&"id"in r)throw new Error(`Failed to update the 'id' for the RecordIdentifier '${e.type}:${String(e.id)} (${e.lid})' to '${String(r.id)}', because that id is already in use by '${t.type}:${String(t.id)} (${t.lid})'`);return this.store.cache.patch({op:"mergeIdentifiers",record:i,value:n}),this.unloadRecord(i),n})}peek(e){return this.__instances.record.get(e)}getDocument(e){let t=this.__instances.document.get(e);return t||(t=new ES(this.store,e,null),this.__instances.document.set(e,t)),t}getRecord(e,t){let r=this.__instances.record.get(e);if(!r){const n=this.store.cache;IS(e,n),r=this.store.instantiateRecord(e,t||{}),qS(r,e),IS(r,n),FS.set(r,this.store),this.__instances.record.set(e,r)}return r}getReference(e){const t=this.__instances.reference;let r=t.get(e);return r||(r=new CS(this.store,e),t.set(e,r)),r}recordIsLoaded(e,t=!1){const r=this.cache;if(!r)return!1;const n=r.isNew(e),i=r.isEmpty(e);return n?!r.isDeleted(e):!(t&&r.isDeletionCommitted(e)||i)}disconnect(e){this.__instances.record.get(e),this.store._graph?.remove(e),this.store.identifierCache.forgetRecordIdentifier(e),PS(e),this.store._requestCache._clearEntries(e)}unloadRecord(e){this.store._join(()=>{const t=this.__instances.record.get(e),r=this.cache;t&&(this.store.teardownRecord(t),this.__instances.record.delete(e),FS.delete(t),NS.delete(t),PS(t)),r?(r.unloadRecord(e),PS(e)):this.disconnect(e),this.store._requestCache._clearEntries(e)})}clear(e){const t=this.store.identifierCache._cache;if(void 0===e)t.resources.forEach(e=>{this.unloadRecord(e)});else{const r=t.resourcesByType,n=r[e]?.lid;n&&n.forEach(e=>{this.unloadRecord(e)})}}setRecordId(e,t){const{type:r,lid:n}=e;null!==e.id&&null===t||(this.store.identifierCache.peekRecordIdentifier({type:r,id:t}),null===e.id&&this.store.identifierCache.updateRecordIdentifier(e,{type:r,id:t}),this.store.notifications.notify(e,"identity"))}}function BS(e,t){return"string"==typeof e||"number"==typeof e?{type:t,id:Hk(e)}:LS(e)}const $S=hk(0,new WeakMap);class HS{constructor(e,t){this.__store=e,this.modelName=t}get fields(){const e=new Map;return this.__store.schema.fields({type:this.modelName}).forEach((t,r)=>{"attribute"!==t.kind&&"belongsTo"!==t.kind&&"hasMany"!==t.kind||e.set(r,t.kind)}),e}get attributes(){const e=new Map;return this.__store.schema.fields({type:this.modelName}).forEach((t,r)=>{"attribute"===t.kind&&e.set(r,t)}),e}get relationshipsByName(){const e=new Map;return this.__store.schema.fields({type:this.modelName}).forEach((t,r)=>{"belongsTo"!==t.kind&&"hasMany"!==t.kind||e.set(r,t)}),e}eachAttribute(e,t){this.__store.schema.fields({type:this.modelName}).forEach((r,n)=>{"attribute"===r.kind&&e.call(t,n,r)})}eachRelationship(e,t){this.__store.schema.fields({type:this.modelName}).forEach((r,n)=>{"belongsTo"!==r.kind&&"hasMany"!==r.kind||e.call(t,n,r)})}eachTransformedAttribute(e,t){this.__store.schema.fields({type:this.modelName}).forEach((r,n)=>{if("attribute"===r.kind){const i=r.type;i&&e.call(t,n,i)}})}}function VS(e){return"added"===e||"state"===e||"updated"===e||"removed"===e||"invalidated"===e}class WS{constructor(e){this.store=e,this.isDestroyed=!1,this._buffered=new Map,this._hasFlush=!1,this._cache=new Map}subscribe(e,t){let r=this._cache.get(e);return t.for=e,r||(r=[],this._cache.set(e,r)),r.push(t),t}unsubscribe(e){this.isDestroyed||function(e,t){const r=e.for;if(r){const n=t.get(r);if(!n)return;const i=n.indexOf(e);if(-1===i)return;n.splice(i,1)}}(e,this._cache)}notify(e,t,r){if(!Jk(e)&&!Zk(e))return!1;const n=Boolean(this._cache.get(e)?.length);if(VS(t)||n){let n=this._buffered.get(e);n||(n=[],this._buffered.set(e,n)),n.push([t,r]),this._scheduleNotify()}return n}_onNextFlush(e){this._onFlushCB=e}_scheduleNotify(){const e=this.store._enableAsyncFlush;return!(this._hasFlush&&!1!==e&&!Tk()||(e&&!Tk()?(this._hasFlush=!0,1):(this._flush(),0)))}_flush(){const e=this._buffered;e.size&&(this._buffered=new Map,e.forEach((e,t)=>{e.forEach(e=>{this._flushNotification(t,e[0],e[1])})})),this._hasFlush=!1,this._onFlushCB?.(),this._onFlushCB=void 0}_flushNotification(e,t,r){if(VS(t)){const r=this._cache.get(Zk(e)?"document":"resource");r&&r.forEach(r=>{r(e,t)})}const n=this._cache.get(e);return!(!n||!n.length||(n.forEach(n=>{n(e,t,r)}),0))}destroy(){this.isDestroyed=!0,this._cache.clear()}}function KS(e,t){return Boolean(e&&"number"!=typeof t&&e.has(t))}const QS=Proxy,GS=new Set([Symbol.iterator,"concat","entries","every","fill","filter","find","findIndex","flat","flatMap","forEach","includes","indexOf","join","keys","lastIndexOf","map","reduce","reduceRight","slice","some","values"]),YS=new Set(["push","pop","unshift","shift","splice","sort"]),JS=new Set(["[]","length","links","meta"]);function ZS(e){return GS.has(e)}function XS(e,t){return t in e}const ex=hk(0,Symbol("#source")),tx=hk(0,Symbol("#update")),rx=hk(0,Symbol.for("Collection"));function nx(e){if("symbol"==typeof e)return null;const t=Number(e);return isNaN(t)?null:t%1==0?t:null}const ix=["_updatingPromise","isDestroying","isDestroyed","query","isUpdating","isLoaded","meta","links","isAsync","isPolymorphic","identifier","cache","_inverseIsAsync","key","DEPRECATED_CLASS_NAME"];class sx{isLoaded=!0;isDestroying=!1;isDestroyed=!1;_updatingPromise=null;identifier;destroy(e){this.isDestroying=!e,this[ex].length=0,_S(this[Ak]),this.isDestroyed=!e}constructor(e){const t=this;this.modelName=e.type,this.store=e.store,this._manager=e.manager,this.identifier=e.identifier||null,this[ex]=e.identifiers,this[rx]=!0;const r=fS(this),n=e.store,i=new Map,s={links:e.links||null,meta:e.meta||null};let o=!1,a=null;const l=e.field&&this.store.schema.CAUTION_MEGA_DANGER_ZONE_arrayExtensions?this.store.schema.CAUTION_MEGA_DANGER_ZONE_arrayExtensions(e.field):null,c=new QS(this[ex],{get(c,u,h){const d=nx(u);if(a.isStale&&(null!==d||JS.has(u)||ZS(u))&&(e.manager._syncArray(h),a.isStale=!1),null!==d){const e=c[d];return o||bS(a),e&&n._instanceCache.getRecord(e)}if(u===Ak)return a;if("length"===u)return bS(a),c.length;if("meta"===u)return bS(a),s.meta;if("links"===u)return bS(a),s.links;if("[]"===u)return bS(a),h;if(ZS(u)){let e=i.get(u);return void 0===e&&(e="forEach"===u?function(){bS(a),o=!0;const e=function(e,t,r,n,i){void 0===i&&(i=null);const s=(t=t.slice()).length;for(let o=0;o<s;o++)n.call(i,r._instanceCache.getRecord(t[o]),o,e);return e}(h,c,n,arguments[0],arguments[1]);return o=!1,e}:function(){bS(a),o=!0;const e=Reflect.apply(c[u],h,arguments);return o=!1,e},i.set(u,e)),e}if(function(e){return YS.has(e)}(u)){let t=i.get(u);return void 0===t&&(t=function(){if(!e.allowMutation)return;const t=Array.prototype.slice.call(arguments);o=!0;const r=e[tx](c,h,u,t,a);return o=!1,r},i.set(u,t)),t}if(XS(t,u)){if(u===ex)return t[u];let e=i.get(u);if(e)return e;const r=t[u];return"function"==typeof r?(e=function(){return bS(a),Reflect.apply(r,h,arguments)},i.set(u,e),e):(bS(a),r)}return KS(l,u)?function(e,t,r,n,i,s,o){const a=t.get(n);switch(a.kind){case"method":{let t=s.get(n);return void 0===t&&(t=function(){bS(i),o(!0);const t=Reflect.apply(a.fn,e,arguments);return o(!1),t},s.set(n,t)),t}case"mutable-field":case"readonly-field":return a.get.call(e);case"readonly-value":return a.value;case"mutable-value":return mS(r,e,n,a.value).value;default:return}}(h,l,r,u,a,i,e=>{o=e}):c[u]},set(n,i,c,u){if(!e.allowMutation&&!ix.includes(i))return!1;if("length"===i){if(!o&&0===c)return o=!0,e[tx](n,u,"length 0",[],a),o=!1,!0;if(o)return Reflect.set(n,i,c)}if("links"===i)return s.links=c||null,!0;if("meta"===i)return s.meta=c||null,!0;if(KS(l,i))return function(e,t,r,n,i){const s=t.get(n);switch(s.kind){case"method":case"readonly-value":case"readonly-field":default:return!1;case"mutable-value":{const t=mS(r,e,n,s.value);return t.value!==i&&(t.value=i),!0}case"writeonly-field":case"mutable-field":return s.set.call(e,i),!0}}(u,l,r,i,c);const h=nx(i);if(null===h||h>n.length){if(null!==h&&o){const e=LS(c);return n[h]=e,!0}return!!XS(t,i)&&(t[i]=c,!0)}const d=n[h],p=(f=c)?LS(f):null;var f;return o?n[h]=p:e[tx](n,u,"replace cell",[h,d,p],a),!0},deleteProperty:(e,t)=>!!o&&Reflect.deleteProperty(e,t),getPrototypeOf:()=>Array.prototype});return a=vS(r,c,Ak,void 0),c}update(){if(this.isUpdating)return this._updatingPromise;this.isUpdating=!0;const e=this._update();return e.finally(()=>{this._updatingPromise=null,this.isDestroying||this.isDestroyed||(this.isUpdating=!1)}),this._updatingPromise=e,e}_update(){return this.store.findAll(this.modelName,{reload:!0})}save(){return Promise.all(this.map(e=>this.store.saveRecord(e))).then(()=>this)}}Object.defineProperty(sx.prototype,"[]",{enumerable:!0,configurable:!1,get:function(){return this}}),kS(sx.prototype,"isUpdating",!1);class ox extends sx{query=null;constructor(e){super(e),this.query=e.query||null,this.isLoaded=e.isLoaded||!1}_update(){const{store:e,query:t}=this;return e.query(this.modelName,t,{_recordArray:this})}destroy(e){super.destroy(e),this._manager._managed.delete(this),this._manager._pending.delete(this)}}ox.prototype.query=null;const ax=hk(0,{}),lx=1200;function cx(e,t){let r=0;const n=t.length;for(;n-r>lx;)e.push.apply(e,t.slice(r,r+lx)),r+=lx;e.push.apply(e,t.slice(r))}class ux{constructor(e){this.store=e.store,this.isDestroying=!1,this.isDestroyed=!1,this._live=new Map,this._managed=new Set,this._pending=new Map,this._staged=new Map,this._keyedArrays=new Map,this._identifiers=new Map,this._set=new Map,this._visibilitySet=new Map,this._subscription=this.store.notifications.subscribe("document",(e,t)=>{if("updated"===t&&this._keyedArrays.has(e.lid)){const t=this._keyedArrays.get(e.lid);this.dirtyArray(t,0,!0)}}),this._subscription=this.store.notifications.subscribe("resource",(e,t)=>{"added"===t?(this._visibilitySet.set(e,!0),this.identifierAdded(e)):"removed"===t?(this._visibilitySet.set(e,!1),this.identifierRemoved(e)):"state"===t&&this.identifierChanged(e)})}_syncArray(e){const t=this._pending.get(e),r=px(e);if((r||t)&&!this.isDestroying&&!this.isDestroyed&&(t&&(function(e,t,r){const n=e[ex],i=[],s=[];t.forEach((e,t)=>{if("add"===e){if(r.has(t))return;i.push(t),r.add(t)}else r.has(t)&&(s.push(t),r.delete(t))}),s.length&&(s.length===n.length?n.length=0:s.forEach(e=>{const t=n.indexOf(e);-1!==t&&(n.splice(t,1),r.delete(e))})),i.length&&cx(n,i)}(e,t,this._set.get(e)),this._pending.delete(e)),r)&&"cache-sync"===e[Ak].value){const t=this.store.cache.peek(e.identifier),r="data"in t&&Array.isArray(t.data)?t.data:[];this.populateManagedArray(e,r,null)}}mutate(e){this.store.cache.mutate(e)}liveArrayFor(e){let t=this._live.get(e);const r=[],n=this._staged.get(e);return n&&(n.forEach((e,t)=>{"add"===e&&r.push(t)}),this._staged.delete(e)),t||(t=new sx({type:e,identifiers:r,store:this.store,allowMutation:!1,manager:this}),this._live.set(e,t),this._set.set(t,new Set(r))),t}getCollection(e){if(e.identifier&&this._keyedArrays.has(e.identifier.lid))return this._keyedArrays.get(e.identifier.lid);const t={type:e.type,identifier:e.identifier||null,links:e.doc?.links||null,meta:e.doc?.meta||null,query:e.query||null,identifiers:e.identifiers||[],isLoaded:!!e.identifiers?.length,allowMutation:!1,store:this.store,manager:this},r=new ox(t);return this._managed.add(r),this._set.set(r,new Set(t.identifiers||[])),e.identifier&&this._keyedArrays.set(e.identifier.lid,r),e.identifiers&&hx(this._identifiers,r,e.identifiers),r}dirtyArray(e,t,r){if(e===ax)return;const n=e[Ak];(!n.isStale||t>0)&&(_S(n),n.value=r?"cache-sync":"patch")}_getPendingFor(e,t,r){if(this.isDestroying||this.isDestroyed)return;const n=this._live.get(e.type),i=this._pending,s=new Map;if(t){const t=this._identifiers.get(e);t&&t.forEach(e=>{let t=i.get(e);t||(t=new Map,i.set(e,t)),s.set(e,t)})}if(n&&0===n[ex].length&&r){const e=i.get(n);if(!e||0===e.size)return s}if(n){let e=i.get(n);e||(e=new Map,i.set(n,e)),s.set(n,e)}else{let t=this._staged.get(e.type);t||(t=new Map,this._staged.set(e.type,t)),s.set(ax,t)}return s}populateManagedArray(e,t,r){this._pending.delete(e);const n=e[ex],i=n.slice();n.length=0,cx(n,t),this._set.set(e,new Set(t)),px(e)||(_S(e[Ak]),e.meta=r?.meta||null,e.links=r?.links||null),e.isLoaded=!0,function(e,t,r){for(let n=0;n<r.length;n++)dx(e,t,r[n])}(this._identifiers,e,i),hx(this._identifiers,e,t)}identifierAdded(e){const t=this._getPendingFor(e,!1);t&&t.forEach((t,r)=>{"del"===t.get(e)?t.delete(e):(t.set(e,"add"),this.dirtyArray(r,t.size,!1))})}identifierRemoved(e){const t=this._getPendingFor(e,!0,!0);t&&t.forEach((t,r)=>{"add"===t.get(e)?t.delete(e):(t.set(e,"del"),this.dirtyArray(r,t.size,!1))})}identifierChanged(e){const t=this.store._instanceCache.recordIsLoaded(e,!0);this._visibilitySet.get(e)!==t&&(t?this.identifierAdded(e):this.identifierRemoved(e))}clear(e=!0){this._live.forEach(t=>t.destroy(e)),this._managed.forEach(t=>t.destroy(e)),this._managed.clear(),this._identifiers.clear(),this._pending.clear(),this._set.forEach(e=>e.clear()),this._visibilitySet.clear()}destroy(){this.isDestroying=!0,this.clear(!1),this._live.clear(),this.isDestroyed=!0,this.store.notifications.unsubscribe(this._subscription)}}function hx(e,t,r){for(let n=0;n<r.length;n++){const i=r[n];let s=e.get(i);s||(s=new Set,e.set(i,s)),s.add(t)}}function dx(e,t,r){const n=e.get(r);n&&n.delete(t)}function px(e){return null!==e.identifier}const fx=hk(0,Symbol("touching")),gx=hk(0,Symbol("promise")),mx=[];class yx{_pending=new Map;_done=new Map;_subscriptions=new Map;_toFlush=[];_store;constructor(e){this._store=e}_clearEntries(e){this._done.delete(e)}_enqueue(e,t){const r=t.data[0];if("recordIdentifier"in r){const n=r.recordIdentifier,i="saveRecord"===r.op?"mutation":"query";this._pending.has(n)||this._pending.set(n,[]);const s={state:"pending",request:t,type:i};return s[fx]=[r.recordIdentifier],s[gx]=e,this._pending.get(n).push(s),this._triggerSubscriptions(s),e.then(e=>{this._dequeue(n,s);const r={state:"fulfilled",request:t,type:i,response:{data:e}};return r[fx]=s[fx],this._addDone(r),this._triggerSubscriptions(r),e},e=>{this._dequeue(n,s);const r={state:"rejected",request:t,type:i,response:{data:e}};throw r[fx]=s[fx],this._addDone(r),this._triggerSubscriptions(r),e})}}_triggerSubscriptions(e){"pending"!==e.state?(this._toFlush.push(e),1===this._toFlush.length&&this._store.notifications._onNextFlush(()=>{this._flush()})):this._flushRequest(e)}_flush(){this._toFlush.forEach(e=>{this._flushRequest(e)}),this._toFlush=[]}_flushRequest(e){e[fx].forEach(t=>{const r=this._subscriptions.get(t);r&&r.forEach(t=>t(e))})}_dequeue(e,t){const r=this._pending.get(e);this._pending.set(e,r.filter(e=>e!==t))}_addDone(e){e[fx].forEach(t=>{const r=e.request.data[0].op;let n=this._done.get(t);n&&(n=n.filter(e=>{let t;return t=Array.isArray(e.request.data)?e.request.data[0]:e.request.data,t.op!==r})),n=n||[],n.push(e),this._done.set(t,n)})}subscribeForRecord(e,t){let r=this._subscriptions.get(e);r||(r=[],this._subscriptions.set(e,r)),r.push(t)}getPendingRequestsForRecord(e){return this._pending.get(e)||mx}getLastRequestForRecord(e){const t=this._done.get(e);return t?t[t.length-1]:null}}function bx(e){return Boolean(e&&"string"==typeof e)}function _x(e,t,r){if("object"==typeof e&&null!==e){const t=e;return Jk(t)||"id"in t&&(t.id=$k(t.id)),t}{const n=$k(t);if(!bx(n)){if(bx(r))return{lid:r};throw new Error("Expected either id or lid to be a valid string")}return bx(r)?{type:e,id:n,lid:r}:{type:e,id:n}}}globalThis.setWarpDriveLogging=Sk,globalThis.getWarpDriveRuntimeConfig=kk;const vx=class{constructor(e){}},wx=vx.default?vx.default:vx;let kx=class extends wx{get schema(){return this._schema||(this._schema=this.createSchemaService()),this._schema}get isDestroying(){return this._isDestroying}set isDestroying(e){this._isDestroying=e}get isDestroyed(){return this._isDestroyed}set isDestroyed(e){this._isDestroyed=e}constructor(e){super(e),Object.assign(this,e),this.identifierCache=new aS,this.notifications=new WS(this),this.recordArrayManager=new ux({store:this}),this._requestCache=new yx(this),this._instanceCache=new US(this),this.isDestroying=!1,this.isDestroyed=!1}_run(e){const t=this._cbs={};e(),t.coalesce&&t.coalesce(),t.sync&&t.sync(),t.notify&&t.notify(),this._cbs=null}_join(e){this._cbs?e():this._run(e)}_schedule(e,t){this._cbs[e]=t}getRequestStateService(){return this._requestCache}_getAllPending(){}request(e){const t={store:this,[mk]:e[mk]??!0};if(e.records){const r=this.identifierCache;t.records=e.records.map(e=>r.getOrCreateRecordIdentifier(e))}const r=Object.assign({},e,t),n=this.requestManager.request(r);return n.onFinalize(()=>{("findBelongsTo"!==e.op||e.url)&&this.notifications._flush()}),n}modelFor(e){return function(e,t){let r=$S.get(e);r||(r=Object.create(null),$S.set(e,r));let n=r[t];return void 0===n&&(n=r[t]=new HS(e,t)),n}(this,e)}createRecord(e,t){let r;return this._join(()=>{const n=Vk(e),i={...t};let s=null;if(null===i.id||void 0===i.id){const e=this.adapterFor?.(n,!0);s=e&&e.generateIdForRecord?i.id=$k(e.generateIdForRecord(this,n,i)):i.id=null}else s=i.id=$k(i.id);const o={type:n,id:s};o.id&&this.identifierCache.peekRecordIdentifier(o);const a=this.identifierCache.createIdentifierForNewRecord(o),l=this.cache,c=function(e,t,r){if(void 0!==r){const{type:n}=t,i=e.schema.fields({type:n});if(i.size){const e=Object.keys(r);for(let t=0;t<e.length;t++){const n=e[t],s=i.get(n);s&&("hasMany"===s.kind?r[n]=xx(r[n]):"belongsTo"===s.kind&&(r[n]=Ax(r[n])))}}}return r}(this,a,i),u=l.clientDidCreate(a,c);r=this._instanceCache.getRecord(a,u)}),r}deleteRecord(e){const t=jS(e),r=this.cache;this._join(()=>{r.setIsDeleted(t,!0),r.isNew(t)&&this._instanceCache.unloadRecord(t)})}unloadRecord(e){const t=jS(e);t&&this._instanceCache.unloadRecord(t)}findRecord(e,t,r){Sx(e)?r=t:e=_x(Vk(e),Hk(t));const n=this.identifierCache.getOrCreateRecordIdentifier(e);return(r=r||{}).preload&&(this._instanceCache.recordIsLoaded(n)||(r.reload=!0),this._join(()=>{!function(e,t,r){const n={},i=e.schema.fields(t);Object.keys(r).forEach(e=>{const t=r[e],s=i.get(e);!s||"hasMany"!==s.kind&&"belongsTo"!==s.kind?(n.attributes||(n.attributes={}),n.attributes[e]=t):(n.relationships||(n.relationships={}),n.relationships[e]=function(e,t){const r=e.type;return"hasMany"===e.kind?{data:t.map(e=>BS(e,r))}:{data:t?BS(t,r):null}}(s,t))});const s=e.cache,o=Boolean(e._instanceCache.peek(t));s.upsert(t,n,o)}(this,n,r.preload)})),this.request({op:"findRecord",data:{record:n,options:r},cacheOptions:{[gk]:!0}}).then(e=>e.content)}getReference(e,t){let r;r=1===arguments.length&&Sx(e)?e:_x(Vk(e),Hk(t));const n=this.identifierCache.getOrCreateRecordIdentifier(r);return this._instanceCache.getReference(n)}peekRecord(e,t){if(1===arguments.length&&Sx(e)){const t=this.identifierCache.peekRecordIdentifier(e);return t&&this._instanceCache.recordIsLoaded(t)?this._instanceCache.getRecord(t):null}const r={type:Vk(e),id:Hk(t)},n=this.identifierCache.peekRecordIdentifier(r);return n&&this._instanceCache.recordIsLoaded(n)?this._instanceCache.getRecord(n):null}query(e,t,r={}){return this.request({op:"query",data:{type:Vk(e),query:t,options:r},cacheOptions:{[gk]:!0}}).then(e=>e.content)}queryRecord(e,t,r){return this.request({op:"queryRecord",data:{type:Vk(e),query:t,options:r||{}},cacheOptions:{[gk]:!0}}).then(e=>e.content)}findAll(e,t={}){return this.request({op:"findAll",data:{type:Vk(e),options:t||{}},cacheOptions:{[gk]:!0}}).then(e=>e.content)}peekAll(e){return this.recordArrayManager.liveArrayFor(Vk(e))}unloadAll(e){this._join(()=>{void 0===e?(this._graph?.identifiers.clear(),this.recordArrayManager.clear(),this._instanceCache.clear()):this._instanceCache.clear(Vk(e))})}push(e){const t=this._push(e,!1);return Array.isArray(t)?t.map(e=>this._instanceCache.getRecord(e)):null===t?null:this._instanceCache.getRecord(t)}_push(e,t){let r;return t&&(this._enableAsyncFlush=!0),this._join(()=>{r=this.cache.put({content:e})}),this._enableAsyncFlush=null,"data"in r?r.data:null}saveRecord(e,t={}){const r=LS(e),n=this.cache;if(!r)return Promise.reject(new Error("Record Is Disconnected"));if(function(e,t){const r=e.cache;return!r||function(e,t){return t.isDeletionCommitted(e)||t.isNew(e)&&t.isDeleted(e)}(t,r)}(this._instanceCache,r))return Promise.resolve(e);t||(t={});let i="updateRecord";n.isNew(r)?i="createRecord":n.isDeleted(r)&&(i="deleteRecord");const s={op:i,data:{options:t,record:r},records:[r],cacheOptions:{[gk]:!0}};return this.request(s).then(e=>e.content)}get cache(){let{cache:e}=this._instanceCache;return e||(e=this._instanceCache.cache=this.createCache(this._instanceCache._storeWrapper)),e}destroy(){this.isDestroyed||(this.isDestroying=!0,this._graph?.destroy(),this._graph=void 0,this.notifications.destroy(),this.recordArrayManager.destroy(),this.identifierCache.destroy(),this.unloadAll(),this.isDestroyed=!0)}static create(e){return new this(e)}};function Sx(e){return Boolean(null!==e&&"object"==typeof e&&("id"in e&&"type"in e&&e.id&&e.type||e.lid))}function xx(e){return e.map(e=>Ax(e))}function Ax(e){return e?LS(e):null}function Rx(e,t,r,n,i){const s=t;switch(r){case"length 0":return Reflect.set(e,"length",0),Px(s,[],i),!0;case"replace cell":{const[t,r,o]=n;return e[t]=o,function(e,t,r){Dx(e,{op:"replaceRelatedRecord",record:e.identifier,field:e.key,...t},r)}(s,{value:o,prior:r,index:t},i),!0}case"push":{const o=Ex(n);Ox(0,e,e=>e.push(...o));{const o=new Set(e),a=new Set;n.forEach(e=>{const t=LS(e);o.has(t)||(o.add(t),a.add(e))});const l=Array.from(a),c=Reflect.apply(e[r],t,l);return l.length&&Mx(s,{value:Ex(l)},i),c}}case"pop":{const o=Reflect.apply(e[r],t,n);return o&&Ix(s,{value:LS(o)},i),o}case"unshift":{const o=Ex(n);Ox(0,e,e=>e.unshift(...o));{const o=new Set(e),a=new Set;n.forEach(e=>{const t=LS(e);o.has(t)||(o.add(t),a.add(e))});const l=Array.from(a),c=Reflect.apply(e[r],t,l);return l.length&&Mx(s,{value:Ex(l),index:0},i),c}}case"shift":{const o=Reflect.apply(e[r],t,n);return o&&Ix(s,{value:LS(o),index:0},i),o}case"sort":{const o=Reflect.apply(e[r],t,n);return function(e,t,r){Dx(e,{op:"sortRelatedRecords",record:e.identifier,field:e.key,value:t},r)}(s,o.map(LS),i),o}case"splice":{const[o,a,...l]=n;if(0===o&&a===s[ex].length){const n=Ex(l);Ox(0,e,e=>e.splice(o,a,...n));{const n=new Set(l),c=Array.from(n),u=[o,a].concat(c),h=Reflect.apply(e[r],t,u);return Px(s,Ex(c),i),h}}const c=Ex(l);Ox(0,e,e=>e.splice(o,a,...c));{const n=e.slice();n.splice(o,a);const c=new Set(n),u=[];l.forEach(e=>{const t=LS(e);c.has(t)||(c.add(t),u.push(e))});const h=[o,a,...u],d=Reflect.apply(e[r],t,h);return a>0&&Ix(s,{value:d.map(LS),index:o},i),u.length>0&&Mx(s,{value:Ex(u),index:o},i),d}}}}kx.prototype.getSchemaDefinitionService=function(){return this._schema},kx.prototype.registerSchemaDefinitionService=function(e){this._schema=e},kx.prototype.registerSchema=function(e){this._schema=e};class Tx extends sx{constructor(e){e[tx]=Rx,super(e),this.isLoaded=e.isLoaded||!1,this.isAsync=e.isAsync||!1,this.isPolymorphic=e.isPolymorphic||!1,this.identifier=e.identifier,this.key=e.key}notify(){_S(this[Ak])}reload(e){return this._manager.reloadHasMany(this.key,e)}createRecord(e){const{store:t}=this,r=t.createRecord(this.modelName,e);return this.push(r),r}destroy(){super.destroy(!1)}}function Ex(e){return e.map(Cx)}function Cx(e){return LS(e)}function Ox(e,t,r){const n=t.slice();r(n),n.length!==new Set(n).size&&n.filter((e,t)=>n.indexOf(e)!==t)}function Mx(e,t,r){Dx(e,{op:"add",record:e.identifier,field:e.key,...t},r)}function Ix(e,t,r){Dx(e,{op:"remove",record:e.identifier,field:e.key,...t},r)}function Px(e,t,r){Dx(e,{op:"replaceRelatedRecords",record:e.identifier,field:e.key,value:t},r)}function Dx(e,t,r){e._manager.mutate(t),_S(r)}Tx.prototype.isAsync=!1,Tx.prototype.isPolymorphic=!1,Tx.prototype.identifier=null,Tx.prototype.cache=null,Tx.prototype._inverseIsAsync=!1,Tx.prototype.key="",Tx.prototype.DEPRECATED_CLASS_NAME="ManyArray";const Nx={};function jx(e,t,r){let n={...Object.getOwnPropertyDescriptor(e,t)};for(let i of r)n=i(e,t,n)||n;void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(e):void 0,n.initializer=void 0),Object.defineProperty(e,t,n)}kS(Nx,"reason",null),kS(Nx,"value",null),kS(Nx,"result",null),kS(Nx,"error",null),kS(Nx,"status","pending"),kS(Nx,"isPending",!0),kS(Nx,"isLoading",!0),kS(Nx,"isSuccess",!1),kS(Nx,"isError",!1);const Lx=Symbol.dispose||Symbol.for("dispose");class qx{constructor(e,t){this._args=t,this.store=e,this._subscribedTo=null,this._subscription=null,this._intervalStart=null,this._invalidated=!1,this._nextInterval=null,this.isDestroyed=!1,this[Lx]=zx,this._installListeners(),this._beginPolling()}async _beginPolling(){try{this.isIdle||await this.request}catch{}finally{this.isDestroyed||this._scheduleInterval()}}get isIdle(){const{request:e,query:t}=this._args;return Boolean(!e&&!t)}static{jx(this.prototype,"isIdle",[xS])}get autorefreshTypes(){const{autorefresh:e}=this._args;let t;return t=!0===e?["online","invalid"]:"string"==typeof e?e.split(","):[],new Set(t)}static{jx(this.prototype,"autorefreshTypes",[xS])}async _scheduleInterval(){const{autorefreshThreshold:e}=this._args;if("undefined"!=typeof window&&"number"==typeof e&&e>0&&this.autorefreshTypes.has("interval")&&null===this._intervalStart){if(this._latestRequest){try{await this._latestRequest}catch{}if(this.isDestroyed)return}this._intervalStart=Date.now(),this._nextInterval=setTimeout(()=>{this._maybeUpdate()},e)}}_clearInterval(){this._nextInterval&&(clearTimeout(this._nextInterval),this._intervalStart=null)}_updateSubscriptions(){if(this.isIdle)return;const e=this._request.lid;if(this._subscribedTo===e)return;this._removeSubscriptions();const{store:t}=this;e&&Fx(t)&&(this._subscribedTo=e,this._subscription=t.notifications.subscribe(e,(r,n)=>{if(!this._isUpdating)switch(n){case"invalidated":this.autorefreshTypes.has("invalid")&&(this._invalidated=!0,this._maybeUpdate());break;case"state":{const r=t.requestManager._deduped.get(e),n=r?.priority,i=this.reqState;n?n.blocking&&!i.isLoading?(this.isRefreshing=!1,this._maybeUpdate("policy",!0)):this.isRefreshing=!0:this.isRefreshing=!1}}}))}_removeSubscriptions(){this._subscription&&Fx(this.store)&&(this.store.notifications.unsubscribe(this._subscription),this._subscribedTo=null,this._subscription=null)}_installListeners(){"undefined"!=typeof window&&(this.isOnline=window.navigator.onLine,this._unavailableStart=this.isOnline?null:Date.now(),this.isHidden="hidden"===document.visibilityState,this._onlineChanged=e=>{this.isOnline="online"===e.type,"offline"===e.type&&null===this._unavailableStart&&(this._unavailableStart=Date.now()),this._maybeUpdate()},this._backgroundChanged=()=>{const e="hidden"===document.visibilityState;this.isHidden=e,e&&null===this._unavailableStart&&(this._unavailableStart=Date.now()),this._maybeUpdate()},window.addEventListener("online",this._onlineChanged,{passive:!0,capture:!0}),window.addEventListener("offline",this._onlineChanged,{passive:!0,capture:!0}),document.addEventListener("visibilitychange",this._backgroundChanged,{passive:!0,capture:!0}))}_maybeUpdate(e,t){if(this.isIdle)return;if(!Boolean(this.isOnline&&!this.isHidden&&(e||this.autorefreshTypes.size))){if(!t&&e&&"_invalidated"!==e)throw new Error("Reload not available: the network is not online or the tab is hidden");return}const{autorefreshTypes:r}=this;let n=this._invalidated||Boolean(e);if(!n&&r.has("online")){const{_unavailableStart:e}=this,{autorefreshThreshold:t}=this._args,r="number"==typeof t?t:3e4;n=Boolean(e&&Date.now()-e>r)}if(!n&&r.has("interval")){const{_intervalStart:e}=this,{autorefreshThreshold:t}=this._args;e&&"number"==typeof t&&t>0&&(n=Boolean(Date.now()-e>=t))}if(this._unavailableStart=null,this._invalidated=!1,n){this._clearInterval();const t=Object.assign({},this.reqState.request),r=("_invalidated"===e?null:e)??this._args.autorefreshBehavior??"policy";switch(r){case"reload":t.cacheOptions=Object.assign({},t.cacheOptions,{reload:!0});break;case"refresh":t.cacheOptions=Object.assign({},t.cacheOptions,{backgroundReload:!0});break;case"policy":break;default:throw new Error(`Invalid ${e?"update mode":"@autorefreshBehavior"} for <Request />: ${r}`)}const n=!0===t[mk],i=t.store||this.store,s=n&&"requestManager"in i?i.requestManager:i;this._isUpdating=!0,this._latestRequest=s.request(t),"refresh"!==r&&(this._localRequest=this._latestRequest),this._scheduleInterval(),this._latestRequest.finally(()=>{this._isUpdating=!1})}}retry=async()=>{this._maybeUpdate("reload"),await this._localRequest};refresh=async()=>{this._maybeUpdate("refresh"),await this._latestRequest};get errorFeatures(){return{isHidden:this.isHidden,isOnline:this.isOnline,retry:this.retry}}static{jx(this.prototype,"errorFeatures",[xS])}get contentFeatures(){const e={isHidden:this.isHidden,isOnline:this.isOnline,reload:this.retry,refresh:this.refresh,isRefreshing:this.isRefreshing,latestRequest:this._latestRequest};return e.isRefreshing&&(e.abort=()=>{this._latestRequest?.abort()}),e}static{jx(this.prototype,"contentFeatures",[xS])}get _request(){const{request:e,query:t}=this._args,{_localRequest:r,_originalRequest:n,_originalQuery:i}=this;return r&&e===n&&t===i?r:(this._originalQuery=t,this._originalRequest=e,e||this.store.request(t))}static{jx(this.prototype,"_request",[xS])}get request(){{const e=this._request;return this._updateSubscriptions(),e}}static{jx(this.prototype,"request",[xS])}get reqState(){return function(e){let t=Ux.get(e);return t||(t=function(e){const t=(n=e,Ek.get(n)),r=Object.create(Hx);var n;return r._request=e,t?t.isError?(r.error=t.result,r.reason=t.result,r.status="rejected",r.isError=!0,r.isPending=!1,r.isLoading=!1,r.request=t.result.request,r.response=t.result.response):(r.result=t.result.content,r.value=t.result.content,r.status="fulfilled",r.isSuccess=!0,r.isPending=!1,r.isLoading=!1,r.request=t.result.request,r.response=t.result.response):e.then(t=>{Ik(e,{isError:!1,result:t}),r.result=t.content,r.value=t.content,r.status="fulfilled",r.isSuccess=!0,r.isPending=!1,r.isLoading=!1,r.request=t.request,r.response=t.response},t=>{Ik(e,{isError:!0,result:t}),r.error=t,r.reason=t,r.status="rejected",r.isError=!0,r.isPending=!1,r.isLoading=!1,r.request=t.request,r.response=t.response}),r}(e),Ux.set(e,t)),t}(this.request)}get result(){return this.reqState.result}}function Fx(e){return"requestManager"in e}function zx(){const e=this;e.isDestroyed=!0,e._removeSubscriptions(),"undefined"!=typeof window&&(e._clearInterval(),window.removeEventListener("online",e._onlineChanged,{passive:!0,capture:!0}),window.removeEventListener("offline",e._onlineChanged,{passive:!0,capture:!0}),document.removeEventListener("visibilitychange",e._backgroundChanged,{passive:!0,capture:!0}))}kS(qx.prototype,"isOnline",!0),kS(qx.prototype,"isHidden",!1),kS(qx.prototype,"isRefreshing",!1),kS(qx.prototype,"_localRequest",void 0),kS(qx.prototype,"_latestRequest",void 0);const Ux=new WeakMap;function Bx(e){return e instanceof DOMException&&"AbortError"===e.name}class $x{_stream=null;_future;_triggered=!1;_trigger(){if(this._triggered)return;this._triggered=!0;const e=this._future.getStream();e.sizeHint&&(this._sizeHint=e.sizeHint),this.promise=e.then(e=>e?async function(e,t){const r=t,n=e.getReader();let i=0,s=null!==r._stream&&r._stream.readable.locked,o=s,a=r._stream?.writable.getWriter();const l=[];for(r._isPending=!1,r._isStarted=!0,r._startTime=performance.now();;){const{value:e,done:t}=await n.read();if(t)break;if(i+=e.byteLength,r._bytesLoaded=i,r._lastPacketTime=performance.now(),s=s||null!==r._stream&&r._stream.readable.locked,s){if(!o){o=!0,a=r._stream.writable.getWriter();for(const e of l)await a.ready,await a.write(e);l.length=0}await a.ready,await a.write(e)}else l.push(e)}o?(await a.ready,await a.close()):r._stream&&(await r._stream.readable.cancel("The Stream Has Already Ended"),r._stream=null);const c=performance.now();r._endTime=c,r._isComplete=!0,r._isStarted=!1}(e,this):(this._isPending=!1,void(this._isComplete=!0)),e=>{this._isPending=!1,this._isStarted=!1,Bx(e)&&(this._isCancelled=!0,this._isComplete=!0),this._isErrored=!0,this._error=e})}promise=null;get isPending(){return this._trigger(),this._isPending}get sizeHint(){return this._trigger(),this._sizeHint}get stream(){if(this._trigger(),!this._stream){if(this._isComplete||this._isCancelled||this._isErrored)return null;this._stream=new TransformStream}return this._stream.readable}get isStarted(){return this._trigger(),this._isStarted}get bytesLoaded(){return this._trigger(),this._bytesLoaded}get startTime(){return this._trigger(),this._startTime}get endTime(){return this._trigger(),this._endTime}get lastPacketTime(){return this._trigger(),this._lastPacketTime}get isComplete(){return this._trigger(),this._isComplete}get isCancelled(){return this._trigger(),this._isCancelled}get isErrored(){return this._trigger(),this._isErrored}get error(){return this._trigger(),this._error}get elapsedTime(){return(this.endTime||this.lastPacketTime)-this.startTime}get completedRatio(){return this.sizeHint?this.bytesLoaded/this.sizeHint:0}get remainingRatio(){return 1-this.completedRatio}get duration(){return this.endTime-this.startTime}get speed(){return this.bytesLoaded/(this.elapsedTime/1e3)}constructor(e){this._future=e}abort=()=>{this._future.abort()}}SS($x.prototype,"_isPending",!0),SS($x.prototype,"_isStarted",!1),SS($x.prototype,"_isComplete",!1),SS($x.prototype,"_isCancelled",!1),SS($x.prototype,"_isErrored",!1),SS($x.prototype,"_error",null),SS($x.prototype,"_sizeHint",0),SS($x.prototype,"_bytesLoaded",0),SS($x.prototype,"_startTime",0),SS($x.prototype,"_endTime",0),SS($x.prototype,"_lastPacketTime",0);const Hx={};function Vx(e){return e._store}function Wx(e,t,r){return(e[t]=e[t]||Object.create(null))[r]}function Kx(e,t,r,n){(e[t]=e[t]||Object.create(null))[r]=n}function Qx(e){if(!e.id)return!0;const t=DS(e);return Boolean(t?.isNew(e))}function Gx(e){return"belongsTo"===e.definition.kind}function Yx(e){return e.definition.isImplicit}function Jx(e){return"hasMany"===e.definition.kind}function Zx(e,t){if(Gx(e))e.remoteState&&t(e.remoteState),e.localState&&e.localState!==e.remoteState&&t(e.localState);else if(Jx(e)){for(let r=0;r<e.remoteState.length;r++){const n=e.remoteState[r];t(n)}e.additions?.forEach(t)}else e.localMembers.forEach(t),e.remoteMembers.forEach(r=>{e.localMembers.has(r)||t(r)})}function Xx(e,t,r){if(Gx(t))t.remoteState===r&&(t.remoteState=null),t.localState===r&&(t.localState=null,eA(e,t));else if(Jx(t)){t.remoteMembers.delete(r),t.additions?.delete(r);const n=t.removals?.delete(r),i=t.remoteState.indexOf(r);if(-1!==i&&t.remoteState.splice(i,1),!n){const n=t.localState?.indexOf(r);-1!==n&&void 0!==n&&(t.localState.splice(n,1),eA(e,t))}}else t.remoteMembers.delete(r),t.localMembers.delete(r)}function eA(e,t){if(!t.accessed)return;const r=t.identifier,n=t.definition.key;r!==e._removing&&e.store.notifyChange(r,"relationships",n)}function tA(e){return"belongsTo"===e.kind||"hasMany"===e.kind}kS(Hx,"reason",null),kS(Hx,"value",null),kS(Hx,"result",null),kS(Hx,"error",null),kS(Hx,"status","pending"),kS(Hx,"isPending",!0),kS(Hx,"isLoading",!0),kS(Hx,"isSuccess",!1),kS(Hx,"isError",!1),kS(Hx,"request",null),kS(Hx,"response",null),Object.defineProperty(Hx,"isCancelled",{get(){return this.isError&&Bx(this.reason)}}),Object.defineProperty(Hx,"loadingState",{get(){return this._loadingState||(this._loadingState=new $x(this._request)),this._loadingState}});const rA=null,nA=Date.now();function iA(e,t){return`implicit-${e}:${t}${nA}`}function sA(e,t){e.inverseKind=t.kind,e.inverseKey=t.key,e.inverseType=t.type,e.inverseIsAsync=t.isAsync,e.inverseIsCollection=t.isCollection,e.inverseIsPolymorphic=t.isPolymorphic,e.inverseIsImplicit=t.isImplicit,e.inverseIsLinksMode=t.isLinksMode;const r=!1!==e.resetOnRemoteUpdate&&!1!==t.resetOnRemoteUpdate;e.resetOnRemoteUpdate=r,t.resetOnRemoteUpdate=r}function oA(e){var t;tA(e)||(e={kind:"resource"===(t=e).kind?"belongsTo":"hasMany",name:t.name,type:t.type,options:Object.assign({},{async:!1,inverse:null,resetOnRemoteUpdate:!1},t.options)});const r={},n=e.options;return r.kind=e.kind,r.key=e.name,r.type=e.type,r.isAsync=n.async,r.isImplicit=!1,r.isCollection="hasMany"===e.kind,r.isPolymorphic=n&&!!n.polymorphic,r.isLinksMode=n.linksMode??!1,r.inverseKey=n&&n.inverse||"",r.inverseType="",r.inverseIsAsync=rA,r.inverseIsImplicit=n&&null===n.inverse||rA,r.inverseIsCollection=rA,r.inverseIsLinksMode=rA,r.resetOnRemoteUpdate=!!tA(e)&&!e.options?.linksMode&&!1!==e.options?.resetOnRemoteUpdate,r}function aA(e,t,r){const n=e.isSelfReferential;return 1==(r===e.lhs_relationshipName)&&(!0===n||t===e.lhs_baseModelName||e.rhs_isPolymorphic&&e.lhs_modelNames.includes(t))}function lA(e,t,r){const n=e._definitionCache,i=e.store,s=e._potentialPolymorphicTypes,{type:o}=t;let a=Wx(n,o,r);if(void 0!==a)return a;const l=i.schema.fields(t).get(r);if(!l){if(s[o]){const e=Object.keys(s[o]);for(let t=0;t<e.length;t++){const i=Wx(n,e[t],r);if(i)return Kx(n,o,r,i),i.rhs_modelNames.push(o),i}}return n[o][r]=null,null}const c=oA(l);let u,h;const d=c.type;if(null===c.inverseKey?u=null:(h=cA(Vx(i),t,r),u=!h&&c.isPolymorphic&&c.inverseKey?{kind:"belongsTo",key:c.inverseKey,type:o,isAsync:!1,isImplicit:!1,isCollection:!1,isPolymorphic:!1}:h?oA(i.schema.fields({type:d}).get(h)):null),!u){h=iA(o,r),u={kind:"implicit",key:h,type:o,isAsync:!1,isImplicit:!0,isCollection:!0,isPolymorphic:!1},sA(c,u),sA(u,c);const e={lhs_key:`${o}:${r}`,lhs_modelNames:[o],lhs_baseModelName:o,lhs_relationshipName:r,lhs_definition:c,lhs_isPolymorphic:c.isPolymorphic,rhs_key:u.key,rhs_modelNames:[d],rhs_baseModelName:d,rhs_relationshipName:u.key,rhs_definition:u,rhs_isPolymorphic:!1,hasInverse:!1,isSelfReferential:o===d,isReflexive:!1};return Kx(n,d,h,e),Kx(n,o,r,e),e}const p=u.type;if(a=Wx(n,p,r)||Wx(n,d,h),a)return(a.lhs_baseModelName===p?a.lhs_modelNames:a.rhs_modelNames).push(o),Kx(n,o,r,a),a;sA(c,u),sA(u,c);const f=[o];o!==p&&f.push(p);const g=p===d,m={lhs_key:`${p}:${r}`,lhs_modelNames:f,lhs_baseModelName:p,lhs_relationshipName:r,lhs_definition:c,lhs_isPolymorphic:c.isPolymorphic,rhs_key:`${d}:${h}`,rhs_modelNames:[d],rhs_baseModelName:d,rhs_relationshipName:h,rhs_definition:u,rhs_isPolymorphic:u.isPolymorphic,hasInverse:!0,isSelfReferential:g,isReflexive:g&&r===h};return Kx(n,p,r,m),Kx(n,o,r,m),Kx(n,d,h,m),m}function cA(e,t,r){const n=e.schema.fields(t).get(r);return n?n.options.inverse:null}function uA(e,t,r){r?function(e,t,r){const n=t.value,i=e.get(t.record,t.field);r&&e._addToTransaction(i);const s=i.isDirty;i.state.hasReceivedData||(i.isDirty=!0),i.state.hasReceivedData=!0;const{definition:o}=i,{type:a}=i.definition,l=gA(n,i,n=>{a!==n.type&&e.registerPolymorphicType(a,n.type),i.additions?.has(n)&&i.additions.delete(n),hA(e,n,o.inverseKey,t.record,r)},n=>{i.removals?.has(n)&&i.removals.delete(n),dA(e,n,o.inverseKey,t.record,r)});i.remoteMembers=l.finalSet,i.remoteState=l.finalState,l.changed&&(i.isDirty=!0),i._diff=l,"hasMany"===i.definition.kind&&!1!==i.definition.resetOnRemoteUpdate&&(l.changed||s)&&(i.removals&&(i.isDirty=!0,i.removals.forEach(r=>{hA(e,r,o.inverseKey,t.record,!1)}),i.removals=null),i.additions&&(i.additions.forEach(r=>{Qx(r)||(i.isDirty=!0,i.additions.delete(r),dA(e,r,o.inverseKey,t.record,!1))}),0===i.additions.size&&(i.additions=null))),i.isDirty&&!s&&pA(e,i)}(e,t,r):function(e,t,r){const n=t.value,i=e.get(t.record,t.field);i.state.hasReceivedData=!0;const{additions:s,removals:o}=i,{inverseKey:a,type:l}=i.definition,{record:c}=t,u=i.isDirty;let h=!1;const d=n=>{const i=o?.has(n);!i&&s?.has(n)||(l!==n.type&&e.registerPolymorphicType(l,n.type),h=!0,hA(e,n,a,t.record,r),i&&o.delete(n))},p=t=>{const n=s?.has(t);!n&&o?.has(t)||(h=!0,dA(e,t,a,c,r),n&&s.delete(t))},f=gA(n,i,d,p);s&&s.size>0&&s.forEach(e=>{f.add.has(e)||(h=!0,p(e))}),o&&o.size>0&&o.forEach(e=>{f.del.has(e)||(h=!0,d(e))});const g=f.changed||h;i.additions=f.add,i.removals=f.del,i.localState=f.finalState,g&&!u&&eA(e,i)}(e,t,r)}function hA(e,t,r,n,i){const s=e.get(t,r),{type:o}=s.definition;o!==n.type&&e.registerPolymorphicType(o,n.type),Gx(s)?(s.state.hasReceivedData=!0,s.state.isEmpty=!1,i&&(e._addToTransaction(s),null!==s.remoteState&&dA(e,s.remoteState,s.definition.inverseKey,t,i),s.remoteState=n),s.localState!==n&&(!i&&s.localState&&dA(e,s.localState,s.definition.inverseKey,t,i),s.localState=n,eA(e,s))):Jx(s)?i?s.remoteMembers.has(n)||(e._addToTransaction(s),s.remoteState.push(n),s.remoteMembers.add(n),s.additions?.has(n)?s.additions.delete(n):(s.isDirty=!0,s.state.hasReceivedData=!0,pA(e,s))):(s.isDirty||s.localState||(s.localState=[]),mA(e,0,s,n,null,i)&&eA(e,s)):i?s.remoteMembers.has(n)||(s.remoteMembers.add(n),s.localMembers.add(n)):s.localMembers.has(n)||s.localMembers.add(n)}function dA(e,t,r,n,i){const s=e.get(t,r);Gx(s)?(s.state.isEmpty=!0,i&&(e._addToTransaction(s),s.remoteState=null),s.localState===n&&(s.localState=null,eA(e,s))):Jx(s)?i?(e._addToTransaction(s),bA(s,n)&&eA(e,s)):yA(s,n)&&eA(e,s):i?(s.remoteMembers.delete(n),s.localMembers.delete(n)):n&&s.localMembers.has(n)&&s.localMembers.delete(n)}function pA(e,t){t.accessed&&e._scheduleLocalSync(t)}function fA(e,t,r=!1){const n=e.get(t.record,t.field);r&&e._addToTransaction(n);const{definition:i,state:s}=n,o=r?"remoteState":"localState",a=n[o];if(t.value!==a)if(a&&dA(e,a,i.inverseKey,t.record,r),n[o]=t.value,s.hasReceivedData=!0,s.isEmpty=null===t.value,s.isStale=!1,s.hasFailedLoadAttempt=!1,t.value&&(i.type!==t.value.type&&e.registerPolymorphicType(i.type,t.value.type),hA(e,t.value,i.inverseKey,t.record,r)),r){const{localState:t,remoteState:r}=n;if(t&&Qx(t)&&!r)return;(t!==r&&t===a||t!==r&&t!==a&&!1!==n.definition.resetOnRemoteUpdate)&&(n.localState=r,eA(e,n))}else eA(e,n);else if(s.hasReceivedData=!0,r){const{localState:s}=n;if(s&&Qx(s)&&!a)return;a&&s===a?function(e,t,r,n,i){const s=e.get(t,r);Jx(s)&&i&&s.remoteMembers.has(n)&&eA(e,s)}(e,a,i.inverseKey,t.record,r):s!==t.value&&!1!==n.definition.resetOnRemoteUpdate&&(n.localState=a,eA(e,n))}}function gA(e,t,r,n){const i=new Set(e),{localState:s,remoteState:o,remoteMembers:a}=t;if(e.length!==i.size){const{diff:l}=function(e,t,r,n,i,s,o,a){const l=t.length,c=n.length,u=Math.max(l,c);let h=r.size!==i.size,d=!1;const p=new Set,f=new Set,g=new Map,m=new Set,y=[],b=e?.length??0;for(let _=0,v=0;_<u;_++){let u,w=!1;if(_<l)if(u=t[_],m.has(u)){let e=g.get(u);void 0===e&&(e=[],g.set(u,e)),e.push(_)}else y[v]=u,m.add(u),w=!0,i.has(u)||(_<b&&e[_]!==u&&(h=!0),p.add(u),s(u));if(_<c){const t=n[_];u!==n[v]?(d=!0,!a&&_<b?e[v]!==u&&(h=!0):h=!0):a&&!h&&v<b&&e[v]!==u&&(h=!0),r.has(t)||(h=!0,f.add(t),o(t))}else w&&v<c&&u!==n[v]&&(h=!0);w&&v++}return{diff:{add:p,del:f,finalState:y,finalSet:m,changed:h,remoteOrderChanged:d},duplicates:g}}(s,e,i,o,a,r,n,t.definition.resetOnRemoteUpdate);return l}return function(e,t,r,n,i,s,o,a){const l=t.length,c=n.length,u=Math.max(l,c),h=e?l===e.length:l===c;let d=r.size!==i.size,p=e?r.size!==e.length:d;const f=new Set,g=new Set,m=e?.length??0;for(let y=0;y<u;y++){let u;if(y<l&&(u=t[y],!i.has(u))&&(y<m&&e[y]!==u&&(p=!0),f.add(u),s(u)),y<c){const t=n[y];h&&u!==t?(d=!0,y<m?e[y]!==u&&(p=!0):y<l&&(p=!0)):a&&h&&!p&&y<m&&e[y]!==t&&(p=!0),r.has(t)||(d=!0,g.add(t),o(t))}}return{add:f,del:g,finalState:t,finalSet:r,changed:p,remoteOrderChanged:d}}(s,e,i,o,a,r,n,t.definition.resetOnRemoteUpdate)}function mA(e,t,r,n,i,s){return s?function(e,t,r,n,i){const{remoteMembers:s,additions:o,removals:a,remoteState:l}=r;if(s.has(n))return!1;s.add(n);const c=null!==i&&i>=0&&i<l.length;return c?l.splice(i,0,n):l.push(n),o?.has(n)?(o.delete(n),!1):(r.isDirty||r.localState&&(c?0===i?r.localState.unshift(n):a?.size?r.isDirty=!0:r.localState.splice(i,0,n):r.localState.push(n)),!0)}(0,0,r,n,i):function(e,t,r,n,i){const{remoteMembers:s,removals:o}=r;let a=r.additions;if((s.has(n)||a?.has(n))&&!o?.has(n))return!1;if(o?.has(n))o.delete(n);else{a||(a=r.additions=new Set),r.state.hasReceivedData=!0,a.add(n);const{type:t}=r.definition;t!==n.type&&e.registerPolymorphicType(n.type,t)}return r.localState&&(null!==i?r.localState.splice(i,0,n):r.localState.push(n)),!0}(e,0,r,n,i)}function yA(e,t){const{remoteMembers:r,additions:n}=e;let i=e.removals;if(!r.has(t)&&!n?.has(t)||i?.has(t))return!1;if(n?.has(t)?n.delete(t):(i||(i=e.removals=new Set),i.add(t)),e.localState){const r=e.localState.indexOf(t);e.localState.splice(r,1)}return!0}function bA(e,t){const{remoteMembers:r,additions:n,removals:i,remoteState:s}=e;if(!r.has(t))return!1;r.delete(t);let o=s.indexOf(t);return s.splice(o,1),i?.has(t)?(i.delete(t),!1):(e.localState&&(o=e.localState.indexOf(t),e.localState.splice(o,1)),!0)}function _A(e,t,r,n){Gx(n)?fA(e,{record:t,field:r,value:n.remoteState},!1):(uA(e,{record:t,field:r,value:n.remoteState.slice()},!1),eA(e,n))}function vA(e,t){e.accessed=!0;const r={};return e.state.hasReceivedData&&(r.data=t?e.remoteState.slice():function(e){if(!e.isDirty)return e.localState;const t=e.remoteState.slice();return e.removals?.forEach(e=>{const r=t.indexOf(e);t.splice(r,1)}),e.additions?.forEach(e=>{t.push(e)}),e.localState=t,e.isDirty=!1,t}(e)),e.links&&(r.links=e.links),e.meta&&(r.meta=e.meta),r}function wA(e,t){let r;e.accessed=!0;const n={};return t&&e.remoteState?r=e.remoteState:!t&&e.localState&&(r=e.localState),(t&&null===e.remoteState||null===e.localState)&&e.state.hasReceivedData&&(r=null),e.links&&(n.links=e.links),void 0!==r&&(n.data=r),e.meta&&(n.meta=e.meta),n}function kA(e,t,r){const{record:n,value:i,index:s}=t,o=e.get(n,t.field),a=Gx(o);if(r&&a){if(i!==o.remoteState)return fA(e,{record:n,field:t.field,value:i},r)}else{if(o.isDirty||o.localState||(o.localState=[]),Array.isArray(i))for(let t=0;t<i.length;t++)SA(e,o,n,i[t],void 0!==s?s+t:null,r);else SA(e,o,n,i,s??null,r);eA(e,o)}}function SA(e,t,r,n,i,s){mA(e,0,t,n,i,s)&&hA(e,n,t.definition.inverseKey,r,s)}function xA(e,t,r){Object.keys(r).forEach(n=>{const i=r[n];i&&function(e,t,r){r.identifier=t.value,Zx(r,n=>{const i=e.get(n,r.definition.inverseKey);!function(e,t,r){Gx(t)?function(e,t,r){t.remoteState===r.record&&(t.remoteState=r.value),t.localState===r.record&&(t.localState=r.value,eA(e,t))}(e,t,r):Jx(t)?function(e,t,r){if(t.remoteMembers.has(r.record)){t.remoteMembers.delete(r.record),t.remoteMembers.add(r.value);const e=t.remoteState.indexOf(r.record);t.remoteState.splice(e,1,r.value),t.isDirty=!0}t.additions?.has(r.record)&&(t.additions.delete(r.record),t.additions.add(r.value),t.isDirty=!0),t.removals?.has(r.record)&&(t.removals.delete(r.record),t.removals.add(r.value),t.isDirty=!0),t.isDirty&&eA(e,t)}(e,t,r):function(e,t,r){t.remoteMembers.has(r.record)&&(t.remoteMembers.delete(r.record),t.remoteMembers.add(r.value)),t.localMembers.has(r.record)&&(t.localMembers.delete(r.record),t.localMembers.add(r.value))}(0,t,r)}(e,i,t)})}(e,t,i)})}function AA(e,t,r){const{record:n,value:i}=t,s=e.get(n,t.field),o=Gx(s);if(r&&o){if(i===s.remoteState)return fA(e,{record:n,field:t.field,value:null},r)}else{if(Array.isArray(i))for(let o=0;o<i.length;o++)RA(e,n,s,i[o],t.index,r);else RA(e,n,s,i,t.index,r);eA(e,s)}}function RA(e,t,r,n,i,s){(function(e,t,r,n,i,s){return s?bA(r,n):yA(r,n)})(0,0,r,n,0,s)&&dA(e,n,r.definition.inverseKey,t,s)}function TA(e){switch(typeof e){case"object":return e;case"string":return{href:e}}}function EA(e,t){const r=e.get(t.record,t.field),{definition:n,state:i,identifier:s}=r,{isCollection:o}=n,a=t.value;let l=!1,c=!1;if(a.meta&&(r.meta=a.meta),void 0!==a.data)if(l=!0,o){null===a.data&&(a.data=[]);const r=e.store.identifierCache;e.update({op:"replaceRelatedRecords",record:s,field:t.field,value:CA(a.data,r)},!0)}else e.update({op:"replaceRelatedRecord",record:s,field:t.field,value:a.data?e.store.identifierCache.upgradeIdentifier(a.data):null},!0);else!1!==n.isAsync||i.hasReceivedData||(l=!0,o?e.update({op:"replaceRelatedRecords",record:s,field:t.field,value:[]},!0):e.update({op:"replaceRelatedRecord",record:s,field:t.field,value:null},!0));if(a.links){const e=r.links;if(r.links=a.links,a.links.related){const t=TA(a.links.related),r=e&&e.related?TA(e.related):null,n=r?r.href:null;t&&t.href&&t.href!==n&&(c=!0)}}if(r.state.hasFailedLoadAttempt=!1,l){const e=null===a.data||Array.isArray(a.data)&&0===a.data.length;r.state.hasReceivedData=!0,r.state.isStale=!1,r.state.hasDematerializedInverse=!1,r.state.isEmpty=e}else c&&(o||!r.state.hasReceivedData||(u=r.transactionRef,h=e._transaction,0===u||null===h||u<h)?(r.state.isStale=!0,eA(e,r)):r.state.isStale=!1);var u,h}function CA(e,t){for(let r=0;r<e.length;r++)e[r]=t.upgradeIdentifier(e[r]);return e}const OA=hk(0,new Map);class MA{constructor(e){this._definitionCache=Object.create(null),this._metaCache=Object.create(null),this._potentialPolymorphicTypes=Object.create(null),this.identifiers=new Map,this.store=e,this.isDestroyed=!1,this._willSyncRemote=!1,this._willSyncLocal=!1,this._pushedUpdates={belongsTo:void 0,hasMany:void 0,deletions:[]},this._updatedRelationships=new Set,this._transaction=null,this._removing=null,this.silenceNotifications=!1}has(e,t){const r=this.identifiers.get(e);return!!r&&void 0!==r[t]}getDefinition(e,t){let r=this._metaCache[e.type],n=r?.[t];if(!n){const i=lA(this,e,t);n=aA(i,e.type,t)?i.lhs_definition:i.rhs_definition,r=this._metaCache[e.type]=r||{},r[t]=n}return n}get(e,t){let r=this.identifiers.get(e);r||(r=Object.create(null),this.identifiers.set(e,r));let n=r[t];if(!n){const i=this.getDefinition(e,t);n="belongsTo"===i.kind?r[t]=function(e,t){return{definition:e,identifier:t,state:{hasReceivedData:!1,isEmpty:!0,isStale:!1,hasFailedLoadAttempt:!1,shouldForceReload:!1,hasDematerializedInverse:!1},transactionRef:0,localState:null,remoteState:null,meta:null,links:null,accessed:!1}}(i,e):"hasMany"===i.kind?r[t]=function(e,t){return{definition:e,identifier:t,state:{hasReceivedData:!1,isEmpty:!0,isStale:!1,hasFailedLoadAttempt:!1,shouldForceReload:!1,hasDematerializedInverse:!1},remoteMembers:new Set,remoteState:[],additions:null,removals:null,meta:null,links:null,localState:null,isDirty:!1,transactionRef:0,accessed:!1,_diff:void 0}}(i,e):r[t]=function(e,t){return{definition:e,identifier:t,localMembers:new Set,remoteMembers:new Set}}(i,e)}return n}getData(e,t){const r=this.get(e,t);return Gx(r)?wA(r,!1):vA(r,!1)}getRemoteData(e,t){const r=this.get(e,t);return Gx(r)?wA(r,!0):vA(r,!0)}registerPolymorphicType(e,t){const r=this._potentialPolymorphicTypes;let n=r[e];n||(n=r[e]=Object.create(null)),n[t]=!0;let i=r[t];i||(i=r[t]=Object.create(null)),i[e]=!0}isReleasable(e){const t=this.identifiers.get(e);if(!t)return!0;const r=Object.keys(t);for(let n=0;n<r.length;n++){const i=t[r[n]];if(void 0!==i&&i.definition.inverseIsAsync&&!Qx(e))return!1}return!0}unload(e,t){const r=this.identifiers.get(e);r&&Object.keys(r).forEach(e=>{const n=r[e];n&&(PA(this,n,t),Yx(n)&&(r[e]=void 0))})}_isDirty(e,t){const r=this.identifiers.get(e);if(!r)return!1;const n=r[t];if(!n)return!1;if(Gx(n))return n.localState!==n.remoteState;if(Jx(n)){const e=null!==n.additions&&n.additions.size>0,t=null!==n.removals&&n.removals.size>0;return e||t||qA(n)}return!1}getChanged(e){const t=this.identifiers.get(e),r=new Map;if(!t)return r;const n=Object.keys(t);for(let i=0;i<n.length;i++){const e=n[i],s=t[e];if(s)if(Gx(s))s.localState!==s.remoteState&&r.set(e,{kind:"resource",remoteState:s.remoteState,localState:s.localState});else if(Jx(s)){const t=null!==s.additions&&s.additions.size>0,n=null!==s.removals&&s.removals.size>0,i=qA(s);(t||n||i)&&r.set(e,{kind:"collection",additions:new Set(s.additions),removals:new Set(s.removals),remoteState:s.remoteState,localState:vA(s,!1).data||[],reordered:i})}}return r}hasChanged(e){const t=this.identifiers.get(e);if(!t)return!1;const r=Object.keys(t);for(let n=0;n<r.length;n++)if(this._isDirty(e,r[n]))return!0;return!1}rollback(e){const t=this.identifiers.get(e),r=[];if(!t)return r;const n=Object.keys(t);for(let i=0;i<n.length;i++){const s=n[i],o=t[s];o&&this._isDirty(e,s)&&(_A(this,e,s,o),r.push(s))}return r}remove(e){this._removing=e,this.unload(e),this.identifiers.delete(e),this._removing=null}push(e){if("deleteRecord"===e.op)this._pushedUpdates.deletions.push(e);else{const t=this.getDefinition(e.record,e.field);!function(e,t,r){const n=e[t.kind]=e[t.kind]||new Map;let i=n.get(t.inverseType);i||(i=new Map,n.set(t.inverseType,i));let s=i.get(r.field);s||(s=[],i.set(r.field,s)),s.push(r)}(this._pushedUpdates,t,e)}if(!this._willSyncRemote){this._willSyncRemote=!0;const e=Vx(this.store);e._cbs?e._schedule("coalesce",()=>this._flushRemoteQueue()):e._run(()=>this._flushRemoteQueue())}}update(e,t=!1){switch(e.op){case"mergeIdentifiers":{const t=this.identifiers.get(e.record);t&&xA(this,e,t);break}case"update":case"updateRelationship":EA(this,e);break;case"deleteRecord":{const t=e.record,r=this.identifiers.get(t);r&&(Object.keys(r).forEach(e=>{const t=r[e];t&&(r[e]=void 0,LA(this,t))}),this.identifiers.delete(t));break}case"replaceRelatedRecord":fA(this,e,t);break;case"add":kA(this,e,t);break;case"remove":AA(this,e,t);break;case"replaceRelatedRecords":uA(this,e,t)}}_scheduleLocalSync(e){this._updatedRelationships.add(e),this._willSyncLocal||(this._willSyncLocal=!0,Vx(this.store)._schedule("sync",()=>this._flushLocalQueue()))}_flushRemoteQueue(){if(!this._willSyncRemote)return;let e=dk("transactionRef")??0;this._transaction=++e,pk("transactionRef",e),this._willSyncRemote=!1;const t=this._pushedUpdates,{deletions:r,hasMany:n,belongsTo:i}=t;t.deletions=[],t.hasMany=void 0,t.belongsTo=void 0;for(let s=0;s<r.length;s++)this.update(r[s],!0);n&&IA(this,n),i&&IA(this,i),this._transaction=null}_addToTransaction(e){e.transactionRef=this._transaction}_flushLocalQueue(){if(!this._willSyncLocal)return;if(this.silenceNotifications)return this.silenceNotifications=!1,void(this._updatedRelationships=new Set);this._willSyncLocal=!1;const e=this._updatedRelationships;this._updatedRelationships=new Set,e.forEach(e=>eA(this,e))}destroy(){OA.delete(this.store),this.identifiers.clear(),this.store=null,this.isDestroyed=!0}}function IA(e,t){t.forEach(t=>{t.forEach(t=>{!function(e,t){for(let r=0;r<t.length;r++)e.update(t[r],!0)}(e,t)})})}function PA(e,t,r){if(Yx(t))return void(e.isReleasable(t.identifier)&&LA(e,t));const{identifier:n}=t,{inverseKey:i}=t.definition;t.definition.inverseIsImplicit||Zx(t,t=>DA(e,t,i,n,r)),t.definition.inverseIsImplicit||t.definition.inverseIsAsync||(t.state.isStale=!0,NA(t),t.definition.isAsync||r||eA(e,t))}function DA(e,t,r,n,i){if(!e.has(t,r))return;const s=e.get(t,r);Gx(s)&&s.localState&&n!==s.localState||jA(e,s,n,i)}function NA(e){Gx(e)?(e.localState=null,e.remoteState=null,e.state.hasReceivedData=!1,e.state.isEmpty=!0):(e.remoteMembers.clear(),e.remoteState=[],e.additions=null,e.removals=null,e.localState=null)}function jA(e,t,r,n){if(Gx(t)){const r=t.localState;!t.definition.isAsync||r&&Qx(r)?(t.localState===r&&null!==r&&(t.localState=null),t.remoteState===r&&null!==r&&(t.remoteState=null,t.state.hasReceivedData=!0,t.state.isEmpty=!0,t.localState&&!Qx(t.localState)&&(t.localState=null))):t.state.hasDematerializedInverse=!0,n||eA(e,t)}else!t.definition.isAsync||r&&Qx(r)?Xx(e,t,r):t.state.hasDematerializedInverse=!0,n||eA(e,t)}function LA(e,t){const{identifier:r}=t,{inverseKey:n}=t.definition;Zx(t,t=>{e.has(t,n)&&Xx(e,e.get(t,n),r)}),Gx(t)?(t.definition.isAsync||NA(t),t.localState=null):Jx(t)?t.definition.isAsync||(NA(t),eA(e,t)):(t.remoteMembers.clear(),t.localMembers.clear())}function qA(e){if(e.isDirty)return!1;const{remoteState:t,localState:r,additions:n,removals:i}=e;if(null===r)return!1;for(let s=0,o=0;s<t.length;s++){const e=t[s],a=r[o];if(e!==a){if(i&&i.has(e))continue;if(n&&n.has(a)){o++,s--;continue}return!0}o++}return!1}function FA(e){return void 0!==e._instanceCache?e._instanceCache._storeWrapper:e}function zA(e){return OA.get(FA(e))}const UA=new Set(["createRecord","updateRecord","deleteRecord"]);function BA(e){return Boolean(e.op&&UA.has(e.op))}function $A(e){const t=function(e){return e instanceof AggregateError||"AggregateError"===e.name&&Array.isArray(e.errors)}(e),r=t?new AggregateError(structuredClone(e.errors),e.message):new Error(e.message);return r.stack=e.stack,r.error=e.error,Object.assign(r,e),r}function HA(e,t,r){if(e){const r=t.get(e);if(r)return r.priority}return r}const VA={request(e,t){if(!e.request.store||e.request.cacheOptions?.[gk])return t(e.request);const{store:r}=e.request,n=r.identifierCache.getOrCreateDocumentIdentifier(e.request);n&&e.setIdentifier(n);const i=r.requestManager._deduped,s=n&&i.get(n),o=n?r.cache.peekRequest(n):null;if(function(e,t,r,n){const{cacheOptions:i}=t;return t.op&&UA.has(t.op)||i?.reload||!r||!(!e.lifetimes||!n)&&e.lifetimes.isHardExpired(n,e)}(r,e.request,!!o,n)){if(s)return s.priority={blocking:!0},s.promise;let o=KA(t,e,n,{blocking:!0});return n&&(o=o.finally(()=>{i.delete(n),r.notifications.notify(n,"state")}),i.set(n,{priority:{blocking:!0},promise:o}),r.notifications.notify(n,"state")),o}if(function(e,t,r,n){const{cacheOptions:i}=t;return i?.backgroundReload||!(!e.lifetimes||!n)&&e.lifetimes.isSoftExpired(n,e)}(r,e.request,0,n)){let o=s?.promise||KA(t,e,n,{blocking:!1});n&&!s&&(o=o.finally(()=>{i.delete(n),r.notifications.notify(n,"state")}),i.set(n,{priority:{blocking:!1},promise:o}),r.notifications.notify(n,"state")),r.requestManager._pending.set(e.id,o)}const a=e.request[mk]||!1;if(e.setResponse(o.response),"error"in o){const t=a?WA(r,e.request,{shouldHydrate:a,identifier:n},o.content):o.content,i=$A(o);throw i.content=t,i}return a?WA(r,e.request,{shouldHydrate:a,identifier:n},o.content):o.content}};function WA(e,t,r,n){const{identifier:i}=r;return n&&r.shouldHydrate?i?e._instanceCache.getDocument(i):new ES(e,null,{request:t,document:n}):n??null}function KA(e,t,r,n){const{store:i}=t.request,s={shouldHydrate:t.request[mk]||!1,identifier:r,priority:n};let o=!1;if(BA(t.request)){o=!0;const e=t.request.data?.record||t.request.records?.[0];e&&i.cache.willCommit(e,t)}i.lifetimes?.willRequest&&i.lifetimes.willRequest(t.request,r,i);const a=e(t.request).then(e=>function(e,t,r,n){const{request:i}=t;let s;if(e.requestManager._pending.delete(t.id),e._enableAsyncFlush=!0,e._join(()=>{s=function(e,t,r,n){let i=null;if(BA(t)){const r=t.data?.record||t.records?.[0];r?i=e.cache.didCommit(r,n):function(e){return!BA(e.request)||("createRecord"===e.request.op&&201===e.response?.status?!!e.content&&Object.keys(e.content).length>0:204!==e.response?.status)}(n)&&(i=e.cache.put(n))}else i=e.cache.put(n);return WA(e,t,r,i)}(e,i,r,n)}),e._enableAsyncFlush=null,e.lifetimes?.didRequest&&e.lifetimes.didRequest(t.request,n.response,r.identifier,e),HA(r.identifier,e.requestManager._deduped,r.priority).blocking)return s;e.notifications._flush()}(i,t,s,e),e=>function(e,t,r,n){if(e.requestManager._pending.delete(t.id),t.request.signal?.aborted)throw n;let i;if(e._enableAsyncFlush=!0,e._join(()=>{i=function(e,t,r,n){let i;if(!BA(t.request))return i=e.cache.put(n),WA(e,t.request,r,i);{const r=n&&n.content&&"object"==typeof n.content&&"errors"in n.content&&Array.isArray(n.content.errors)?n.content.errors:void 0,i=t.request.data?.record||t.request.records?.[0];e.cache.commitWasRejected(i,r)}}(e,t,r,n)}),e._enableAsyncFlush=null,r.identifier&&e.lifetimes?.didRequest&&e.lifetimes.didRequest(t.request,n.response,r.identifier,e),BA(t.request))throw n;if(HA(r.identifier,e.requestManager._deduped,r.priority).blocking){const e=$A(n);throw e.content=i,e}e.notifications._flush()}(i,t,s,e));if(!o)return a;const l=t.request.data?.record||t.request.records?.[0];return i._requestCache._enqueue(a,{data:[{op:"saveRecord",recordIdentifier:l,options:void 0}]})}var QA,GA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function YA(e){return e instanceof Error}QA||(QA=1,function(){function e(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof window?window:void 0!==GA||"undefined"!=typeof self&&self;var t=e(function(e){e.exports&&(e.exports=function(){var e=3,t=4,r=12,n=13,i=16,s=17;function o(e,t){return 55296<=e.charCodeAt(t)&&e.charCodeAt(t)<=56319&&56320<=e.charCodeAt(t+1)&&e.charCodeAt(t+1)<=57343}function a(e,t){void 0===t&&(t=0);var r=e.charCodeAt(t);if(55296<=r&&r<=56319&&t<e.length-1){var n=r;return 56320<=(i=e.charCodeAt(t+1))&&i<=57343?1024*(n-55296)+(i-56320)+65536:n}if(56320<=r&&r<=57343&&t>=1){var i=r;return 55296<=(n=e.charCodeAt(t-1))&&n<=56319?1024*(n-55296)+(i-56320)+65536:i}return r}function l(o,a,l){var c=[o].concat(a).concat([l]),u=c[c.length-2],h=l,d=c.lastIndexOf(14);if(d>1&&c.slice(1,d).every(function(t){return t==e})&&-1==[e,n,s].indexOf(o))return 2;var p=c.lastIndexOf(t);if(p>0&&c.slice(1,p).every(function(e){return e==t})&&-1==[r,t].indexOf(u))return c.filter(function(e){return e==t}).length%2==1?3:4;if(0==u&&1==h)return 0;if(2==u||0==u||1==u)return 14==h&&a.every(function(t){return t==e})?2:1;if(2==h||0==h||1==h)return 1;if(6==u&&(6==h||7==h||9==h||10==h))return 0;if(!(9!=u&&7!=u||7!=h&&8!=h))return 0;if((10==u||8==u)&&8==h)return 0;if(h==e||15==h)return 0;if(5==h)return 0;if(u==r)return 0;var f=-1!=c.indexOf(e)?c.lastIndexOf(e)-1:c.length-2;return-1!=[n,s].indexOf(c[f])&&c.slice(f+1,-1).every(function(t){return t==e})&&14==h||15==u&&-1!=[i,s].indexOf(h)?0:-1!=a.indexOf(t)?2:u==t&&h==t?0:1}function c(o){return 1536<=o&&o<=1541||1757==o||1807==o||2274==o||3406==o||69821==o||70082<=o&&o<=70083||72250==o||72326<=o&&o<=72329||73030==o?r:13==o?0:10==o?1:0<=o&&o<=9||11<=o&&o<=12||14<=o&&o<=31||127<=o&&o<=159||173==o||1564==o||6158==o||8203==o||8206<=o&&o<=8207||8232==o||8233==o||8234<=o&&o<=8238||8288<=o&&o<=8292||8293==o||8294<=o&&o<=8303||55296<=o&&o<=57343||65279==o||65520<=o&&o<=65528||65529<=o&&o<=65531||113824<=o&&o<=113827||119155<=o&&o<=119162||917504==o||917505==o||917506<=o&&o<=917535||917632<=o&&o<=917759||918e3<=o&&o<=921599?2:768<=o&&o<=879||1155<=o&&o<=1159||1160<=o&&o<=1161||1425<=o&&o<=1469||1471==o||1473<=o&&o<=1474||1476<=o&&o<=1477||1479==o||1552<=o&&o<=1562||1611<=o&&o<=1631||1648==o||1750<=o&&o<=1756||1759<=o&&o<=1764||1767<=o&&o<=1768||1770<=o&&o<=1773||1809==o||1840<=o&&o<=1866||1958<=o&&o<=1968||2027<=o&&o<=2035||2070<=o&&o<=2073||2075<=o&&o<=2083||2085<=o&&o<=2087||2089<=o&&o<=2093||2137<=o&&o<=2139||2260<=o&&o<=2273||2275<=o&&o<=2306||2362==o||2364==o||2369<=o&&o<=2376||2381==o||2385<=o&&o<=2391||2402<=o&&o<=2403||2433==o||2492==o||2494==o||2497<=o&&o<=2500||2509==o||2519==o||2530<=o&&o<=2531||2561<=o&&o<=2562||2620==o||2625<=o&&o<=2626||2631<=o&&o<=2632||2635<=o&&o<=2637||2641==o||2672<=o&&o<=2673||2677==o||2689<=o&&o<=2690||2748==o||2753<=o&&o<=2757||2759<=o&&o<=2760||2765==o||2786<=o&&o<=2787||2810<=o&&o<=2815||2817==o||2876==o||2878==o||2879==o||2881<=o&&o<=2884||2893==o||2902==o||2903==o||2914<=o&&o<=2915||2946==o||3006==o||3008==o||3021==o||3031==o||3072==o||3134<=o&&o<=3136||3142<=o&&o<=3144||3146<=o&&o<=3149||3157<=o&&o<=3158||3170<=o&&o<=3171||3201==o||3260==o||3263==o||3266==o||3270==o||3276<=o&&o<=3277||3285<=o&&o<=3286||3298<=o&&o<=3299||3328<=o&&o<=3329||3387<=o&&o<=3388||3390==o||3393<=o&&o<=3396||3405==o||3415==o||3426<=o&&o<=3427||3530==o||3535==o||3538<=o&&o<=3540||3542==o||3551==o||3633==o||3636<=o&&o<=3642||3655<=o&&o<=3662||3761==o||3764<=o&&o<=3769||3771<=o&&o<=3772||3784<=o&&o<=3789||3864<=o&&o<=3865||3893==o||3895==o||3897==o||3953<=o&&o<=3966||3968<=o&&o<=3972||3974<=o&&o<=3975||3981<=o&&o<=3991||3993<=o&&o<=4028||4038==o||4141<=o&&o<=4144||4146<=o&&o<=4151||4153<=o&&o<=4154||4157<=o&&o<=4158||4184<=o&&o<=4185||4190<=o&&o<=4192||4209<=o&&o<=4212||4226==o||4229<=o&&o<=4230||4237==o||4253==o||4957<=o&&o<=4959||5906<=o&&o<=5908||5938<=o&&o<=5940||5970<=o&&o<=5971||6002<=o&&o<=6003||6068<=o&&o<=6069||6071<=o&&o<=6077||6086==o||6089<=o&&o<=6099||6109==o||6155<=o&&o<=6157||6277<=o&&o<=6278||6313==o||6432<=o&&o<=6434||6439<=o&&o<=6440||6450==o||6457<=o&&o<=6459||6679<=o&&o<=6680||6683==o||6742==o||6744<=o&&o<=6750||6752==o||6754==o||6757<=o&&o<=6764||6771<=o&&o<=6780||6783==o||6832<=o&&o<=6845||6846==o||6912<=o&&o<=6915||6964==o||6966<=o&&o<=6970||6972==o||6978==o||7019<=o&&o<=7027||7040<=o&&o<=7041||7074<=o&&o<=7077||7080<=o&&o<=7081||7083<=o&&o<=7085||7142==o||7144<=o&&o<=7145||7149==o||7151<=o&&o<=7153||7212<=o&&o<=7219||7222<=o&&o<=7223||7376<=o&&o<=7378||7380<=o&&o<=7392||7394<=o&&o<=7400||7405==o||7412==o||7416<=o&&o<=7417||7616<=o&&o<=7673||7675<=o&&o<=7679||8204==o||8400<=o&&o<=8412||8413<=o&&o<=8416||8417==o||8418<=o&&o<=8420||8421<=o&&o<=8432||11503<=o&&o<=11505||11647==o||11744<=o&&o<=11775||12330<=o&&o<=12333||12334<=o&&o<=12335||12441<=o&&o<=12442||42607==o||42608<=o&&o<=42610||42612<=o&&o<=42621||42654<=o&&o<=42655||42736<=o&&o<=42737||43010==o||43014==o||43019==o||43045<=o&&o<=43046||43204<=o&&o<=43205||43232<=o&&o<=43249||43302<=o&&o<=43309||43335<=o&&o<=43345||43392<=o&&o<=43394||43443==o||43446<=o&&o<=43449||43452==o||43493==o||43561<=o&&o<=43566||43569<=o&&o<=43570||43573<=o&&o<=43574||43587==o||43596==o||43644==o||43696==o||43698<=o&&o<=43700||43703<=o&&o<=43704||43710<=o&&o<=43711||43713==o||43756<=o&&o<=43757||43766==o||44005==o||44008==o||44013==o||64286==o||65024<=o&&o<=65039||65056<=o&&o<=65071||65438<=o&&o<=65439||66045==o||66272==o||66422<=o&&o<=66426||68097<=o&&o<=68099||68101<=o&&o<=68102||68108<=o&&o<=68111||68152<=o&&o<=68154||68159==o||68325<=o&&o<=68326||69633==o||69688<=o&&o<=69702||69759<=o&&o<=69761||69811<=o&&o<=69814||69817<=o&&o<=69818||69888<=o&&o<=69890||69927<=o&&o<=69931||69933<=o&&o<=69940||70003==o||70016<=o&&o<=70017||70070<=o&&o<=70078||70090<=o&&o<=70092||70191<=o&&o<=70193||70196==o||70198<=o&&o<=70199||70206==o||70367==o||70371<=o&&o<=70378||70400<=o&&o<=70401||70460==o||70462==o||70464==o||70487==o||70502<=o&&o<=70508||70512<=o&&o<=70516||70712<=o&&o<=70719||70722<=o&&o<=70724||70726==o||70832==o||70835<=o&&o<=70840||70842==o||70845==o||70847<=o&&o<=70848||70850<=o&&o<=70851||71087==o||71090<=o&&o<=71093||71100<=o&&o<=71101||71103<=o&&o<=71104||71132<=o&&o<=71133||71219<=o&&o<=71226||71229==o||71231<=o&&o<=71232||71339==o||71341==o||71344<=o&&o<=71349||71351==o||71453<=o&&o<=71455||71458<=o&&o<=71461||71463<=o&&o<=71467||72193<=o&&o<=72198||72201<=o&&o<=72202||72243<=o&&o<=72248||72251<=o&&o<=72254||72263==o||72273<=o&&o<=72278||72281<=o&&o<=72283||72330<=o&&o<=72342||72344<=o&&o<=72345||72752<=o&&o<=72758||72760<=o&&o<=72765||72767==o||72850<=o&&o<=72871||72874<=o&&o<=72880||72882<=o&&o<=72883||72885<=o&&o<=72886||73009<=o&&o<=73014||73018==o||73020<=o&&o<=73021||73023<=o&&o<=73029||73031==o||92912<=o&&o<=92916||92976<=o&&o<=92982||94095<=o&&o<=94098||113821<=o&&o<=113822||119141==o||119143<=o&&o<=119145||119150<=o&&o<=119154||119163<=o&&o<=119170||119173<=o&&o<=119179||119210<=o&&o<=119213||119362<=o&&o<=119364||121344<=o&&o<=121398||121403<=o&&o<=121452||121461==o||121476==o||121499<=o&&o<=121503||121505<=o&&o<=121519||122880<=o&&o<=122886||122888<=o&&o<=122904||122907<=o&&o<=122913||122915<=o&&o<=122916||122918<=o&&o<=122922||125136<=o&&o<=125142||125252<=o&&o<=125258||917536<=o&&o<=917631||917760<=o&&o<=917999?e:127462<=o&&o<=127487?t:2307==o||2363==o||2366<=o&&o<=2368||2377<=o&&o<=2380||2382<=o&&o<=2383||2434<=o&&o<=2435||2495<=o&&o<=2496||2503<=o&&o<=2504||2507<=o&&o<=2508||2563==o||2622<=o&&o<=2624||2691==o||2750<=o&&o<=2752||2761==o||2763<=o&&o<=2764||2818<=o&&o<=2819||2880==o||2887<=o&&o<=2888||2891<=o&&o<=2892||3007==o||3009<=o&&o<=3010||3014<=o&&o<=3016||3018<=o&&o<=3020||3073<=o&&o<=3075||3137<=o&&o<=3140||3202<=o&&o<=3203||3262==o||3264<=o&&o<=3265||3267<=o&&o<=3268||3271<=o&&o<=3272||3274<=o&&o<=3275||3330<=o&&o<=3331||3391<=o&&o<=3392||3398<=o&&o<=3400||3402<=o&&o<=3404||3458<=o&&o<=3459||3536<=o&&o<=3537||3544<=o&&o<=3550||3570<=o&&o<=3571||3635==o||3763==o||3902<=o&&o<=3903||3967==o||4145==o||4155<=o&&o<=4156||4182<=o&&o<=4183||4228==o||6070==o||6078<=o&&o<=6085||6087<=o&&o<=6088||6435<=o&&o<=6438||6441<=o&&o<=6443||6448<=o&&o<=6449||6451<=o&&o<=6456||6681<=o&&o<=6682||6741==o||6743==o||6765<=o&&o<=6770||6916==o||6965==o||6971==o||6973<=o&&o<=6977||6979<=o&&o<=6980||7042==o||7073==o||7078<=o&&o<=7079||7082==o||7143==o||7146<=o&&o<=7148||7150==o||7154<=o&&o<=7155||7204<=o&&o<=7211||7220<=o&&o<=7221||7393==o||7410<=o&&o<=7411||7415==o||43043<=o&&o<=43044||43047==o||43136<=o&&o<=43137||43188<=o&&o<=43203||43346<=o&&o<=43347||43395==o||43444<=o&&o<=43445||43450<=o&&o<=43451||43453<=o&&o<=43456||43567<=o&&o<=43568||43571<=o&&o<=43572||43597==o||43755==o||43758<=o&&o<=43759||43765==o||44003<=o&&o<=44004||44006<=o&&o<=44007||44009<=o&&o<=44010||44012==o||69632==o||69634==o||69762==o||69808<=o&&o<=69810||69815<=o&&o<=69816||69932==o||70018==o||70067<=o&&o<=70069||70079<=o&&o<=70080||70188<=o&&o<=70190||70194<=o&&o<=70195||70197==o||70368<=o&&o<=70370||70402<=o&&o<=70403||70463==o||70465<=o&&o<=70468||70471<=o&&o<=70472||70475<=o&&o<=70477||70498<=o&&o<=70499||70709<=o&&o<=70711||70720<=o&&o<=70721||70725==o||70833<=o&&o<=70834||70841==o||70843<=o&&o<=70844||70846==o||70849==o||71088<=o&&o<=71089||71096<=o&&o<=71099||71102==o||71216<=o&&o<=71218||71227<=o&&o<=71228||71230==o||71340==o||71342<=o&&o<=71343||71350==o||71456<=o&&o<=71457||71462==o||72199<=o&&o<=72200||72249==o||72279<=o&&o<=72280||72343==o||72751==o||72766==o||72873==o||72881==o||72884==o||94033<=o&&o<=94078||119142==o||119149==o?5:4352<=o&&o<=4447||43360<=o&&o<=43388?6:4448<=o&&o<=4519||55216<=o&&o<=55238?7:4520<=o&&o<=4607||55243<=o&&o<=55291?8:44032==o||44060==o||44088==o||44116==o||44144==o||44172==o||44200==o||44228==o||44256==o||44284==o||44312==o||44340==o||44368==o||44396==o||44424==o||44452==o||44480==o||44508==o||44536==o||44564==o||44592==o||44620==o||44648==o||44676==o||44704==o||44732==o||44760==o||44788==o||44816==o||44844==o||44872==o||44900==o||44928==o||44956==o||44984==o||45012==o||45040==o||45068==o||45096==o||45124==o||45152==o||45180==o||45208==o||45236==o||45264==o||45292==o||45320==o||45348==o||45376==o||45404==o||45432==o||45460==o||45488==o||45516==o||45544==o||45572==o||45600==o||45628==o||45656==o||45684==o||45712==o||45740==o||45768==o||45796==o||45824==o||45852==o||45880==o||45908==o||45936==o||45964==o||45992==o||46020==o||46048==o||46076==o||46104==o||46132==o||46160==o||46188==o||46216==o||46244==o||46272==o||46300==o||46328==o||46356==o||46384==o||46412==o||46440==o||46468==o||46496==o||46524==o||46552==o||46580==o||46608==o||46636==o||46664==o||46692==o||46720==o||46748==o||46776==o||46804==o||46832==o||46860==o||46888==o||46916==o||46944==o||46972==o||47e3==o||47028==o||47056==o||47084==o||47112==o||47140==o||47168==o||47196==o||47224==o||47252==o||47280==o||47308==o||47336==o||47364==o||47392==o||47420==o||47448==o||47476==o||47504==o||47532==o||47560==o||47588==o||47616==o||47644==o||47672==o||47700==o||47728==o||47756==o||47784==o||47812==o||47840==o||47868==o||47896==o||47924==o||47952==o||47980==o||48008==o||48036==o||48064==o||48092==o||48120==o||48148==o||48176==o||48204==o||48232==o||48260==o||48288==o||48316==o||48344==o||48372==o||48400==o||48428==o||48456==o||48484==o||48512==o||48540==o||48568==o||48596==o||48624==o||48652==o||48680==o||48708==o||48736==o||48764==o||48792==o||48820==o||48848==o||48876==o||48904==o||48932==o||48960==o||48988==o||49016==o||49044==o||49072==o||49100==o||49128==o||49156==o||49184==o||49212==o||49240==o||49268==o||49296==o||49324==o||49352==o||49380==o||49408==o||49436==o||49464==o||49492==o||49520==o||49548==o||49576==o||49604==o||49632==o||49660==o||49688==o||49716==o||49744==o||49772==o||49800==o||49828==o||49856==o||49884==o||49912==o||49940==o||49968==o||49996==o||50024==o||50052==o||50080==o||50108==o||50136==o||50164==o||50192==o||50220==o||50248==o||50276==o||50304==o||50332==o||50360==o||50388==o||50416==o||50444==o||50472==o||50500==o||50528==o||50556==o||50584==o||50612==o||50640==o||50668==o||50696==o||50724==o||50752==o||50780==o||50808==o||50836==o||50864==o||50892==o||50920==o||50948==o||50976==o||51004==o||51032==o||51060==o||51088==o||51116==o||51144==o||51172==o||51200==o||51228==o||51256==o||51284==o||51312==o||51340==o||51368==o||51396==o||51424==o||51452==o||51480==o||51508==o||51536==o||51564==o||51592==o||51620==o||51648==o||51676==o||51704==o||51732==o||51760==o||51788==o||51816==o||51844==o||51872==o||51900==o||51928==o||51956==o||51984==o||52012==o||52040==o||52068==o||52096==o||52124==o||52152==o||52180==o||52208==o||52236==o||52264==o||52292==o||52320==o||52348==o||52376==o||52404==o||52432==o||52460==o||52488==o||52516==o||52544==o||52572==o||52600==o||52628==o||52656==o||52684==o||52712==o||52740==o||52768==o||52796==o||52824==o||52852==o||52880==o||52908==o||52936==o||52964==o||52992==o||53020==o||53048==o||53076==o||53104==o||53132==o||53160==o||53188==o||53216==o||53244==o||53272==o||53300==o||53328==o||53356==o||53384==o||53412==o||53440==o||53468==o||53496==o||53524==o||53552==o||53580==o||53608==o||53636==o||53664==o||53692==o||53720==o||53748==o||53776==o||53804==o||53832==o||53860==o||53888==o||53916==o||53944==o||53972==o||54e3==o||54028==o||54056==o||54084==o||54112==o||54140==o||54168==o||54196==o||54224==o||54252==o||54280==o||54308==o||54336==o||54364==o||54392==o||54420==o||54448==o||54476==o||54504==o||54532==o||54560==o||54588==o||54616==o||54644==o||54672==o||54700==o||54728==o||54756==o||54784==o||54812==o||54840==o||54868==o||54896==o||54924==o||54952==o||54980==o||55008==o||55036==o||55064==o||55092==o||55120==o||55148==o||55176==o?9:44033<=o&&o<=44059||44061<=o&&o<=44087||44089<=o&&o<=44115||44117<=o&&o<=44143||44145<=o&&o<=44171||44173<=o&&o<=44199||44201<=o&&o<=44227||44229<=o&&o<=44255||44257<=o&&o<=44283||44285<=o&&o<=44311||44313<=o&&o<=44339||44341<=o&&o<=44367||44369<=o&&o<=44395||44397<=o&&o<=44423||44425<=o&&o<=44451||44453<=o&&o<=44479||44481<=o&&o<=44507||44509<=o&&o<=44535||44537<=o&&o<=44563||44565<=o&&o<=44591||44593<=o&&o<=44619||44621<=o&&o<=44647||44649<=o&&o<=44675||44677<=o&&o<=44703||44705<=o&&o<=44731||44733<=o&&o<=44759||44761<=o&&o<=44787||44789<=o&&o<=44815||44817<=o&&o<=44843||44845<=o&&o<=44871||44873<=o&&o<=44899||44901<=o&&o<=44927||44929<=o&&o<=44955||44957<=o&&o<=44983||44985<=o&&o<=45011||45013<=o&&o<=45039||45041<=o&&o<=45067||45069<=o&&o<=45095||45097<=o&&o<=45123||45125<=o&&o<=45151||45153<=o&&o<=45179||45181<=o&&o<=45207||45209<=o&&o<=45235||45237<=o&&o<=45263||45265<=o&&o<=45291||45293<=o&&o<=45319||45321<=o&&o<=45347||45349<=o&&o<=45375||45377<=o&&o<=45403||45405<=o&&o<=45431||45433<=o&&o<=45459||45461<=o&&o<=45487||45489<=o&&o<=45515||45517<=o&&o<=45543||45545<=o&&o<=45571||45573<=o&&o<=45599||45601<=o&&o<=45627||45629<=o&&o<=45655||45657<=o&&o<=45683||45685<=o&&o<=45711||45713<=o&&o<=45739||45741<=o&&o<=45767||45769<=o&&o<=45795||45797<=o&&o<=45823||45825<=o&&o<=45851||45853<=o&&o<=45879||45881<=o&&o<=45907||45909<=o&&o<=45935||45937<=o&&o<=45963||45965<=o&&o<=45991||45993<=o&&o<=46019||46021<=o&&o<=46047||46049<=o&&o<=46075||46077<=o&&o<=46103||46105<=o&&o<=46131||46133<=o&&o<=46159||46161<=o&&o<=46187||46189<=o&&o<=46215||46217<=o&&o<=46243||46245<=o&&o<=46271||46273<=o&&o<=46299||46301<=o&&o<=46327||46329<=o&&o<=46355||46357<=o&&o<=46383||46385<=o&&o<=46411||46413<=o&&o<=46439||46441<=o&&o<=46467||46469<=o&&o<=46495||46497<=o&&o<=46523||46525<=o&&o<=46551||46553<=o&&o<=46579||46581<=o&&o<=46607||46609<=o&&o<=46635||46637<=o&&o<=46663||46665<=o&&o<=46691||46693<=o&&o<=46719||46721<=o&&o<=46747||46749<=o&&o<=46775||46777<=o&&o<=46803||46805<=o&&o<=46831||46833<=o&&o<=46859||46861<=o&&o<=46887||46889<=o&&o<=46915||46917<=o&&o<=46943||46945<=o&&o<=46971||46973<=o&&o<=46999||47001<=o&&o<=47027||47029<=o&&o<=47055||47057<=o&&o<=47083||47085<=o&&o<=47111||47113<=o&&o<=47139||47141<=o&&o<=47167||47169<=o&&o<=47195||47197<=o&&o<=47223||47225<=o&&o<=47251||47253<=o&&o<=47279||47281<=o&&o<=47307||47309<=o&&o<=47335||47337<=o&&o<=47363||47365<=o&&o<=47391||47393<=o&&o<=47419||47421<=o&&o<=47447||47449<=o&&o<=47475||47477<=o&&o<=47503||47505<=o&&o<=47531||47533<=o&&o<=47559||47561<=o&&o<=47587||47589<=o&&o<=47615||47617<=o&&o<=47643||47645<=o&&o<=47671||47673<=o&&o<=47699||47701<=o&&o<=47727||47729<=o&&o<=47755||47757<=o&&o<=47783||47785<=o&&o<=47811||47813<=o&&o<=47839||47841<=o&&o<=47867||47869<=o&&o<=47895||47897<=o&&o<=47923||47925<=o&&o<=47951||47953<=o&&o<=47979||47981<=o&&o<=48007||48009<=o&&o<=48035||48037<=o&&o<=48063||48065<=o&&o<=48091||48093<=o&&o<=48119||48121<=o&&o<=48147||48149<=o&&o<=48175||48177<=o&&o<=48203||48205<=o&&o<=48231||48233<=o&&o<=48259||48261<=o&&o<=48287||48289<=o&&o<=48315||48317<=o&&o<=48343||48345<=o&&o<=48371||48373<=o&&o<=48399||48401<=o&&o<=48427||48429<=o&&o<=48455||48457<=o&&o<=48483||48485<=o&&o<=48511||48513<=o&&o<=48539||48541<=o&&o<=48567||48569<=o&&o<=48595||48597<=o&&o<=48623||48625<=o&&o<=48651||48653<=o&&o<=48679||48681<=o&&o<=48707||48709<=o&&o<=48735||48737<=o&&o<=48763||48765<=o&&o<=48791||48793<=o&&o<=48819||48821<=o&&o<=48847||48849<=o&&o<=48875||48877<=o&&o<=48903||48905<=o&&o<=48931||48933<=o&&o<=48959||48961<=o&&o<=48987||48989<=o&&o<=49015||49017<=o&&o<=49043||49045<=o&&o<=49071||49073<=o&&o<=49099||49101<=o&&o<=49127||49129<=o&&o<=49155||49157<=o&&o<=49183||49185<=o&&o<=49211||49213<=o&&o<=49239||49241<=o&&o<=49267||49269<=o&&o<=49295||49297<=o&&o<=49323||49325<=o&&o<=49351||49353<=o&&o<=49379||49381<=o&&o<=49407||49409<=o&&o<=49435||49437<=o&&o<=49463||49465<=o&&o<=49491||49493<=o&&o<=49519||49521<=o&&o<=49547||49549<=o&&o<=49575||49577<=o&&o<=49603||49605<=o&&o<=49631||49633<=o&&o<=49659||49661<=o&&o<=49687||49689<=o&&o<=49715||49717<=o&&o<=49743||49745<=o&&o<=49771||49773<=o&&o<=49799||49801<=o&&o<=49827||49829<=o&&o<=49855||49857<=o&&o<=49883||49885<=o&&o<=49911||49913<=o&&o<=49939||49941<=o&&o<=49967||49969<=o&&o<=49995||49997<=o&&o<=50023||50025<=o&&o<=50051||50053<=o&&o<=50079||50081<=o&&o<=50107||50109<=o&&o<=50135||50137<=o&&o<=50163||50165<=o&&o<=50191||50193<=o&&o<=50219||50221<=o&&o<=50247||50249<=o&&o<=50275||50277<=o&&o<=50303||50305<=o&&o<=50331||50333<=o&&o<=50359||50361<=o&&o<=50387||50389<=o&&o<=50415||50417<=o&&o<=50443||50445<=o&&o<=50471||50473<=o&&o<=50499||50501<=o&&o<=50527||50529<=o&&o<=50555||50557<=o&&o<=50583||50585<=o&&o<=50611||50613<=o&&o<=50639||50641<=o&&o<=50667||50669<=o&&o<=50695||50697<=o&&o<=50723||50725<=o&&o<=50751||50753<=o&&o<=50779||50781<=o&&o<=50807||50809<=o&&o<=50835||50837<=o&&o<=50863||50865<=o&&o<=50891||50893<=o&&o<=50919||50921<=o&&o<=50947||50949<=o&&o<=50975||50977<=o&&o<=51003||51005<=o&&o<=51031||51033<=o&&o<=51059||51061<=o&&o<=51087||51089<=o&&o<=51115||51117<=o&&o<=51143||51145<=o&&o<=51171||51173<=o&&o<=51199||51201<=o&&o<=51227||51229<=o&&o<=51255||51257<=o&&o<=51283||51285<=o&&o<=51311||51313<=o&&o<=51339||51341<=o&&o<=51367||51369<=o&&o<=51395||51397<=o&&o<=51423||51425<=o&&o<=51451||51453<=o&&o<=51479||51481<=o&&o<=51507||51509<=o&&o<=51535||51537<=o&&o<=51563||51565<=o&&o<=51591||51593<=o&&o<=51619||51621<=o&&o<=51647||51649<=o&&o<=51675||51677<=o&&o<=51703||51705<=o&&o<=51731||51733<=o&&o<=51759||51761<=o&&o<=51787||51789<=o&&o<=51815||51817<=o&&o<=51843||51845<=o&&o<=51871||51873<=o&&o<=51899||51901<=o&&o<=51927||51929<=o&&o<=51955||51957<=o&&o<=51983||51985<=o&&o<=52011||52013<=o&&o<=52039||52041<=o&&o<=52067||52069<=o&&o<=52095||52097<=o&&o<=52123||52125<=o&&o<=52151||52153<=o&&o<=52179||52181<=o&&o<=52207||52209<=o&&o<=52235||52237<=o&&o<=52263||52265<=o&&o<=52291||52293<=o&&o<=52319||52321<=o&&o<=52347||52349<=o&&o<=52375||52377<=o&&o<=52403||52405<=o&&o<=52431||52433<=o&&o<=52459||52461<=o&&o<=52487||52489<=o&&o<=52515||52517<=o&&o<=52543||52545<=o&&o<=52571||52573<=o&&o<=52599||52601<=o&&o<=52627||52629<=o&&o<=52655||52657<=o&&o<=52683||52685<=o&&o<=52711||52713<=o&&o<=52739||52741<=o&&o<=52767||52769<=o&&o<=52795||52797<=o&&o<=52823||52825<=o&&o<=52851||52853<=o&&o<=52879||52881<=o&&o<=52907||52909<=o&&o<=52935||52937<=o&&o<=52963||52965<=o&&o<=52991||52993<=o&&o<=53019||53021<=o&&o<=53047||53049<=o&&o<=53075||53077<=o&&o<=53103||53105<=o&&o<=53131||53133<=o&&o<=53159||53161<=o&&o<=53187||53189<=o&&o<=53215||53217<=o&&o<=53243||53245<=o&&o<=53271||53273<=o&&o<=53299||53301<=o&&o<=53327||53329<=o&&o<=53355||53357<=o&&o<=53383||53385<=o&&o<=53411||53413<=o&&o<=53439||53441<=o&&o<=53467||53469<=o&&o<=53495||53497<=o&&o<=53523||53525<=o&&o<=53551||53553<=o&&o<=53579||53581<=o&&o<=53607||53609<=o&&o<=53635||53637<=o&&o<=53663||53665<=o&&o<=53691||53693<=o&&o<=53719||53721<=o&&o<=53747||53749<=o&&o<=53775||53777<=o&&o<=53803||53805<=o&&o<=53831||53833<=o&&o<=53859||53861<=o&&o<=53887||53889<=o&&o<=53915||53917<=o&&o<=53943||53945<=o&&o<=53971||53973<=o&&o<=53999||54001<=o&&o<=54027||54029<=o&&o<=54055||54057<=o&&o<=54083||54085<=o&&o<=54111||54113<=o&&o<=54139||54141<=o&&o<=54167||54169<=o&&o<=54195||54197<=o&&o<=54223||54225<=o&&o<=54251||54253<=o&&o<=54279||54281<=o&&o<=54307||54309<=o&&o<=54335||54337<=o&&o<=54363||54365<=o&&o<=54391||54393<=o&&o<=54419||54421<=o&&o<=54447||54449<=o&&o<=54475||54477<=o&&o<=54503||54505<=o&&o<=54531||54533<=o&&o<=54559||54561<=o&&o<=54587||54589<=o&&o<=54615||54617<=o&&o<=54643||54645<=o&&o<=54671||54673<=o&&o<=54699||54701<=o&&o<=54727||54729<=o&&o<=54755||54757<=o&&o<=54783||54785<=o&&o<=54811||54813<=o&&o<=54839||54841<=o&&o<=54867||54869<=o&&o<=54895||54897<=o&&o<=54923||54925<=o&&o<=54951||54953<=o&&o<=54979||54981<=o&&o<=55007||55009<=o&&o<=55035||55037<=o&&o<=55063||55065<=o&&o<=55091||55093<=o&&o<=55119||55121<=o&&o<=55147||55149<=o&&o<=55175||55177<=o&&o<=55203?10:9757==o||9977==o||9994<=o&&o<=9997||127877==o||127938<=o&&o<=127940||127943==o||127946<=o&&o<=127948||128066<=o&&o<=128067||128070<=o&&o<=128080||128110==o||128112<=o&&o<=128120||128124==o||128129<=o&&o<=128131||128133<=o&&o<=128135||128170==o||128372<=o&&o<=128373||128378==o||128400==o||128405<=o&&o<=128406||128581<=o&&o<=128583||128587<=o&&o<=128591||128675==o||128692<=o&&o<=128694||128704==o||128716==o||129304<=o&&o<=129308||129310<=o&&o<=129311||129318==o||129328<=o&&o<=129337||129341<=o&&o<=129342||129489<=o&&o<=129501?n:127995<=o&&o<=127999?14:8205==o?15:9792==o||9794==o||9877<=o&&o<=9878||9992==o||10084==o||127752==o||127806==o||127859==o||127891==o||127908==o||127912==o||127979==o||127981==o||128139==o||128187<=o&&o<=128188||128295==o||128300==o||128488==o||128640==o||128658==o?i:128102<=o&&o<=128105?s:11}return this.nextBreak=function(e,t){if(void 0===t&&(t=0),t<0)return 0;if(t>=e.length-1)return e.length;for(var r=c(a(e,t)),n=[],i=t+1;i<e.length;i++)if(!o(e,i-1)){var s=c(a(e,i));if(l(r,n,s))return i;n.push(s)}return e.length},this.splitGraphemes=function(e){for(var t,r=[],n=0;(t=this.nextBreak(e,n))<e.length;)r.push(e.slice(n,t)),n=t;return n<e.length&&r.push(e.slice(n)),r},this.iterateGraphemes=function(e){var t=0,r={next:function(){var r,n;return(n=this.nextBreak(e,t))<e.length?(r=e.slice(t,n),t=n,{value:r,done:!1}):t<e.length?(r=e.slice(t),t=e.length,{value:r,done:!1}):{value:void 0,done:!0}}.bind(this)};return"undefined"!=typeof Symbol&&Symbol.iterator&&(r[Symbol.iterator]=function(){return r}),r},this.countGraphemes=function(e){for(var t,r=0,n=0;(t=this.nextBreak(e,n))<e.length;)n=t,r++;return n<e.length&&r++,r},this})});new t,e(function(e){e.exports=function(){var e,t="",r=function(r,n){if("string"!=typeof r)throw new TypeError("expected a string");if(1===n)return r;if(2===n)return r+r;var i=r.length*n;if(e!==r||void 0===e)e=r,t="";else if(t.length>=i)return t.substr(0,i);for(;i>t.length&&n>1;)1&n&&(t+=r),n>>=1,r+=r;return t=(t+=r).substr(0,i)};var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function i(e,t,n,i){var s=function(e,t,r){if(null==e||null==t)return e;var n=String(e),i="number"==typeof t?t:parseInt(t,10);if(isNaN(i)||!isFinite(i))return n;var s=n.length;if(s>=i)return n;var o=String(r);""===o&&(o=" ");for(var a=i-s;o.length<a;)o+=o;return(o.length>a?o.substr(0,a):o)+n}(String(t),n," "),o=r(" ",i.tabSize);return s+" | "+e.replace(/\t/g,o)}function s(e,t,r,n,s){return e.slice(t,r).map(function(e,r){return i(e,t+r+1,n,s)}).join("\n")}var o={extraLines:2,tabSize:4};return function(e,t,a,l){l=n({},o,l);var c=e.split(/\r\n?|\n|\f/),u=Math.max(1,t-l.extraLines)-1,h=Math.min(t+l.extraLines,c.length),d=String(h).length,p=s(c,u,t,d,l),f=i(c[t-1].substring(0,a-1),t,d,l);return[p,r(" ",f.length)+"^",s(c,t,h,d,l)].filter(Boolean).join("\n")}}()}),(new Error).stack}());const JA={iterator:()=>({next:()=>({done:!0,value:void 0})})};class ZA{constructor(e){this.version="2",this._capabilities=e,this.__cache=new Map,this.__graph=function(e){const t=FA(e);let r=OA.get(t);return r||(r=new MA(t),OA.set(t,r),Vx(t)._graph=r),r}(e),this.__destroyedCache=new Map,this.__documents=new Map}put(e){if(YA(e))return this._putDocument(e,void 0,void 0);if(function(e){return!(e instanceof Error)&&e.content&&!("data"in e.content)&&!("included"in e.content)&&"meta"in e.content}(e))return this._putDocument(e,void 0,void 0);const t=e.content,r=t.included;let n,i;const{identifierCache:s}=this._capabilities;if(r)for(n=0,i=r.length;n<i;n++)r[n]=dR(this,s,r[n]);if(Array.isArray(t.data)){i=t.data.length;const o=[];for(n=0;n<i;n++)o.push(dR(this,s,t.data[n]));return this._putDocument(e,o,r)}if(null===t.data)return this._putDocument(e,null,r);const o=dR(this,s,t.data);return this._putDocument(e,o,r)}_putDocument(e,t,r){const n=YA(e)?function(e){const t={};return e.content&&(fR(t,e.content),"errors"in e.content?t.errors=e.content.errors:"object"==typeof e.error&&"errors"in e.error?t.errors=e.error.errors:t.errors=[{title:e.message}]),t}(e):function(e){const t={},r=e.content;return r&&fR(t,r),t}(e);void 0!==t&&(n.data=t),void 0!==r&&(n.included=r);const i=e.request,s=i?this._capabilities.identifierCache.getOrCreateDocumentIdentifier(i):null;if(s){n.lid=s.lid,e.content=n;const t=this.__documents.has(s.lid);this.__documents.set(s.lid,e),this._capabilities.notifyChange(s,t?"updated":"added",null)}if("findHasMany"===e.request?.op){const t=e.request.options?.identifier,r=e.request.options?.field;r&&t&&this.__graph.push({op:"updateRelationship",record:t,field:r.name,value:n})}return n}patch(e){Array.isArray(e)?(this._capabilities,this._capabilities._store._join(()=>{for(const t of e)mR(this,t)})):mR(this,e)}mutate(e){this.__graph.update(e,!1)}peek(e){if("type"in e){const t=this.__safePeek(e,!1);if(!t)return null;const{type:r,id:n,lid:i}=e,s=Object.assign({},t.remoteAttrs,t.inflightAttrs,t.localAttrs),o={},a=this.__graph.identifiers.get(e);a&&Object.keys(a).forEach(t=>{a[t].definition.isImplicit||(o[t]=this.__graph.getData(e,t))}),this._capabilities;const l=this._capabilities._store;return this._capabilities.schema.fields(e).forEach((t,r)=>{if("alias"===t.kind)return;if(r in s&&void 0!==s[r])return;const n=nR(t,e,l);void 0!==n&&(s[r]=n)}),{type:r,id:n,lid:i,attributes:s,relationships:o}}const t=this.peekRequest(e);return t&&"content"in t?t.content:null}peekRemoteState(e){if("type"in e){const t=this.__safePeek(e,!1);if(!t)return null;const{type:r,id:n,lid:i}=e,s=Object.assign({},t.remoteAttrs),o={},a=this.__graph.identifiers.get(e);a&&Object.keys(a).forEach(t=>{a[t].definition.isImplicit||(o[t]=this.__graph.getData(e,t))}),this._capabilities;const l=this._capabilities._store;return this._capabilities.schema.fields(e).forEach((t,r)=>{if(r in s&&void 0!==s[r])return;const n=nR(t,e,l);void 0!==n&&(s[r]=n)}),{type:r,id:n,lid:i,attributes:s,relationships:o}}const t=this.peekRequest(e);return t&&"content"in t?t.content:null}peekRequest(e){return this.__documents.get(e.lid)||null}upsert(e,t,r){this._capabilities;const n=this._capabilities._store;if(!n._cbs){let i;return n._run(()=>{i=gR(this,e,t,r)}),i}return gR(this,e,t,r)}fork(){throw new Error("Not Implemented")}merge(e){throw new Error("Not Implemented")}diff(){throw new Error("Not Implemented")}dump(){throw new Error("Not Implemented")}hydrate(e){throw new Error("Not Implemented")}clientDidCreate(e,t){this._createCache(e).isNew=!0;const r={};if(void 0!==t){const n=this._capabilities.schema.fields(e),i=this.__graph,s=Object.keys(t);for(let o=0;o<s.length;o++){const a=s[o],l=t[a];if("id"===a)continue;const c=n.get(a);let u;switch(void 0!==c?"kind"in c?c.kind:"attribute":null){case"attribute":this.setAttr(e,a,l),r[a]=l;break;case"belongsTo":this.mutate({op:"replaceRelatedRecord",field:a,record:e,value:l}),u=i.get(e,a),u.state.hasReceivedData=!0,u.state.isEmpty=!1;break;case"hasMany":this.mutate({op:"replaceRelatedRecords",field:a,record:e,value:l}),u=i.get(e,a),u.state.hasReceivedData=!0,u.state.isEmpty=!1;break;default:r[a]=l}}}return this._capabilities.notifyChange(e,"added",null),r}willCommit(e){const t=this.__peek(e,!1);t.inflightAttrs?t.localAttrs&&Object.assign(t.inflightAttrs,t.localAttrs):t.inflightAttrs=t.localAttrs,t.localAttrs=null}didCommit(e,t){const r=t.content,n=t.request.op,i=r&&r.data,{identifierCache:s}=this._capabilities,o=e.id,a="deleteRecord"!==n&&i?s.updateRecordIdentifier(e,i):e,l=this.__peek(a,!1);l.isDeleted&&(this.__graph.push({op:"deleteRecord",record:a,isNew:!1}),l.isDeletionCommitted=!0,this._capabilities.notifyChange(a,"removed",null));const c=this._capabilities.schema.fields(a);let u;l.isNew=!1,i&&(i.id&&!l.id&&(l.id=i.id),a===e&&a.id!==o&&this._capabilities.notifyChange(a,"identity",null),i.relationships&&cR(this.__graph,c,a,i),u=i.attributes);const h=u&&sR(l,u,c);l.remoteAttrs=Object.assign(l.remoteAttrs||Object.create(null),l.inflightAttrs,u),l.inflightAttrs=null,hR(l,h),l.errors&&(l.errors=null,this._capabilities.notifyChange(a,"errors",null)),h?.size&&iR(this._capabilities,a,h),this._capabilities.notifyChange(a,"state",null);const d=r&&r.included;if(d)for(let p=0,f=d.length;p<f;p++)dR(this,s,d[p]);return{data:a}}commitWasRejected(e,t){const r=this.__peek(e,!1);if(r.inflightAttrs){const e=Object.keys(r.inflightAttrs);if(e.length>0){const t=r.localAttrs=r.localAttrs||Object.create(null);for(let n=0;n<e.length;n++)void 0===t[e[n]]&&(t[e[n]]=r.inflightAttrs[e[n]])}r.inflightAttrs=null}t&&(r.errors=t),this._capabilities.notifyChange(e,"errors",null)}unloadRecord(e){const t=this._capabilities;if(!this.__cache.has(e))return void zA(t)?.unload(e);const r=!this.isDeletionCommitted(e);let n=!1;const i=this.__peek(e,!1);i.isNew||i.isDeletionCommitted?zA(t)?.push({op:"deleteRecord",record:e,isNew:i.isNew}):zA(t)?.unload(e),i.localAttrs=null,i.remoteAttrs=null,i.defaultAttrs=null,i.inflightAttrs=null;const s=function(e,t){const r=[],n=[],i=new Set;for(n.push(t);n.length>0;){const s=n.shift();r.push(s),i.add(s);const o=pR(e,t).iterator();for(let e=o.next();!e.done;e=o.next()){const t=e.value;t&&!i.has(t)&&(i.add(t),n.push(t))}}return r}(t,e);if(function(e,t){for(let r=0;r<t.length;++r){const n=t[r];if(e.hasRecord(n))return!1}return!0}(t,s))for(let o=0;o<s.length;++o){const e=s[o];t.notifyChange(e,"removed",null),n=!0,t.disconnectRecord(e)}this.__cache.delete(e),this.__destroyedCache.set(e,i),1===this.__destroyedCache.size&&setTimeout(()=>{this.__destroyedCache.clear()},100),!n&&r&&t.notifyChange(e,"removed",null)}getAttr(e,t){const r=!Array.isArray(t)||1===t.length;if(Array.isArray(t)&&1===t.length&&(t=t[0]),r){const r=t,n=this.__peek(e,!0);if(!n)return;if(n.localAttrs&&r in n.localAttrs)return n.localAttrs[r];if(n.inflightAttrs&&r in n.inflightAttrs)return n.inflightAttrs[r];if(n.remoteAttrs&&r in n.remoteAttrs)return n.remoteAttrs[r];if(n.defaultAttrs&&r in n.defaultAttrs)return n.defaultAttrs[r];{const t=this._capabilities.schema.fields(e).get(r);this._capabilities;const i=nR(t,e,this._capabilities._store);return tR(t)&&(n.defaultAttrs=n.defaultAttrs||Object.create(null),n.defaultAttrs[r]=i),i}}const n=t,i=this.__peek(e,!0),s=n[0];let o=i.localAttrs&&s in i.localAttrs?i.localAttrs[s]:void 0;if(void 0===o&&(o=i.inflightAttrs&&s in i.inflightAttrs?i.inflightAttrs[s]:void 0),void 0===o&&(o=i.remoteAttrs&&s in i.remoteAttrs?i.remoteAttrs[s]:void 0),void 0!==o){for(let e=1;e<n.length;e++)if(o=o[n[e]],void 0===o)return;return o}}getRemoteAttr(e,t){const r=!Array.isArray(t)||1===t.length;if(Array.isArray(t)&&1===t.length&&(t=t[0]),r){const r=t,n=this.__peek(e,!0);if(!n)return;if(n.remoteAttrs&&r in n.remoteAttrs)return n.remoteAttrs[r];if(n.defaultAttrs&&r in n.defaultAttrs)return n.defaultAttrs[r];{const t=this._capabilities.schema.fields(e).get(r);this._capabilities;const i=nR(t,e,this._capabilities._store);return tR(t)&&(n.defaultAttrs=n.defaultAttrs||Object.create(null),n.defaultAttrs[r]=i),i}}const n=t,i=this.__peek(e,!0),s=n[0];let o=i.remoteAttrs&&s in i.remoteAttrs?i.remoteAttrs[s]:void 0;if(void 0!==o){for(let e=1;e<n.length;e++)if(o=o[n[e]],void 0===o)return;return o}}setAttr(e,t,r){const n=!Array.isArray(t)||1===t.length;if(Array.isArray(t)&&1===t.length&&(t=t[0]),n){const n=this.__peek(e,!1),i=t,s=n.inflightAttrs&&i in n.inflightAttrs?n.inflightAttrs[i]:n.remoteAttrs&&i in n.remoteAttrs?n.remoteAttrs[i]:void 0;return s!==r?(n.localAttrs=n.localAttrs||Object.create(null),n.localAttrs[i]=r,n.changes=n.changes||Object.create(null),n.changes[i]=[s,r]):n.localAttrs&&(delete n.localAttrs[i],delete n.changes[i]),n.defaultAttrs&&i in n.defaultAttrs&&delete n.defaultAttrs[i],void this._capabilities.notifyChange(e,"attributes",i)}const i=t,s=this.__peek(e,!1),o=i[0],a=s.inflightAttrs&&o in s.inflightAttrs?s.inflightAttrs[o]:s.remoteAttrs&&o in s.remoteAttrs?s.remoteAttrs[o]:void 0;let l;if(a){l=a[i[1]];for(let e=2;e<i.length;e++)l=l[i[e]]}if(l!==r){s.localAttrs=s.localAttrs||Object.create(null),s.localAttrs[o]=s.localAttrs[o]||structuredClone(a),s.changes=s.changes||Object.create(null);let e=s.localAttrs[o],t=1;for(;t<i.length-1;)e=e[i[t++]];e[i[t]]=r,s.changes[o]=[a,s.localAttrs[o]]}else if(s.localAttrs)try{if(!a)return;JSON.stringify(a)!==JSON.stringify(s.localAttrs[o])&&(delete s.localAttrs[o],delete s.changes[o])}catch{}this._capabilities.notifyChange(e,"attributes",o)}changedAttrs(e){const t=this.__peek(e,!1);return t&&t.changes||Object.create(null)}hasChangedAttrs(e){const t=this.__peek(e,!0);return!!t&&(null!==t.inflightAttrs&&Object.keys(t.inflightAttrs).length>0||null!==t.localAttrs&&Object.keys(t.localAttrs).length>0)}rollbackAttrs(e){const t=this.__peek(e,!1);let r;return t.isDeleted=!1,null!==t.localAttrs&&(r=Object.keys(t.localAttrs),t.localAttrs=null,t.changes=null),t.isNew&&(t.isDeletionCommitted=!0,t.isDeleted=!0,t.isNew=!1),t.inflightAttrs=null,t.defaultAttrs=null,t.errors&&(t.errors=null,this._capabilities.notifyChange(e,"errors",null)),this._capabilities.notifyChange(e,"state",null),r&&r.length&&iR(this._capabilities,e,new Set(r)),r||[]}changedRelationships(e){return this.__graph.getChanged(e)}hasChangedRelationships(e){return this.__graph.hasChanged(e)}rollbackRelationships(e){let t;return this._capabilities,this._capabilities._store._join(()=>{t=this.__graph.rollback(e)}),t}getRelationship(e,t){return this.__graph.getData(e,t)}getRemoteRelationship(e,t){return this.__graph.getRemoteData(e,t)}setIsDeleted(e,t){this.__peek(e,!1).isDeleted=t,this._capabilities.notifyChange(e,"state",null)}getErrors(e){return this.__peek(e,!0).errors||[]}isEmpty(e){const t=this.__safePeek(e,!0);return!t||null===t.remoteAttrs&&null===t.inflightAttrs&&null===t.localAttrs}isNew(e){return this.__safePeek(e,!0)?.isNew||!1}isDeleted(e){return this.__safePeek(e,!0)?.isDeleted||!1}isDeletionCommitted(e){return this.__safePeek(e,!0)?.isDeletionCommitted||!1}_createCache(e){const t={id:null,remoteAttrs:null,localAttrs:null,defaultAttrs:null,inflightAttrs:null,changes:null,errors:null,isNew:!1,isDeleted:!1,isDeletionCommitted:!1};return this.__cache.set(e,t),t}__safePeek(e,t){let r=this.__cache.get(e);return!r&&t&&(r=this.__destroyedCache.get(e)),r}__peek(e,t){return this.__safePeek(e,t)}}function XA(e){return Gx(e)?e.localState?[e.localState]:[]:e.additions?[...e.additions]:[]}function eR(e){return Gx(e)?e.remoteState?[e.remoteState]:[]:e.remoteState}function tR(e){return!!e&&rR(e.options)}function rR(e){return!!e&&"function"==typeof e.defaultValue}function nR(e,t,r){const n=e?.options;if(e&&(n||e.type)&&("attribute"===e.kind||"field"===e.kind)){if(rR(n))return n.defaultValue();if(n&&"defaultValue"in n)return n.defaultValue;if("attribute"!==e.kind&&e.type){const i=r.schema.transformation(e);if(i?.defaultValue)return i.defaultValue(n||null,t)}}}function iR(e,t,r){if(r)for(const n of r)e.notifyChange(t,"attributes",n);else e.notifyChange(t,"attributes",null)}function sR(e,t,r){const n=new Set,i=Object.keys(t),s=i.length,o=e.localAttrs,a=Object.assign(Object.create(null),e.remoteAttrs,e.inflightAttrs);for(let l=0;l<s;l++){const e=i[l];if(!r.has(e))continue;const s=t[e];o&&void 0!==o[e]||a[e]!==s&&n.add(e)}return n}function oR(e){return!e||null===e.remoteAttrs&&null===e.inflightAttrs&&null===e.localAttrs}function aR(e,t=!1){if(!e)return!1;const r=e.isNew,n=oR(e);return r?!e.isDeleted:!(t&&e.isDeletionCommitted||n)}function lR(e,t,r){const n=t._store.getRequestStateService();return!aR(e)&&n.getPendingRequestsForRecord(r).some(e=>"query"===e.type)}function cR(e,t,r,n){for(const i in n.relationships){const s=n.relationships[i],o=t.get(i);s&&o&&uR(o)&&e.push({op:"updateRelationship",record:r,field:i,value:s})}}function uR(e){const{kind:t}=e;return"hasMany"===t||"belongsTo"===t||"resource"===t||"collection"===t}function hR(e,t){const{localAttrs:r,remoteAttrs:n,inflightAttrs:i,defaultAttrs:s,changes:o}=e;if(!r)return e.changes=null,!1;let a=!1;const l=Object.keys(r);for(let c=0,u=l.length;c<u;c++){const e=l[c];(i&&e in i?i[e]:n&&e in n?n[e]:void 0)===r[e]&&(a=!0,t?.delete(e),delete r[e],delete o[e]),s&&e in s&&delete s[e]}return a}function dR(e,t,r){let n=t.peekRecordIdentifier(r);return n=n?t.updateRecordIdentifier(n,r):t.getOrCreateRecordIdentifier(r),e.upsert(n,r,e._capabilities.hasRecord(n)),n}function pR(e,t){const r=zA(e),n=r?.identifiers.get(t);if(!n)return JA;const i=[];Object.keys(n).forEach(e=>{const t=n[e];t&&!t.definition.isImplicit&&i.push(t)});let s=0,o=0,a=0;return{iterator:()=>({next:()=>{const e=(()=>{for(;s<i.length;){for(;o<2;){const e=0===o?XA(i[s]):eR(i[s]);for(;a<e.length;){const t=e[a++];if(null!==t)return t}a=0,o++}o=0,s++}})();return{value:e,done:void 0===e}}})}}function fR(e,t){"links"in t&&(e.links=t.links),"meta"in t&&(e.meta=t.meta)}function gR(e,t,r,n){let i;const s=e.__safePeek(t,!1),o=!!s,a=s||e._createCache(t),l=lR(s,e._capabilities,t)||!aR(s),c=!function(e){if(!e)return!0;const t=e.isNew,r=e.isDeleted,n=oR(e);return(!t||r)&&n}(s)&&!l;a.isNew&&(a.isNew=!1,e._capabilities.notifyChange(t,"identity",null),e._capabilities.notifyChange(t,"state",null));const u=e._capabilities.schema.fields(t);return n&&o&&r.attributes&&(i=sR(a,r.attributes,u)),a.remoteAttrs=Object.assign(a.remoteAttrs||Object.create(null),r.attributes),a.localAttrs&&hR(a,i)&&e._capabilities.notifyChange(t,"state",null),c||e._capabilities.notifyChange(t,"added",null),r.id&&(a.id=r.id),r.relationships&&cR(e.__graph,u,t,r),i?.size&&iR(e._capabilities,t,i),i?.size?Array.from(i):void 0}function mR(e,t){const r=Jk(t.record);switch(!r&&Zk(t.record),t.op){case"mergeIdentifiers":{const r=e.__cache.get(t.record);r&&(e.__cache.set(t.value,r),e.__cache.delete(t.record)),e.__graph.update(t,!0);break}case"update":r&&("field"in t?uR(e._capabilities.schema.fields(t.record).get(t.field))?e.__graph.push(t):e.upsert(t.record,{type:t.record.type,id:t.record.id,attributes:{[t.field]:t.value}},e._capabilities.hasRecord(t.record)):e.upsert(t.record,t.value,e._capabilities.hasRecord(t.record)));break;case"add":r?"field"in t?e.__graph.push(t):e.upsert(t.record,t.value,e._capabilities.hasRecord(t.record)):function(e,t){const r=e.__documents.get(t.record.lid),{content:n}=r;if("data"===t.field){let r=!1;return Array.isArray(n.data)?Array.isArray(t.value)?void 0!==t.index?(r=!0,n.data.splice(t.index,0,...t.value)):(r=!0,n.data.push(...t.value)):void 0!==t.index?(r=!0,n.data.splice(t.index,0,t.value)):(r=!0,n.data.push(t.value)):(r=n.data!==t.value,r&&(n.data=t.value)),void(r&&e._capabilities.notifyChange(t.record,"updated",null))}n.included=n.included||[],Array.isArray(t.value)?n.included=n.included.concat(t.value):n.included.push(t.value)}(e,t);break;case"remove":if(r)if("field"in t)e.__graph.push(t);else{const r=e.__safePeek(t.record,!1);r?(r.isDeleted=!0,r.isDeletionCommitted=!0,e.unloadRecord(t.record)):zA(e._capabilities)?.push({op:"deleteRecord",record:t.record,isNew:!1})}else"field"in t&&function(e,t){const r=e.__documents.get(t.record.lid),{content:n}=r;if("data"===t.field){let r=!1;if(Array.isArray(n.data)){const e=Array.isArray(t.value)?t.value:[t.value];for(let i=0;i<e.length;i++){const s=e[i];if(void 0!==t.index){const e=t.index<n.data.length&&n.data[t.index]===s?t.index:n.data.indexOf(s);-1!==e&&(r=!0,n.data.splice(e,1))}else{const e=n.data.indexOf(s);-1!==e&&(r=!0,n.data.splice(e,1))}}}else r=n.data===t.value,r&&(n.data=null);r&&e._capabilities.notifyChange(t.record,"updated",null)}else{n.included=n.included||[];const e=Array.isArray(t.value)?t.value:[t.value];for(const t of e){const e=n.included.indexOf(t);-1!==e&&n.included.splice(e,1)}}}(e,t)}}const yR="undefined"!=typeof fetch?(...e)=>fetch(...e):"undefined"!=typeof FastBoot?(...e)=>FastBoot.require("node-fetch")(...e):()=>{throw new Error("No Fetch Implementation Found")},bR=new Set(["updateRecord","createRecord","deleteRecord"]),_R=new Map([[400,"Bad Request"],[401,"Unauthorized"],[402,"Payment Required"],[403,"Forbidden"],[404,"Not Found"],[405,"Method Not Allowed"],[406,"Not Acceptable"],[407,"Proxy Authentication Required"],[408,"Request Timeout"],[409,"Conflict"],[410,"Gone"],[411,"Length Required"],[412,"Precondition Failed"],[413,"Payload Too Large"],[414,"URI Too Long"],[415,"Unsupported Media Type"],[416,"Range Not Satisfiable"],[417,"Expectation Failed"],[419,"Page Expired"],[420,"Enhance Your Calm"],[421,"Misdirected Request"],[422,"Unprocessable Entity"],[423,"Locked"],[424,"Failed Dependency"],[425,"Too Early"],[426,"Upgrade Required"],[428,"Precondition Required"],[429,"Too Many Requests"],[430,"Request Header Fields Too Large"],[431,"Request Header Fields Too Large"],[450,"Blocked By Windows Parental Controls"],[451,"Unavailable For Legal Reasons"],[500,"Internal Server Error"],[501,"Not Implemented"],[502,"Bad Gateway"],[503,"Service Unavailable"],[504,"Gateway Timeout"],[505,"HTTP Version Not Supported"],[506,"Variant Also Negotiates"],[507,"Insufficient Storage"],[508,"Loop Detected"],[509,"Bandwidth Limit Exceeded"],[510,"Not Extended"],[511,"Network Authentication Required"]]),vR={async request(e){let t;try{t=await yR(e.request.url,e.request)}catch(a){throw a instanceof DOMException&&"AbortError"===a.name?(a.statusText="Aborted",a.status=20,a.isRequestError=!0):(a.statusText="Unknown Network Error",a.status=0,a.isRequestError=!0),a}const r=!t.ok||t.status>=400,n=e.request.op,i=Boolean(n&&bR.has(n));if(!r&&!i&&204!==t.status&&!t.headers.has("date")){const e=new Headers(t.headers);e.set("date",(new Date).toUTCString()),t=function(e,t){const r=zk(e);return new Response(e.body,Object.assign(r,t))}(t,{headers:e})}if(e.setResponse(t),204===t.status)return null;let s="";{const r=t.body.getReader(),n=new TextDecoder;let i=e.hasRequestedStream,o=i?new TransformStream:null,a=o?.writable.getWriter();for(i&&(e.request.signal?.addEventListener("abort",()=>{i&&(o.writable.abort("Request Aborted"),o.readable.cancel("Request Aborted"))}),e.setStream(o.readable));;){const{done:t,value:l}=await r.read();if(t){i&&(i=!1,await a.ready,await a.close());break}if(s+=n.decode(l,{stream:!0}),i)await a.ready,await a.write(l);else if(e.hasRequestedStream){const t=new TextEncoder;i=!0,o=new TransformStream,e.request.signal?.addEventListener("abort",()=>{i&&(o.writable.abort("Request Aborted"),o.readable.cancel("Request Aborted"))}),e.setStream(o.readable),a=o.writable.getWriter(),await a.ready,await a.write(t.encode(s)),await a.ready,await a.write(l)}}i&&(i=!1,await a.ready,await a.close())}if(r){let r;try{r=JSON.parse(s)}catch{}const n=Array.isArray(r)?r:null!==(o=r)&&"object"==typeof o&&Array.isArray(r.errors)?r.errors:null,i=t.statusText||_R.get(t.status)||"Unknown Request Error",a=`[${t.status} ${i}] ${e.request.method??"GET"} (${t.type}) - ${t.url}`,l=n?new AggregateError(n,a):new Error(a);throw l.status=t.status,l.statusText=i,l.isRequestError=!0,l.code=l.status,l.name=l.statusText.replaceAll(" ","")+"Error",l.content=r,l}return JSON.parse(s);var o}};class wR{#Q=[];constructor(e){Object.assign(this,e),this._pending=new Map,this._deduped=new Map}useCache(e){return e[Pk]=!0,this.#Q.unshift(e),this}use(e){return this.#Q.push(...e),this}request(e){const t=this.#Q,r=e.controller||new AbortController;e.controller&&delete e.controller;const n=lk["(transient) REQ_ID"]??null??0;!function(e,t){lk["(transient) REQ_ID"]=t}(0,n+1);const i=Lk(t,e,0,{controller:r,response:null,stream:null,hasRequestedStream:!1,id:n,identifier:null}),s=function(e){return Ck.get(e)}(n),o=function(e,t){return e[yk]=!0,e.getStream=t.getStream,e.abort=t.abort,e.onFinalize=t.onFinalize,e.id=t.id,e.lid=t.lid,e}(i.then(e=>(Ik(o,{isError:!1,result:e}),Mk(n),e),e=>{throw Ik(o,{isError:!0,result:e}),Mk(n),e}),i);return s&&Ik(o,s),o}static create(e){return new this(e)}}globalThis.setWarpDriveLogging=Sk,globalThis.getWarpDriveRuntimeConfig=kk;class kR{constructor(e,t,r={}){this.__store=e,this._snapshots=null,this.modelName=t,this.adapterOptions=r.adapterOptions,this.include=r.include}get _recordArray(){return this.__store.peekAll(this.modelName)}get length(){return this._recordArray.length}snapshots(){if(null!==this._snapshots)return this._snapshots;this.__store;const{_fetchManager:e}=this.__store;return this._snapshots=this._recordArray[ex].map(t=>e.createSnapshot(t)),this._snapshots}}function SR(e,t,r,n,i,s){return e?e.normalizeResponse(t,r,n,i,s):n}class xR{constructor(e,t,r){this._store=r,this.__attributes=null,this._belongsToRelationships=Object.create(null),this._belongsToIds=Object.create(null),this._hasManyRelationships=Object.create(null),this._hasManyIds=Object.create(null);const n=!!r._instanceCache.peek(t);if(this.modelName=t.type,this.identifier=t,n&&this._attributes,this.id=t.id,this.adapterOptions=e.adapterOptions,this.include=e.include,this.modelName=t.type,n){const e=this._store.cache;this._changedAttributes=e.changedAttrs(t)}}get record(){return this._store.peekRecord(this.identifier)}get _attributes(){if(null!==this.__attributes)return this.__attributes;const e=this.__attributes=Object.create(null),{identifier:t}=this,r=this._store.schema.fields(t),n=this._store.cache;return r.forEach((r,i)=>{"attribute"===r.kind&&(e[i]=n.getAttr(t,i))}),e}get isNew(){const e=this._store.cache;return e?.isNew(this.identifier)||!1}attr(e){if(e in this._attributes)return this._attributes[e]}attributes(){return{...this._attributes}}changedAttributes(){const e=Object.create(null);if(!this._changedAttributes)return e;const t=Object.keys(this._changedAttributes);for(let r=0,n=t.length;r<n;r++){const n=t[r];e[n]=this._changedAttributes[n].slice()}return e}belongsTo(e,t){const r=!(!t||!t.id);let n;const i=this._store;if(!0===r&&e in this._belongsToIds)return this._belongsToIds[e];if(!1===r&&e in this._belongsToRelationships)return this._belongsToRelationships[e];i.schema.fields({type:this.modelName}).get(e);const{identifier:s}=this,o=this._store.cache.getRelationship(s,e),a=o&&o.data,l=a?i.identifierCache.getOrCreateRecordIdentifier(a):null;if(o&&void 0!==o.data){const e=i.cache;n=l&&!e.isDeleted(l)?r?l.id:i._fetchManager.createSnapshot(l):null}return r?this._belongsToIds[e]=n:this._belongsToRelationships[e]=n,n}hasMany(e,t){const r=!(!t||!t.ids);let n;const i=this._hasManyIds[e],s=this._hasManyRelationships[e];if(!0===r&&e in this._hasManyIds)return i;if(!1===r&&e in this._hasManyRelationships)return s;const o=this._store;o.schema.fields({type:this.modelName}).get(e);const{identifier:a}=this,l=this._store.cache.getRelationship(a,e);return l.data&&(n=[],l.data.forEach(e=>{const t=o.identifierCache.getOrCreateRecordIdentifier(e);o.cache.isDeleted(t)||(r?n.push(t.id):n.push(o._fetchManager.createSnapshot(t)))})),r?this._hasManyIds[e]=n:this._hasManyRelationships[e]=n,n}eachAttribute(e,t){this._store.schema.fields(this.identifier).forEach((r,n)=>{"attribute"===r.kind&&e.call(t,n,r)})}eachRelationship(e,t){this._store.schema.fields(this.identifier).forEach((r,n)=>{"belongsTo"!==r.kind&&"hasMany"!==r.kind||e.call(t,n,r)})}serialize(e){return this._store,this._store.serializerFor(this.modelName).serialize(this,e)}}const AR=hk(0,Symbol("SaveOp"));class RR{constructor(e){this._store=e,this._pendingFetch=new Map,this.requestCache=e.getRequestStateService(),this.isDestroyed=!1}createSnapshot(e,t={}){return new xR(t,e,this._store)}scheduleSave(e,t){const r=qk(),n={data:[{op:"saveRecord",recordIdentifier:e,options:t}]},i={snapshot:this.createSnapshot(e,t),resolver:r,identifier:e,options:t,queryRequest:n},s=this.requestCache._enqueue(r.promise,i.queryRequest);return function(e,t){const{snapshot:r,resolver:n,identifier:i,options:s}=t,o=e.adapterFor(i.type),a=s[AR],l=r.modelName,c=e.modelFor(l);let u=Promise.resolve().then(()=>o[a](e,c,r));const h=e.serializerFor(l);u=u.then(t=>{if(t)return SR(h,e,c,t,r.id,a)}),n.resolve(u)}(this._store,i),s}scheduleFetch(e,t,r){const n={data:[{op:"findRecord",recordIdentifier:e,options:t}]},i=this.getPendingFetch(e,t);if(i)return i;const s=e.type,o=qk(),a={identifier:e,resolver:o,options:t,queryRequest:n},l=o.promise,c=this._store,u=!c._instanceCache.recordIsLoaded(e);let h=this.requestCache._enqueue(l,a.queryRequest).then(r=>{r.data&&!Array.isArray(r.data)&&(r.data.lid=e.lid);const n=c._push(r,t.reload);return n&&!Array.isArray(n)?n:e},t=>{const r=c.cache;if(!r||r.isEmpty(e)||u){let t=!0;if(c._graph){const n=c._graph;r||(t=n.isReleasable(e),t||n.unload(e,!0))}(r||t)&&(c._enableAsyncFlush=!0,c._instanceCache.unloadRecord(e),c._enableAsyncFlush=null)}throw t});0===this._pendingFetch.size&&new Promise(e=>setTimeout(e,0)).then(()=>{this.flushAllPendingFetches()});const d=this._pendingFetch;let p=d.get(s);p||(p=new Map,d.set(s,p));let f=p.get(e);return f||(f=[],p.set(e,f)),f.push(a),a.promise=h,h}getPendingFetch(e,t){const r=this._pendingFetch.get(e.type)?.get(e);if(r){const e=r.find(e=>function(e={},t={}){return r=e.adapterOptions,n=t.adapterOptions,(!r||r===n||0===Object.keys(r).length)&&function(e,t){if(!e?.length)return!0;if(!t?.length)return!1;const r=(Array.isArray(e)?e:e.split(",")).sort(),n=(Array.isArray(t)?t:t.split(",")).sort();if(r.join(",")===n.join(","))return!0;for(let i=0;i<r.length;i++)if(!n.includes(r[i]))return!1;return!0}(e.include,t.include);var r,n}(t,e.options));if(e)return e.promise}}flushAllPendingFetches(){if(this.isDestroyed)return;const e=this._store;this._pendingFetch.forEach((t,r)=>function(e,t,r){const n=e.adapterFor(r);if(n.findMany&&n.coalesceFindRequests){const i=[];t.forEach((e,r)=>{e.length>1||(t.delete(r),i.push(e[0]))});const s=i.length;if(s>1){const t=new Array(s),o=new Map;for(let r=0;r<s;r++){const n=i[r];t[r]=e._fetchManager.createSnapshot(n.identifier,n.options),o.set(t[r],n)}let a;a=n.groupRecordsForFindMany?n.groupRecordsForFindMany(e,t):[t];for(let i=0,s=a.length;i<s;i++)CR(e,o,a[i],n,r)}else 1===s&&ER(e,n,i[0])}t.forEach(t=>{t.forEach(t=>{ER(e,n,t)})})}(e,t,r)),this._pendingFetch.clear()}fetchDataIfNeededForIdentifier(e,t={},r){const n=function(e,t){const r=e.cache;if(!r)return!0;const n=r.isNew(t),i=r.isDeleted(t),s=r.isEmpty(t);return(!n||i)&&s}(this._store._instanceCache,e),i=function(e,t){const r=e.store.getRequestStateService();return!e.recordIsLoaded(t)&&r.getPendingRequestsForRecord(t).some(e=>"query"===e.type)}(this._store._instanceCache,e);let s;return n?(t.reload=!0,s=this.scheduleFetch(e,t,r)):s=i?this.getPendingFetch(e,t):Promise.resolve(e),s}destroy(){this.isDestroyed=!0}}function TR(e,t,r){for(let n=0,i=t.length;n<i;n++){const i=t[n],s=e.get(i);s&&s.resolver.reject(r||new Error(`Expected: '<${i.modelName}:${i.id}>' to be present in the adapter provided payload, but it was not found.`))}}function ER(e,t,r){const n=r.identifier,i=n.type,s=e._fetchManager.createSnapshot(n,r.options),o=e.modelFor(n.type),a=n.id;let l=Promise.resolve().then(()=>t.findRecord(e,o,n.id,s));l=l.then(t=>SR(e.serializerFor(i),e,o,t,a,"findRecord")),r.resolver.resolve(l)}function CR(e,t,r,n,i){r.length>1?function(e,t,r,n){const i=e.modelFor(r);return Promise.resolve().then(()=>{const r=n.map(e=>e.id);return t.findMany(e,i,r,n)}).then(t=>SR(e.serializerFor(r),e,i,t,null,"findMany"))}(e,n,i,r).then(n=>{!function(e,t,r,n){const i=new Map;for(let l=0;l<r.length;l++){const e=r[l].id;let t=i.get(e);t||(t=[],i.set(e,t)),t.push(r[l])}const s=Array.isArray(n.included)?n.included:[],o=n.data;for(let l=0,c=o.length;l<c;l++){const e=o[l],r=i.get(e.id);i.delete(e.id),r?r.forEach(r=>{t.get(r).resolver.resolve({data:e})}):s.push(e)}if(s.length>0&&e._push({data:null,included:s},!0),0===i.size)return;const a=[];i.forEach(e=>{a.push(...e)}),TR(t,a)}(e,t,r,n)}).catch(e=>{TR(t,r,e)}):1===r.length&&ER(e,n,t.get(r[0]))}function OR(e,t,r,n){const i=t.data?function(e,t){return Array.isArray(e)?e.map(t):t(e)}(t.data,t=>{const{id:i,type:s}=t;return function(e,t,r,n){const{id:i,type:s}=e;e.relationships||(e.relationships={});const{relationships:o}=e,a=function(e,t,r,n){const{name:i}=r,{type:s}=t,o=function(e,t,r){const n=e.schema.fields(t).get(r);return n?n.options.inverse:null}(e,{type:s},i);if(o)return{inverseKey:o,kind:e.schema.fields({type:n}).get(o).kind}}(r,t,n,s);if(a){const{inverseKey:e,kind:r}=a,n=o[e]?.data;"hasMany"===r&&void 0===n||(o[e]=o[e]||{},o[e].data=function(e,t,{id:r,type:n}){const i={id:r,type:n};let s=null;if("hasMany"===t){const t=e||[];e&&e.find(e=>e.type===i.type&&e.id===i.id)||t.push(i),s=t}else{const t=e||{};Object.assign(t,i),s=t}return s}(n??null,r,t))}}(t,r,e,n),{id:i,type:s}}):null,s={};"meta"in t&&(s.meta=t.meta),"links"in t&&(s.links=t.links),"data"in t&&(s.data=i);const o={id:r.id,type:r.type,relationships:{[n.name]:s}};return Array.isArray(t.included)||(t.included=[]),t.included.push(o),t}const MR=new Set(["findRecord","findAll","query","queryRecord","findBelongsTo","findHasMany","updateRecord","createRecord","deleteRecord"]),IR={request(e,t){if(e.request.url||!e.request.op||!MR.has(e.request.op))return t(e.request);const{store:r}=e.request;switch(r._fetchManager||(r._fetchManager=new RR(r)),e.request.op){case"findRecord":return function(e){const{store:t,data:r}=e.request,{record:n,options:i}=r;let s;if(t._instanceCache.recordIsLoaded(n))if(i.reload)s=t._fetchManager.scheduleFetch(n,i,e.request);else{let r=null;const o=t.adapterFor(n.type);void 0===i.reload&&o.shouldReloadRecord&&o.shouldReloadRecord(t,r=t._fetchManager.createSnapshot(n,i))?(i.reload=!0,s=t._fetchManager.scheduleFetch(n,i,e.request)):(!1===i.backgroundReload||!i.backgroundReload&&o.shouldBackgroundReloadRecord&&!o.shouldBackgroundReloadRecord(t,r=r||t._fetchManager.createSnapshot(n,i))||(i.backgroundReload=!0,t._fetchManager.scheduleFetch(n,i,e.request)),s=Promise.resolve(n))}else s=t._fetchManager.fetchDataIfNeededForIdentifier(n,i,e.request);return s.then(e=>t.peekRecord(e))}(e);case"findAll":return function(e){const{store:t,data:r}=e.request,{type:n,options:i}=r,s=t.adapterFor(n),o=t.recordArrayManager._live.get(n),a=new kR(t,n,i);let l;return i.reload||!1!==i.reload&&(s.shouldReloadAll&&s.shouldReloadAll(t,a)||!s.shouldReloadAll&&0===a.length)?(o&&(o.isUpdating=!0),l=DR(s,t,n,a,e.request,!0)):(l=Promise.resolve(t.peekAll(n)),(i.backgroundReload||!1!==i.backgroundReload&&(!s.shouldBackgroundReloadAll||s.shouldBackgroundReloadAll(t,a)))&&(o&&(o.isUpdating=!0),DR(s,t,n,a,e.request,!1))),l}(e);case"query":return function(e){const{store:t,data:r}=e.request;let{options:n}=r;const{type:i,query:s}=r,o=t.adapterFor(i),a=n._recordArray||t.recordArrayManager.getCollection({type:i,query:s});delete n._recordArray;const l=t.modelFor(i);return Promise.resolve().then(()=>o.query(t,l,s,a,n)).then(e=>{const r=SR(t.serializerFor(i),t,l,e,null,"query"),n=t._push(r,!0);return t.recordArrayManager.populateManagedArray(a,n,r),a})}(e);case"queryRecord":return function(e){const{store:t,data:r}=e.request,{type:n,query:i,options:s}=r,o=t.adapterFor(n),a=t.modelFor(n);return Promise.resolve().then(()=>o.queryRecord(t,a,i,s)).then(e=>{const r=SR(t.serializerFor(n),t,a,e,null,"queryRecord"),i=t._push(r,!0);return i?t.peekRecord(i):null})}(e);case"findBelongsTo":return function(e){const{store:t,data:r,records:n}=e.request,{options:i,record:s,links:o,useLink:a,field:l}=r,c=n?.[0],u=c&&t._fetchManager.getPendingFetch(c,i);if(u)return u;if(a)return function(e,t,r,n,i){return Promise.resolve().then(()=>{const s=e.adapterFor(t.type),o=e._fetchManager.createSnapshot(t,i),a=r&&"string"!=typeof r?r.href:r;return s.findBelongsTo(e,o,a,n)}).then(r=>{const i=e.modelFor(n.type);let s=SR(e.serializerFor(n.type),e,i,r,null,"findBelongsTo");return s.data||s.links||s.meta?(s=OR(e,s,t,n),e._push(s,!0)):null},null)}(t,s,o.related,l,i);const h=t._fetchManager;return i.reload?h.scheduleFetch(c,i,e.request):h.fetchDataIfNeededForIdentifier(c,i,e.request)}(e);case"findHasMany":return function(e){const{store:t,data:r,records:n}=e.request,{options:i,record:s,links:o,useLink:a,field:l}=r;if(a)return function(e,t,r,n,i,s){return Promise.resolve().then(()=>{const o=t._fetchManager.createSnapshot(r,s),a=n&&"string"!=typeof n?n.href:n;return e.findHasMany(t,o,a,i)}).then(e=>{const n=t.modelFor(i.type);let s=SR(t.serializerFor(i.type),t,n,e,null,"findHasMany");return s=OR(t,s,r,i),t._push(s,!0)},null)}(t.adapterFor(s.type),t,s,o.related,l,i);const c=new Array(n.length),u=t._fetchManager;for(let h=0;h<n.length;h++){const t=n[h];c[h]=i.reload?u.scheduleFetch(t,i,e.request):u.fetchDataIfNeededForIdentifier(t,i,e.request)}return Promise.all(c)}(e);case"updateRecord":case"createRecord":case"deleteRecord":return function(e){const{store:t,data:r,op:n}=e.request,{options:i,record:s}=r;t.cache.willCommit(s,e);const o=Object.assign({[AR]:n},i);return t._fetchManager.scheduleSave(s,o).then(r=>{let i;return t._join(()=>{i=t.cache.didCommit(s,{request:e.request,content:r})}),t.lifetimes?.didRequest&&"createRecord"===n&&t.lifetimes.didRequest(e.request,{status:201},null,t),t.peekRecord(i.data)}).catch(e=>{let r=e;throw e?"string"==typeof e&&(r=new Error(e)):r=new Error("Unknown Error Occurred During Request"),function(e,t,r){if(r&&!0===r.isAdapterError&&"InvalidError"===r.code){const n=e.serializerFor(t.type);if(n&&"function"==typeof n.extractErrors){const i=n.extractErrors(e,e.modelFor(t.type),r,t.id);r.errors=function(e){const t=[];return e&&Object.keys(e).forEach(r=>{const n=function(e){return Array.isArray(e)?e:[e]}(e[r]);for(let e=0;e<n.length;e++){let i="Invalid Attribute",s=`/data/attributes/${r}`;r===PR&&(i="Invalid Document",s="/data"),t.push({title:i,detail:n[e],source:{pointer:s}})}}),t}(i)}}const n=e.cache;if(r.errors){let e=r.errors;0===e.length&&(e=[{title:"Invalid Error",detail:"",source:{pointer:"/data"}}]),n.commitWasRejected(t,e)}else n.commitWasRejected(t)}(t,s,r),r})}(e);default:return t(e.request)}}},PR="base";function DR(e,t,r,n,i,s){const o=t.modelFor(r);let a=Promise.resolve().then(()=>e.findAll(t,o,null,n));return a=a.then(e=>{const i=SR(t.serializerFor(r),t,o,e,null,"findAll");return t._push(i,s),n._recordArray.isUpdating=!1,n._recordArray}),a}function NR(e){this._adapterCache=this._adapterCache||Object.create(null);const t=Vk(e),{_adapterCache:r}=this;let n=r[t];if(n)return n;const i=Gv(this);return n=i.lookup(`adapter:${t}`),void 0!==n?(r[t]=n,n):(n=r.application||i.lookup("adapter:application"),void 0!==n?(r[t]=n,r.application=n,n):void 0)}function jR(e){this._serializerCache=this._serializerCache||Object.create(null);const t=Vk(e),{_serializerCache:r}=this;let n=r[t];if(n)return n;const i=Gv(this);return n=i.lookup(`serializer:${t}`),void 0!==n?(r[t]=n,n):(n=r.application||i.lookup("serializer:application"),void 0!==n?(r[t]=n,r.application=n,n):null)}function LR(e,t){const r=Vk(e),n=this.serializerFor(r),i=this.modelFor(r);return n.normalize(i,t)}function qR(e,t){const r=t||e,n=t?Vk(e):"application";this.serializerFor(n).pushPayload(this,r)}function FR(e,t){return this._fetchManager||(this._fetchManager=new RR(this)),this._fetchManager.createSnapshot(LS(e)).serialize(t)}function zR(){for(const e in this._adapterCache){const t=this._adapterCache[e];"function"==typeof t.destroy&&t.destroy()}for(const e in this._serializerCache){const t=this._serializerCache[e];"function"==typeof t.destroy&&t.destroy()}}const UR=hk(0,Symbol("Store")),BR=ka.create({reason:null,isPending:ts("isSettled",function(){return!hs(this,"isSettled")}).readOnly(),isSettled:ts("isRejected","isFulfilled",function(){return hs(this,"isRejected")||hs(this,"isFulfilled")}).readOnly(),isRejected:!1,isFulfilled:!1,promise:ts({get(){throw new Error("PromiseProxy's promise must be set")},set(e,t){return function(e,t){return Zl(e,{isFulfilled:!1,isRejected:!1}),t.then(t=>(e.isDestroyed||e.isDestroying||Zl(e,{content:t,isFulfilled:!0}),t),t=>{throw e.isDestroyed||e.isDestroying||Zl(e,{reason:t,isRejected:!0}),t},"Ember: PromiseProxy")}(this,t)}}),then:$R("then"),catch:$R("catch"),finally:$R("finally")});function $R(e){return function(...t){return hs(this,"promise")[e](...t)}}const HR=Object.freeze(Object.defineProperty({__proto__:null,default:BR},Symbol.toStringTag,{value:"Module"}));class VR extends Bc{}VR.PrototypeMixin.reopen(ja);const WR=Object.freeze(Object.defineProperty({__proto__:null,default:VR},Symbol.toStringTag,{value:"Module"})),KR=new WeakMap;function QR(e,t,r){let n={configurable:!0,enumerable:!0,writable:!0,initializer:null};for(let i of r)n=i(e,t,n)||n;void 0===n.initializer?Object.defineProperty(e,t,n):function(e,t,r){let n=KR.get(e);n||(n=new Map,KR.set(e,n)),n.set(t,r)}(e,t,n)}function GR(e,t,r){let n={...Object.getOwnPropertyDescriptor(e,t)};for(let i of r)n=i(e,t,n)||n;void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(e):void 0,n.initializer=void 0),Object.defineProperty(e,t,n)}function YR(e,t){let r=function(e,t){var r;let n=e.prototype;for(;n;){let e=null==(r=KR.get(n))?void 0:r.get(t);if(e)return e;n=n.prototype}}(e.constructor,t);r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(e):void 0})}const JR={willChange:"_arrangedContentArrayWillChange",didChange:"_arrangedContentArrayDidChange"};function ZR(e,t){return"[]"===t?(e._revalidate(),e._arrTag):"length"===t?(e._revalidate(),e._lengthTag):Xt(e,t)}class XR extends pc{_objectsDirtyIndex=0;_objects=null;_lengthDirty=!0;_length=0;_arrangedContent=null;_arrangedContentIsUpdating=!1;_arrangedContentTag=null;_arrangedContentRevision=null;_lengthTag=null;_arrTag=null;init(e){super.init(e),tn(this,ZR)}[Vi](){this._revalidate()}willDestroy(){this._removeArrangedContentArrayObserver()}objectAtContent(e){return ei(hs(this,"arrangedContent"),e)}replace(e,t,r){this.replaceContent(e,t,r)}replaceContent(e,t,r){yu(hs(this,"content"),e,t,r)}objectAt(e){if(this._revalidate(),null===this._objects&&(this._objects=[]),-1!==this._objectsDirtyIndex&&e>=this._objectsDirtyIndex){let e=hs(this,"arrangedContent");if(e){let t=this._objects.length=hs(e,"length");for(let e=this._objectsDirtyIndex;e<t;e++)this._objects[e]=this.objectAtContent(e)}else this._objects.length=0;this._objectsDirtyIndex=-1}return this._objects[e]}get length(){if(this._revalidate(),this._lengthDirty){let e=hs(this,"arrangedContent");this._length=e?hs(e,"length"):0,this._lengthDirty=!1}return Mt(this._lengthTag),this._length}set length(e){let t,r=this.length-e;if(0===r)return;r<0&&(t=new Array(-r),r=0);let n=hs(this,"content");n&&(yu(n,e,r,t),this._invalidate())}_updateArrangedContentArray(e){let t=null===this._objects?0:this._objects.length,r=e?hs(e,"length"):0;this._removeArrangedContentArrayObserver(),fu(this,0,t,r),this._invalidate(),gu(this,0,t,r,!1),this._addArrangedContentArrayObserver(e)}_addArrangedContentArrayObserver(e){e&&!e.isDestroyed&&(wu(e,this,JR),this._arrangedContent=e)}_removeArrangedContentArrayObserver(){this._arrangedContent&&ku(this._arrangedContent,this,JR)}_arrangedContentArrayWillChange(){}_arrangedContentArrayDidChange(e,t,r,n){fu(this,t,r,n);let i=t;i<0&&(i+=hs(this._arrangedContent,"length")+r-n),(-1===this._objectsDirtyIndex||this._objectsDirtyIndex>i)&&(this._objectsDirtyIndex=i),this._lengthDirty=!0,gu(this,t,r,n,!1)}_invalidate(){this._objectsDirtyIndex=0,this._lengthDirty=!0}_revalidate(){if(!0!==this._arrangedContentIsUpdating&&(null===this._arrangedContentTag||!ot(this._arrangedContentTag,this._arrangedContentRevision))){let e=this.get("arrangedContent");null===this._arrangedContentTag?this._addArrangedContentArrayObserver(e):(this._arrangedContentIsUpdating=!0,this._updateArrangedContentArray(e),this._arrangedContentIsUpdating=!1);let t=this._arrangedContentTag=Xt(this,"arrangedContent");this._arrangedContentRevision=st(this._arrangedContentTag),q(e)?(this._lengthTag=_t([t,ri(e,"length")]),this._arrTag=_t([t,ri(e,"[]")])):this._lengthTag=this._arrTag=t}}}XR.reopen(Vu,{arrangedContent:hp("content")});const eT=Object.freeze(Object.defineProperty({__proto__:null,default:XR},Symbol.toStringTag,{value:"Module"}));function tT(e,t){return function(e){let r;r=[];const n=e=>hs(e,t);return function(e,t,r){let n;return/@each/.test(e)?n=e.replace(/\.@each.*$/,""):(n=e,e+=".[]"),ts(e,...t,function(){let e=hs(this,n);return t=e,Array.isArray(t)||Hu.detect(t)?Qu(r.call(this,e)):Qu();var t}).readOnly()}(e,r,function(e){return Array.isArray(e),e.map(n,this)})}(`${e}.@each.${t}`)}const rT=VR.extend(BR),nT=Symbol.for("LegacyPromiseProxy"),iT=rT;class sT extends iT{get id(){const{key:e,legacySupport:t}=this._belongsToState;return t.referenceFor("belongsTo",e).id()}static{GR(this.prototype,"id",[xS])}get meta(){}static{GR(this.prototype,"meta",[ts()])}async reload(e){const{key:t,legacySupport:r}=this._belongsToState;return await r.reloadBelongsTo(t,e),this}}sT.prototype[nT]=!0;class oT{constructor(e,t){this._update(e,t),this.isDestroyed=!1,this[nT]=!0}get length(){return this["[]"],this.content?this.content.length:0}static{GR(this.prototype,"length",[xS])}get"[]"(){return this.content?.length&&this.content}static{GR(this.prototype,"[]",[xS])}forEach(e){this.content&&this.length&&this.content.forEach(e)}reload(e){return this.content.reload(e),this}then(e,t){return this.promise.then(e,t)}catch(e){return this.promise.catch(e)}finally(e){return this.promise.finally(e)}destroy(){this.isDestroyed=!0,this.content=null,this.promise=null}get links(){return this.content?this.content.links:void 0}static{GR(this.prototype,"links",[xS])}get meta(){return this.content?this.content.meta:void 0}static{GR(this.prototype,"meta",[xS])}_update(e,t){void 0!==t&&(this.content=t),this.promise=function(e,t){return e.isPending=!0,e.isSettled=!1,e.isFulfilled=!1,e.isRejected=!1,Promise.resolve(t).then(t=>(e.isPending=!1,e.isFulfilled=!0,e.isSettled=!0,e.content=t,t),t=>{throw e.isPending=!1,e.isFulfilled=!1,e.isRejected=!0,e.isSettled=!0,t})}(this,e)}static create({promise:e,content:t}){return new this(e,t)}}kS(oT.prototype,"content",null),kS(oT.prototype,"isPending",!1),kS(oT.prototype,"isRejected",!1),kS(oT.prototype,"isFulfilled",!1),kS(oT.prototype,"isSettled",!1);class aT{___token;___identifier;___relatedTokenMap;constructor(e,t,r,n,i){this.graph=t,this.key=i,this.hasManyRelationship=n,this.type=n.definition.type,this.store=e,this.___identifier=r,this.___token=e.notifications.subscribe(r,(e,t,r)=>{"relationships"===t&&r===i&&this._ref++}),this.___relatedTokenMap=new Map}destroy(){this.store.notifications.unsubscribe(this.___token),this.___relatedTokenMap.forEach(e=>{this.store.notifications.unsubscribe(e)}),this.___relatedTokenMap.clear()}get identifiers(){cT(this),this._ref;const e=this._resource(),t=this.___relatedTokenMap;return this.___relatedTokenMap=new Map,e&&e.data?e.data.map(e=>{const r=this.store.identifierCache.getOrCreateRecordIdentifier(e);let n=t.get(r);return n?t.delete(r):n=this.store.notifications.subscribe(r,(e,t,r)=>{("identity"===t||"attributes"===t&&"id"===r)&&this._ref++}),this.___relatedTokenMap.set(r,n),r}):(t.forEach(e=>{this.store.notifications.unsubscribe(e)}),t.clear(),[])}static{GR(this.prototype,"identifiers",[xS])}_resource(){return this.store.cache.getRelationship(this.___identifier,this.key)}remoteType(){const e=this._resource();return e&&e.links&&e.links.related?"link":"ids"}ids(){return this.identifiers.map(e=>e.id)}link(){const e=this._resource();if(function(e){return Boolean(e&&e.links&&e.links.related)}(e)&&e.links){const t=e.links.related;return t&&"string"!=typeof t?t.href:t}return null}links(){const e=this._resource();return e&&e.links?e.links:null}meta(){let e=null;const t=this._resource();return t&&t.meta&&"object"==typeof t.meta&&(e=t.meta),e}async push(e,t){const{store:r}=this,n=Array.isArray(e)?{data:e}:e,i=Array.isArray(n.data)&&n.data.length>0&&lT(n.data[0]),s=Array.isArray(n.data)?i?r._push(n,!0):n.data.map(e=>r.identifierCache.getOrCreateRecordIdentifier(e)):[],{identifier:o}=this.hasManyRelationship,a={};if(Array.isArray(n.data)&&(a.data=s),"links"in n&&(a.links=n.links),"meta"in n&&(a.meta=n.meta),r._join(()=>{this.graph.push({op:"updateRelationship",record:o,field:this.key,value:a})}),!t)return this.load()}_isLoaded(){if(!this.hasManyRelationship.state.hasReceivedData)return!1;const e=this.graph.getData(this.hasManyRelationship.identifier,this.key);return!!e.data&&e.data.every(e=>!0===this.store._instanceCache.recordIsLoaded(e,!0))}value(){const e=dT.get(this.___identifier);return cT(this)?e.getManyArray(this.key):(this._ref,null)}async load(e){const t=dT.get(this.___identifier);return this.hasManyRelationship.definition.isAsync||yT(this.store,this._resource())?t.getHasMany(this.key,e):t.reloadHasMany(this.key,e)}reload(e){return dT.get(this.___identifier).reloadHasMany(this.key,e)}}function lT(e){return Object.keys(e).filter(e=>"id"!==e&&"type"!==e&&"lid"!==e).length>0}function cT(e){return!!e._isLoaded()||(e.graph.get(e.___identifier,e.key).accessed=!0,!1)}function uT(e){return Boolean(e&&e.links&&e.links.related)}SS(aT.prototype,"_ref",0);class hT{constructor(e,t,r,n,i){this.graph=t,this.key=i,this.belongsToRelationship=n,this.type=n.definition.type,this.store=e,this.___identifier=r,this.___relatedToken=null,this.___token=e.notifications.subscribe(r,(e,t,r)=>{"relationships"===t&&r===i&&this._ref++})}destroy(){this.store.notifications.unsubscribe(this.___token),this.___token=null,this.___relatedToken&&(this.store.notifications.unsubscribe(this.___relatedToken),this.___relatedToken=null)}get identifier(){this.___relatedToken&&(this.store.notifications.unsubscribe(this.___relatedToken),this.___relatedToken=null);const e=this._resource();if(e&&e.data){const t=this.store.identifierCache.getOrCreateRecordIdentifier(e.data);return this.___relatedToken=this.store.notifications.subscribe(t,(e,t,r)=>{("identity"===t||"attributes"===t&&"id"===r)&&this._ref++}),t}return null}static{GR(this.prototype,"identifier",[xS])}id(){return this.identifier?.id||null}link(){const e=this._resource();if(uT(e)&&e.links){const t=e.links.related;return t&&"string"!=typeof t?t.href:t}return null}links(){const e=this._resource();return e&&e.links?e.links:null}meta(){let e=null;const t=this._resource();return t&&t.meta&&"object"==typeof t.meta&&(e=t.meta),e}_resource(){return this._ref,this.store.cache.getRelationship(this.___identifier,this.key)}remoteType(){return uT(this._resource())?"link":"id"}async push(e,t){const{store:r}=this,n=e.data&&lT(e.data)?r._push(e,!0):e.data?r.identifierCache.getOrCreateRecordIdentifier(e.data):null,{identifier:i}=this.belongsToRelationship,s={};if((e.data||null===e.data)&&(s.data=n),"links"in e&&(s.links=e.links),"meta"in e&&(s.meta=e.meta),r._join(()=>{this.graph.push({op:"updateRelationship",record:i,field:this.key,value:s})}),!t)return this.load()}value(){const e=this._resource();return e&&e.data?this.store.peekRecord(e.data):null}async load(e){const t=dT.get(this.___identifier);return this.belongsToRelationship.definition.isAsync||yT(this.store,this._resource())?t.getBelongsTo(this.key,e):t.reloadBelongsTo(this.key,e).then(()=>this.value())}reload(e){return dT.get(this.___identifier).reloadBelongsTo(this.key,e).then(()=>this.value())}}SS(hT.prototype,"_ref",0);const dT=hk(0,new Map);function pT(e){const t=LS(e);let r=dT.get(t);return r||(r=new fT(e),dT.set(t,r),dT.set(e,r)),r}class fT{constructor(e){this.record=e,this.store=zS(e),this.identifier=LS(e),this.cache=DS(e),this.store._graph&&(this.graph=this.store._graph),this._manyArrayCache=Object.create(null),this._relationshipPromisesCache=Object.create(null),this._relationshipProxyCache=Object.create(null),this._pending=Object.create(null),this.references=Object.create(null)}_syncArray(e){if(this.isDestroyed||this.isDestroying)return;const t=e[ex],r=this.identifier,[n,i]=this._getCurrentState(r,e.key);i.meta&&(e.meta=i.meta),i.links&&(e.links=i.links),t.length=0,cx(t,n)}mutate(e){this.cache.mutate(e)}_findBelongsTo(e,t,r,n){return this._findBelongsToByJsonApiResource(t,this.identifier,r,n).then(t=>mT(this,e,r,t),t=>mT(this,e,r,null,t))}reloadBelongsTo(e,t){const r=this._relationshipPromisesCache[e];if(r)return r;const n=this.graph.get(this.identifier,e),i=this.cache.getRelationship(this.identifier,e);n.state.hasFailedLoadAttempt=!1,n.state.shouldForceReload=!0;const s=this._findBelongsTo(e,i,n,t);return this._relationshipProxyCache[e]?this._updatePromiseProxyFor("belongsTo",e,{promise:s}):s}getBelongsTo(e,t){const{identifier:r,cache:n}=this,i=n.getRelationship(this.identifier,e),s=i&&i.data?i.data:null,o=this.store,a=this.graph.get(this.identifier,e),l=a.definition.isAsync,c={key:e,store:o,legacySupport:this,modelName:a.definition.type};if(l){if(a.state.hasFailedLoadAttempt)return this._relationshipProxyCache[e];const r=this._findBelongsTo(e,i,a,t),n=s&&o._instanceCache.recordIsLoaded(s);return this._updatePromiseProxyFor("belongsTo",e,{promise:r,content:n?o._instanceCache.getRecord(s):null,_belongsToState:c})}return null===s?null:o._instanceCache.getRecord(s)}setDirtyBelongsTo(e,t){return this.cache.mutate({op:"replaceRelatedRecord",record:this.identifier,field:e,value:(r=t,r?LS(r):null)},!0);var r}_getCurrentState(e,t){const r=this.cache.getRelationship(e,t),n=this.store._instanceCache,i=[];if(r.data)for(let s=0;s<r.data.length;s++){const e=r.data[s];n.recordIsLoaded(e,!0)&&i.push(e)}return[i,r]}getManyArray(e,t){if(this.graph){let r=this._manyArrayCache[e];if(t||(t=this.graph.get(this.identifier,e).definition),!r){const[n,i]=this._getCurrentState(this.identifier,e);r=new Tx({store:this.store,type:t.type,identifier:this.identifier,cache:this.cache,field:this.store.schema.fields(this.identifier).get(e),identifiers:n,key:e,meta:i.meta||null,links:i.links||null,isPolymorphic:t.isPolymorphic,isAsync:t.isAsync,_inverseIsAsync:t.inverseIsAsync,manager:this,isLoaded:!t.isAsync,allowMutation:!0}),this._manyArrayCache[e]=r}return r}}fetchAsyncHasMany(e,t,r,n){if(this.graph){let i=this._relationshipPromisesCache[e];if(i)return i;const s=this.cache.getRelationship(this.identifier,e),o=this._findHasManyByJsonApiResource(s,this.identifier,t,n);return o?(i=o.then(()=>mT(this,e,t,r),n=>mT(this,e,t,r,n)),this._relationshipPromisesCache[e]=i,i):(r.isLoaded=!0,Promise.resolve(r))}}reloadHasMany(e,t){if(this.graph){const r=this._relationshipPromisesCache[e];if(r)return r;const n=this.graph.get(this.identifier,e),{definition:i,state:s}=n;s.hasFailedLoadAttempt=!1,s.shouldForceReload=!0;const o=this.getManyArray(e,i),a=this.fetchAsyncHasMany(e,n,o,t);return this._relationshipProxyCache[e]?this._updatePromiseProxyFor("hasMany",e,{promise:a}):a}}getHasMany(e,t){if(this.graph){const r=this.graph.get(this.identifier,e),{definition:n,state:i}=r,s=this.getManyArray(e,n);if(n.isAsync){if(i.hasFailedLoadAttempt)return this._relationshipProxyCache[e];const n=this.fetchAsyncHasMany(e,r,s,t);return this._updatePromiseProxyFor("hasMany",e,{promise:n,content:s})}return s}}_updatePromiseProxyFor(e,t,r){let n=this._relationshipProxyCache[t];if("hasMany"===e){const{promise:e,content:i}=r;return n?n._update(e,i):n=this._relationshipProxyCache[t]=new oT(e,i),n}if(n){const{promise:e,content:t}=r;void 0!==t&&n.set("content",t),n.set("promise",e)}else n=sT.create(r),this._relationshipProxyCache[t]=n;return n}referenceFor(e,t){let r=this.references[t];if(!r){this.graph;const{graph:e,identifier:n}=this,i=e.get(n,t),s=i.definition.kind;"belongsTo"===s?r=new hT(this.store,e,n,i,t):"hasMany"===s&&(r=new aT(this.store,e,n,i,t)),this.references[t]=r}return r}_findHasManyByJsonApiResource(e,t,r,n={}){if(this.graph){if(!e)return;const{definition:i,state:s}=r;this.store;const o=this.store.adapterFor?.(i.type),{isStale:a,hasDematerializedInverse:l,hasReceivedData:c,isEmpty:u,shouldForceReload:h}=s,d=yT(this.store,e),p=e.data,f=e.links&&e.links.related&&("function"==typeof o?.findHasMany||void 0===p)&&(h||l||a||!d&&!u),g=this.store.schema.fields({type:i.inverseType}).get(i.key),m={useLink:f,field:g,links:e.links,meta:e.meta,options:n,record:t};if(f){const t=g.options.linksMode?{url:gT(e),op:"findHasMany",method:"GET",records:p||[],data:m,[mk]:!1}:{op:"findHasMany",records:p||[],data:m,cacheOptions:{[Symbol.for("wd:skip-cache")]:!0}};return this.store.request(t)}const y=c&&!u,b=l||u&&Array.isArray(p)&&p.length>0,_=!h&&!a&&(y||b);if(_&&d)return;return _||c&&!u||b?(n.reload=n.reload||!_||void 0,this.store.request({op:"findHasMany",records:p,data:m,cacheOptions:{[Symbol.for("wd:skip-cache")]:!0}})):void 0}}_findBelongsToByJsonApiResource(e,t,r,n={}){if(!e)return Promise.resolve(null);const i=r.definition.key;if(this._pending[i])return this._pending[i];const s=e.data?e.data:null,{isStale:o,hasDematerializedInverse:a,hasReceivedData:l,isEmpty:c,shouldForceReload:u}=r.state,h=yT(this.store,e),d=e.links?.related&&(u||a||o||!h&&!c),p=this.store.schema.fields(this.identifier).get(r.definition.key),f={useLink:d,field:p,links:e.links,meta:e.meta,options:n,record:t};if(d){const t=p.options.linksMode?{url:gT(e),op:"findBelongsTo",method:"GET",records:s?[s]:[],data:f,[mk]:!1}:{op:"findBelongsTo",records:s?[s]:[],data:f,cacheOptions:{[Symbol.for("wd:skip-cache")]:!0}},r=this.store.request(t);return this._pending[i]=r.then(e=>p.options.linksMode?e.content.data:e.content).finally(()=>{this._pending[i]=void 0}),this._pending[i]}const g=l&&h&&!c,m=a||c&&e.data,y=!u&&!o&&(g||m);return y&&!s?Promise.resolve(null):y&&h||null===s?.id?Promise.resolve(s):s?(n.reload=n.reload||!y||void 0,this._pending[i]=this.store.request({op:"findBelongsTo",records:[s],data:f,cacheOptions:{[Symbol.for("wd:skip-cache")]:!0}}).then(e=>e.content).finally(()=>{this._pending[i]=void 0}),this._pending[i]):Promise.resolve(null)}destroy(){this.isDestroying=!0;let e=this._manyArrayCache;this._manyArrayCache=Object.create(null),Object.keys(e).forEach(t=>{e[t].destroy()}),e=this._relationshipProxyCache,this._relationshipProxyCache=Object.create(null),Object.keys(e).forEach(t=>{const r=e[t];r.destroy&&r.destroy()}),e=this.references,this.references=Object.create(null),Object.keys(e).forEach(t=>{e[t].destroy()}),this.isDestroyed=!0}}function gT(e){const t=e.links?.related;return"object"==typeof t?t.href:t}function mT(e,t,r,n,i){delete e._relationshipPromisesCache[t],r.state.shouldForceReload=!1;const s="hasMany"===r.definition.kind;if(s&&_S(n[Ak]),i){r.state.hasFailedLoadAttempt=!0;const n=e._relationshipProxyCache[t];throw n&&!s&&(n.content&&n.content.isDestroying&&n.set("content",null),e.store.notifications._flush()),i}return s?n.isLoaded=!0:e.store.notifications._flush(),r.state.hasFailedLoadAttempt=!1,r.state.isStale=!1,s||!n?n:e.store.peekRecord(n)}function yT(e,t){const r=e._instanceCache,n=t.data;return Array.isArray(n)?n.every(e=>r.recordIsLoaded(e)):!n||r.recordIsLoaded(n)}const bT=XR;class _T extends bT{get errorsByAttributeName(){return new Map}static{GR(this.prototype,"errorsByAttributeName",[ts()])}errorsFor(e){const t=this.errorsByAttributeName;let r=t.get(e);return void 0===r&&(r=Qu(),t.set(e,r)),hs(r,"[]"),r}static{QR(this.prototype,"messages",[tT("content","message")])}#G=void YR(this,"messages");get content(){return Qu()}static{GR(this.prototype,"content",[ts()])}unknownProperty(e){const t=this.errorsFor(e);if(0!==t.length)return t}static{var e;QR(this.prototype,"isEmpty",[(e="length",ts(e,function(){return!hs(this,e)}))])}#Y=void YR(this,"isEmpty");add(e,t){const r=this._findOrCreateMessages(e,t);this.addObjects(r),this.errorsFor(e).addObjects(r),this.__record.currentState.notify("isValid"),this.notifyPropertyChange(e)}_findOrCreateMessages(e,t){const r=this.errorsFor(e),n=Array.isArray(t)?t:[t],i=new Array(n.length);for(let s=0;s<n.length;s++){const t=n[s],o=r.findBy("message",t);i[s]=o||{attribute:e,message:t}}return i}remove(e){if(this.isEmpty)return;const t=this.rejectBy("attribute",e);this.content.setObjects(t);const r=this.errorsFor(e);for(let n=0;n<r.length;n++)r[n].attribute===e&&r.replace(n,1);this.errorsByAttributeName.delete(e),this.__record.currentState.notify("isValid"),this.notifyPropertyChange(e),this.notifyPropertyChange("length")}clear(){if(this.isEmpty)return;const e=this.errorsByAttributeName,t=[];e.forEach(function(e,r){t.push(r)}),e.clear(),t.forEach(e=>{this.notifyPropertyChange(e)}),this.__record.currentState.notify("isValid"),super.clear()}has(e){return this.errorsFor(e).length>0}}function vT(e){return tk(e)}function wT(e,t,r,n){if("belongsTo"===n.kind)r.notifyPropertyChange(t);else if("hasMany"===n.kind){const i=dT.get(e),s=i&&i._manyArrayCache[t],o=i&&i._relationshipPromisesCache[t];if(s&&o)return;s&&(_S(s[Ak]),n.options.async&&r.notifyPropertyChange(t))}}function kT(e,t,r,n){Uc(n,r)!==e.cache.getAttr(t,r)&&n.notifyPropertyChange(r)}const ST=/^\/?data\/(attributes|relationships)\/(.*)/,xT=/^\/?data/;function AT(e){return!!e&&e instanceof Error&&"isAdapterError"in e&&!0===e.isAdapterError&&"code"in e&&"InvalidError"===e.code}class RT{constructor(e){const t=zS(e),r=LS(e);this.identifier=r,this.record=e,this.cache=t.cache,this.pendingCount=0,this.fulfilledCount=0,this.rejectedCount=0,this._errorRequests=[],this._lastError=null;const n=t.getRequestStateService(),i=t.notifications,s=e=>{if("mutation"===e.type)switch(e.state){case"pending":this.isSaving=!0;break;case"rejected":this.isSaving=!1,this._lastError=e,e.response&&AT(e.response.data)||this._errorRequests.push(e),TT(this);break;case"fulfilled":this._errorRequests=[],this._lastError=null,this.isSaving=!1,this.notify("isDirty"),TT(this)}else switch(e.state){case"pending":this.pendingCount++,this.notify("isLoading");break;case"rejected":this.pendingCount--,this._lastError=e,e.response&&AT(e.response.data)||this._errorRequests.push(e),this.notify("isLoading"),TT(this);break;case"fulfilled":this.pendingCount--,this.fulfilledCount++,this.notify("isLoading"),this.notify("isDirty"),TT(this),this._errorRequests=[],this._lastError=null}};n.subscribeForRecord(r,s);const o=n.getLastRequestForRecord(r);o&&s(o),this.handler=i.subscribe(r,(e,t)=>{switch(t){case"state":this.notify("isSaved"),this.notify("isNew"),this.notify("isDeleted"),this.notify("isDirty");break;case"attributes":this.notify("isEmpty"),this.notify("isDirty");break;case"errors":this.updateInvalidErrors(this.record.errors),this.notify("isValid")}})}destroy(){zS(this.record).notifications.unsubscribe(this.handler)}notify(e){const t=yS(fS(this),e);t&&_S(t)}updateInvalidErrors(e){const t=this.cache.getErrors(this.identifier);e.clear();for(let r=0;r<t.length;r++){const n=t[r];if(n.source&&n.source.pointer){const t=n.source.pointer.match(ST);let r;if(t?r=t[2]:-1!==n.source.pointer.search(xT)&&(r="base"),r){const t=n.detail||n.title;e.add(r,t)}}}}cleanErrorRequests(){this.notify("isValid"),this.notify("isError"),this.notify("adapterError"),this._errorRequests=[],this._lastError=null}get isLoading(){return!this.isLoaded&&this.pendingCount>0&&0===this.fulfilledCount}static{GR(this.prototype,"isLoading",[AS])}get isLoaded(){return!!this.isNew||this.fulfilledCount>0||!this.isEmpty}static{GR(this.prototype,"isLoaded",[AS])}get isSaved(){const e=this.cache;return this.isDeleted?e.isDeletionCommitted(this.identifier):!(this.isNew||this.isEmpty||!this.isValid||this.isDirty||this.isLoading)}static{GR(this.prototype,"isSaved",[AS])}get isEmpty(){const e=this.cache;return!this.isNew&&e.isEmpty(this.identifier)}static{GR(this.prototype,"isEmpty",[AS])}get isNew(){return this.cache.isNew(this.identifier)}static{GR(this.prototype,"isNew",[AS])}get isDeleted(){return this.cache.isDeleted(this.identifier)}static{GR(this.prototype,"isDeleted",[AS])}get isValid(){return 0===this.record.errors.length}static{GR(this.prototype,"isValid",[AS])}get isDirty(){const e=this.cache;return!(this.isEmpty||e.isDeletionCommitted(this.identifier)||this.isDeleted&&this.isNew)&&(this.isDeleted||this.isNew||e.hasChangedAttrs(this.identifier))}static{GR(this.prototype,"isDirty",[AS])}get isError(){return!!this._errorRequests[this._errorRequests.length-1]}static{GR(this.prototype,"isError",[AS])}get adapterError(){const e=this._lastError;return e?"rejected"===e.state&&e.response.data:null}static{GR(this.prototype,"adapterError",[AS])}get isPreloaded(){return!this.isEmpty&&this.isLoading}static{GR(this.prototype,"isPreloaded",[xS])}get stateName(){return this.isLoading?"root.loading":this.isEmpty?"root.empty":this.isDeleted?this.isSaving?"root.deleted.inFlight":this.isSaved?"root.deleted.saved":this.isValid?"root.deleted.uncommitted":"root.deleted.invalid":this.isNew?this.isSaving?"root.loaded.created.inFlight":this.isValid?"root.loaded.created.uncommitted":"root.loaded.created.invalid":this.isSaving?"root.loaded.updated.inFlight":this.isValid?this.isDirty?"root.loaded.updated.uncommitted":"root.loaded.saved":"root.loaded.updated.invalid"}static{GR(this.prototype,"stateName",[xS])}get dirtyType(){return this.isLoading||this.isEmpty?"":this.isDirty&&this.isDeleted?"deleted":this.isNew?"created":this.isSaving||!this.isValid||this.isDirty?"updated":""}static{GR(this.prototype,"dirtyType",[xS])}}function TT(e){e.notify("isValid"),e.notify("isError"),e.notify("adapterError")}function ET(e,t,r){const n=new WeakMap,i=r.get;return r.get=function(){let e=n.get(this);return e||(e={hasComputed:!1,value:void 0},n.set(this,e)),e.hasComputed||(e.value=i.call(this),e.hasComputed=!0),e.value},r}kS(RT.prototype,"isSaving",!1);class CT extends pc{init(e){const t=e._createProps,r=e._secretInit;e._createProps=null,e._secretInit=null;const n=this.store=r.store;super.init(e),this[UR]=n;const i=r.identifier;r.cb(this,r.cache,i,r.store),this.___recordState=null,this.setProperties(t);const s=n.notifications;this.___private_notifications=s.subscribe(i,(e,t,r)=>{!function(e,t,r,n,i){switch(t){case"added":case"attributes":r?kT(i,e,r,n):n.eachAttribute(t=>{kT(i,e,t,n)});break;case"relationships":if(r){const t=n.constructor.relationshipsByName.get(r);wT(e,r,n,t)}else n.eachRelationship((t,r)=>{wT(e,t,n,r)});break;case"identity":_S(yS(fS(n),"id"))}}(e,t,r,this,n)})}destroy(){const e=LS(this);this.___recordState?.destroy(),zS(this).notifications.unsubscribe(this.___private_notifications),dT.get(this)?.destroy(),dT.delete(this),dT.delete(e),super.destroy()}get isEmpty(){return this.currentState.isEmpty}static{GR(this.prototype,"isEmpty",[xS])}get isLoading(){return this.currentState.isLoading}static{GR(this.prototype,"isLoading",[xS])}get isLoaded(){return this.currentState.isLoaded}static{GR(this.prototype,"isLoaded",[xS])}get hasDirtyAttributes(){return this.currentState.isDirty}static{GR(this.prototype,"hasDirtyAttributes",[xS])}get isSaving(){return this.currentState.isSaving}static{GR(this.prototype,"isSaving",[xS])}get isDeleted(){return this.currentState.isDeleted}static{GR(this.prototype,"isDeleted",[xS])}get isNew(){return this.currentState.isNew}static{GR(this.prototype,"isNew",[xS])}get isValid(){return this.currentState.isValid}static{GR(this.prototype,"isValid",[xS])}get dirtyType(){return this.currentState.dirtyType}static{GR(this.prototype,"dirtyType",[xS])}get isError(){return this.currentState.isError}static{GR(this.prototype,"isError",[xS])}set isError(e){}get id(){return LS(this).id}static{GR(this.prototype,"id",[AS])}set id(e){const t=$k(e),r=LS(this),n=t!==r.id;null!==t&&n&&(this.store._instanceCache.setRecordId(r,t),this.store.notifications.notify(r,"identity"))}toString(){return`<model::${this.constructor.modelName}:${this.id}>`}get currentState(){return this.___recordState||(this.___recordState=new RT(this)),this.___recordState}static{GR(this.prototype,"currentState",[AS])}set currentState(e){throw new Error("cannot set currentState")}get errors(){const e=_T.create({__record:this});return this.currentState.updateInvalidErrors(e),e}static{GR(this.prototype,"errors",[ET])}get adapterError(){return this.currentState.adapterError}static{GR(this.prototype,"adapterError",[xS])}set adapterError(e){throw new Error("adapterError is not directly settable")}notifyPropertyChange(e){vS(fS(this),this,e,void 0),super.notifyPropertyChange(e)}attr(){}eachRelationship(e,t){this.constructor.eachRelationship(e,t)}relationshipFor(e){return this.constructor.relationshipsByName.get(e)}inverseFor(e){return this.constructor.inverseFor(e,zS(this))}eachAttribute(e,t){this.constructor.eachAttribute(e,t)}static isModel=!0;static modelName=null;static typeForRelationship(e,t){const r=this.relationshipsByName.get(e);return r&&t.modelFor(r.type)}static get inverseMap(){return Object.create(null)}static{GR(this,"inverseMap",[ET])}static inverseFor(e,t){const r=this.inverseMap;if(r[e])return r[e];{const n=this._findInverseFor(e,t);return r[e]=n,n}}static _findInverseFor(e,t){const r=this.relationshipsByName.get(e);if(!r)return null;const{options:n}=r;return null===n.inverse?null:t.schema.hasResource(r)&&t.schema.fields(r).get(n.inverse)||null}static get relationships(){const e=new Map;return this.relationshipsByName.forEach(t=>{const{type:r}=t;e.has(r)||e.set(r,[]),e.get(r).push(t)}),e}static{GR(this,"relationships",[ET])}static get relationshipNames(){const e={hasMany:[],belongsTo:[]};return this.eachComputedProperty((t,r)=>{OT(r)&&e[r.kind].push(t)}),e}static{GR(this,"relationshipNames",[ET])}static get relatedTypes(){const e=[],t=this.relationshipsObject,r=Object.keys(t);for(let n=0;n<r.length;n++){const i=t[r[n]].type;e.includes(i)||e.push(i)}return e}static{GR(this,"relatedTypes",[ET])}static get relationshipsByName(){const e=new Map,t=this.relationshipsObject,r=Object.keys(t);for(let n=0;n<r.length;n++){const i=t[r[n]];e.set(i.name,i)}return e}static{GR(this,"relationshipsByName",[ET])}static get relationshipsObject(){const e=Object.create(null);return this.modelName,this.eachComputedProperty((t,r)=>{OT(r)&&(r.key=t,r.name=t,e[t]=r)}),e}static{GR(this,"relationshipsObject",[ET])}static get fields(){const e=new Map;return this.eachComputedProperty((t,r)=>{OT(r)?e.set(t,r.kind):MT(r)&&e.set(t,"attribute")}),e}static{GR(this,"fields",[ET])}static eachRelationship(e,t){this.relationshipsByName.forEach((r,n)=>{e.call(t,n,r)})}static eachRelatedType(e,t){const r=this.relatedTypes;for(let n=0;n<r.length;n++){const i=r[n];e.call(t,i)}}static determineRelationshipType(e,t){const r=e.name,n=e.kind,i=this.inverseFor(r,t);return i?"belongsTo"===i.kind?"belongsTo"===n?"oneToOne":"manyToOne":"belongsTo"===n?"oneToMany":"manyToMany":"belongsTo"===n?"oneToNone":"manyToNone"}static get attributes(){const e=new Map;return this.eachComputedProperty((t,r)=>{MT(r)&&(r.key=t,r.name=t,e.set(t,r))}),e}static{GR(this,"attributes",[ET])}static get transformedAttributes(){const e=new Map;return this.eachAttribute((t,r)=>{r.type&&e.set(t,r.type)}),e}static{GR(this,"transformedAttributes",[ET])}static eachAttribute(e,t){this.attributes.forEach((r,n)=>{e.call(t,n,r)})}static eachTransformedAttribute(e,t){this.transformedAttributes.forEach((r,n)=>{e.call(t,n,r)})}static toString(){return`model:${this.modelName}`}}function OT(e){return"object"==typeof e&&null!==e&&"kind"in e&&"options"in e&&("hasMany"===e.kind||"belongsTo"===e.kind)}function MT(e){return"object"==typeof e&&null!==e&&"kind"in e&&"attribute"===e.kind}CT.prototype.save=function(e){let t;return this.currentState.isNew&&this.currentState.isDeleted?t=Promise.resolve(this):(this.errors.clear(),t=this[UR].saveRecord(this,e)),t},CT.prototype.destroyRecord=function(e){const{isNew:t}=this.currentState;return this.deleteRecord(),t?Promise.resolve(this):this.save(e).then(()=>(this.unloadRecord(),this))},CT.prototype.unloadRecord=function(){this.currentState.isNew&&(this.isDestroyed||this.isDestroying)||this[UR].unloadRecord(this)},CT.prototype.hasMany=function(e){return pT(this).referenceFor("hasMany",e)},CT.prototype.belongsTo=function(e){return pT(this).referenceFor("belongsTo",e)},CT.prototype.serialize=function(e){return this[UR],this[UR].serializeRecord(this,e)},CT.prototype._createSnapshot=function(){const e=this[UR];return e._fetchManager||(e._fetchManager=new RR(e)),e._fetchManager.createSnapshot(LS(this))},CT.prototype.deleteRecord=function(){this.currentState&&this[UR].deleteRecord(this)},CT.prototype.changedAttributes=function(){return DS(this).changedAttrs(LS(this))},CT.prototype.rollbackAttributes=function(){const{currentState:e}=this,{isNew:t}=e;this[UR]._join(()=>{DS(this).rollbackAttrs(LS(this)),this.errors.clear(),e.cleanErrorRequests(),t&&this.unloadRecord()})},CT.prototype.reload=function(e={}){e.isReloading=!0,e.reload=!0;const t=LS(this);return this.isReloading=!0,this[UR].request({op:"findRecord",data:{options:e,record:t},cacheOptions:{[Symbol.for("wd:skip-cache")]:!0}}).then(()=>this).finally(()=>{this.isReloading=!1})},kS(CT.prototype,"isReloading",!1),CT.prototype._createProps=null,CT.prototype._secretInit=null;class IT{constructor(e){this.store=e,this._schemas=new Map,this._typeMisses=new Set}resourceTypes(){return Array.from(this._schemas.keys())}hasTrait(e){return!1}resourceHasTrait(e,t){return!1}transformation(e){}derivation(e){}hashFn(e){}resource(e){const t=vT(e.type);return this._schemas.has(t)||this._loadModelSchema(t),this._schemas.get(t).schema}registerResources(e){}registerResource(e){}registerTransformation(e){}registerDerivation(e){}registerHashFn(e){}_loadModelSchema(e){const t=this.store.modelFor(e),r=t.attributes,n=Object.create(null);r.forEach((e,t)=>n[t]=e);const i=t.relationshipsObject||null,s=new Map;for(const a of Object.values(n))s.set(a.name,a);for(const a of Object.values(i))s.set(a.name,a);const o={schema:{legacy:!0,identity:{name:"id",kind:"@id"},type:e,fields:Array.from(s.values())},attributes:n,relationships:i,fields:s};return this._schemas.set(e,o),o}fields(e){const t=vT(e.type);return this._schemas.has(t)||this._loadModelSchema(t),this._schemas.get(t).fields}hasResource(e){const t=vT(e.type);return!!this._schemas.has(t)||!this._typeMisses.has(t)&&!(null===PT(this.store,t)&&(this._typeMisses.add(t),1))}}function PT(e,t){e._modelFactoryCache||(e._modelFactoryCache=Object.create(null));const r=e._modelFactoryCache;let n=r[t];if(!n){if(n=Gv(e).factoryFor(`model:${t}`),n||(n=function(e,t){const r=Gv(e),n=r.factoryFor(`mixin:${t}`),i=n&&n.class;if(i){const e=CT.extend(i);e.__isMixin=!0,e.__mixin=i,r.register(`model:${t}`,e)}return r.factoryFor(`model:${t}`)}(e,t)),!n)return null;const i=n.class;i.isModel&&(i.modelName&&Object.prototype.hasOwnProperty.call(i,"modelName")||Object.defineProperty(i,"modelName",{value:t})),r[t]=n}return n}function DT(e,t){const r=e.type,n={_createProps:t,_secretInit:{identifier:e,cache:this.cache,store:this,cb:LT}};return Yv(n,Gv(this)),PT(this,r).class.create(n)}function NT(e){e.destroy()}function jT(e){const t=PT(this,vT(e)),r=t&&t.class?t.class:null;if(r&&r.isModel&&!this._forceShim)return r}function LT(e,t,r,n){qS(e,r),FS.set(e,n),IS(e,t)}IT.prototype.doesTypeExist=function(e){return this.hasResource({type:e})},IT.prototype.attributesDefinitionFor=function(e){const t=vT(e.type);return this._schemas.has(t)||this._loadModelSchema(t),this._schemas.get(t).attributes},IT.prototype.relationshipsDefinitionFor=function(e){const t=vT(e.type);return this._schemas.has(t)||this._loadModelSchema(t),this._schemas.get(t).relationships};const qT=ct,FT=Object.freeze(Object.defineProperty({__proto__:null,buildSignalConfig:function(e){const t=e.wellknown.Array;return{createSignal:(e,r)=>r===t?[ri(e,r),ri(e,"length"),ri(e,"[]")]:ri(e,r),consumeSignal(e){if(Array.isArray(e))return Mt(e[0]),Mt(e[1]),void Mt(e[2]);Mt(e)},notifySignal(e){if(Array.isArray(e))return qT(e[0]),qT(e[1]),void qT(e[2]);qT(e)},createMemo:(e,t,r)=>{{const n=ri(e,t),i=jt(r);let s;const o=()=>{s=Lt(i)};return()=>{const e=Ft(o);return ut(n,e),Mt(e),s}}},willSyncFlushWatchers:()=>!!po.currentInstance&&!0!==po._autorun,waitFor:async e=>e}}},Symbol.toStringTag,{value:"Module"}));{const{buildSignalConfig:UC}=iw(FT);pk("signalHooks",UC({wellknown:{Array:Ak}}))}const zT=Object.freeze(Object.defineProperty({__proto__:null,default:class extends kx{constructor(e){super(e),"requestManager"in this||(this.requestManager=new wR,this.requestManager.use([IR,vR])),this.requestManager.useCache(VA)}createSchemaService(){return new IT(this)}createCache(e){return new ZA(e)}instantiateRecord(e,t){return DT.call(this,e,t)}teardownRecord(e){return NT.call(this,e)}modelFor(e){return jT.call(this,e)||super.modelFor(e)}adapterFor=NR;serializerFor=jR;pushPayload=qR;normalize=LR;serializeRecord=FR;destroy(){zR.call(this),super.destroy()}}},Symbol.toStringTag,{value:"Module"}));function UT(e){return e==e&&e!==1/0&&e!==-1/0}const BT=Object.freeze(Object.defineProperty({__proto__:null,default:class{deserialize(e,t){if("string"==typeof e){let t=e.indexOf("+");return-1!==t&&e.length-5===t?(t+=3,new Date(e.slice(0,t)+":"+e.slice(t))):new Date(e)}return"number"==typeof e?new Date(e):null==e?e:null}serialize(e,t){return e instanceof Date&&!isNaN(e)?e.toISOString():null}static create(){return new this}}},Symbol.toStringTag,{value:"Module"})),$T=Object.freeze(Object.defineProperty({__proto__:null,default:class{deserialize(e,t){if(""===e||null==e)return null;{const t=Number(e);return UT(t)?t:null}}serialize(e,t){if(""===e||null==e)return null;{const t=Number(e);return UT(t)?t:null}}static create(){return new this}}},Symbol.toStringTag,{value:"Module"})),HT=Object.freeze(Object.defineProperty({__proto__:null,default:class{deserialize(e,t){return e||""===e?String(e):null}serialize(e,t){return e||""===e?String(e):null}static create(){return new this}}},Symbol.toStringTag,{value:"Module"})),VT=Object.freeze(Object.defineProperty({__proto__:null,default:class{deserialize(e,t){return null==e&&!0===t?.allowNull?null:"boolean"==typeof e?e:"string"==typeof e?/^(true|t|1)$/i.test(e):"number"==typeof e&&1===e}serialize(e,t){return null==e&&!0===t?.allowNull?null:Boolean(e)}static create(){return new this}}},Symbol.toStringTag,{value:"Module"}));function WT(e,t){if(Symbol.iterator in e)for(let r of e)t(r);else e.forEach,e.forEach(t)}class KT{recordCaches=new Map;added=[];updated=[];removed=[];getCacheForItem(e){let t=this.recordCaches.get(e);if(!t){let r=!1;t=jt(()=>{r?this.updated.push(this.wrapRecord(e)):(this.added.push(this.wrapRecord(e)),r=!0)}),this.recordCaches.set(e,t)}return t}constructor(e,t,r,n,i,s){this.wrapRecord=i,this.release=s,this.recordArrayCache=jt(()=>{let s=new Set;Mt(Xt(e,"[]")),WT(e,e=>{Lt(this.getCacheForItem(e)),s.add(e)}),zt(()=>{this.recordCaches.forEach((e,t)=>{s.has(t)||(this.removed.push(i(t)),this.recordCaches.delete(t))})}),this.added.length>0&&(t(this.added),this.added=[]),this.updated.length>0&&(r(this.updated),this.updated=[]),this.removed.length>0&&(n(this.removed),this.removed=[])})}revalidate(){Lt(this.recordArrayCache)}}class QT{constructor(e,t,r){this.release=r;let n=!1;this.cache=jt(()=>{WT(e,()=>{}),Mt(Xt(e,"[]")),!0===n?vo(t):n=!0}),this.release=r}revalidate(){Lt(this.cache)}}class GT extends pc{releaseMethods=Qu();recordsWatchers=new Map;typeWatchers=new Map;flushWatchers=null;constructor(e){super(e),this.containerDebugAdapter=n(this).lookup("container-debug-adapter:main")}attributeLimit=3;acceptsModelName=!0;getFilters(){return Qu()}watchModelTypes(e,t){let r,n=this.getModelTypes(),i=Qu();r=n.map(e=>{let r=e.klass,n=this.wrapModelType(r,e.name);return i.push(this.observeModelType(e.name,t)),n}),e(r);let s=()=>{i.forEach(e=>e()),this.releaseMethods.removeObject(s)};return this.releaseMethods.pushObject(s),s}_nameToClass(e){if("string"==typeof e){let t=n(this).factoryFor(`model:${e}`);e=t&&t.class}return e}watchRecords(e,t,r,n){let i=this._nameToClass(e),s=this.getRecords(i,e),{recordsWatchers:o}=this,a=o.get(s);return a||(a=new KT(s,t,r,n,e=>this.wrapRecord(e),()=>{o.delete(s),this.updateFlushWatchers()}),o.set(s,a),this.updateFlushWatchers(),a.revalidate()),a.release}updateFlushWatchers(){null===this.flushWatchers?(this.typeWatchers.size>0||this.recordsWatchers.size>0)&&(this.flushWatchers=()=>{this.typeWatchers.forEach(e=>e.revalidate()),this.recordsWatchers.forEach(e=>e.revalidate())},po.on("end",this.flushWatchers)):0===this.typeWatchers.size&&0===this.recordsWatchers.size&&(po.off("end",this.flushWatchers),this.flushWatchers=null)}willDestroy(){this._super(...arguments),this.typeWatchers.forEach(e=>e.release()),this.recordsWatchers.forEach(e=>e.release()),this.releaseMethods.forEach(e=>e()),this.flushWatchers&&po.off("end",this.flushWatchers)}detect(e){return!1}columnsForType(e){return Qu()}observeModelType(e,t){let r=this._nameToClass(e),n=this.getRecords(r,e),{typeWatchers:i}=this,s=i.get(n);return s||(s=new QT(n,()=>{t([this.wrapModelType(r,e)])},()=>{i.delete(n),this.updateFlushWatchers()}),i.set(n,s),this.updateFlushWatchers(),s.revalidate()),s.release}wrapModelType(e,t){return{name:t,count:hs(this.getRecords(e,t),"length"),columns:this.columnsForType(e),object:e}}getModelTypes(){let e=this.containerDebugAdapter,t=(e.canCatalogEntriesByType("model")?e.catalogEntriesByType("model"):this._getObjectsOnNamespaces()).map(e=>({klass:this._nameToClass(e),name:e}));return t.filter(e=>this.detect(e.klass))}_getObjectsOnNamespaces(){let e=Nv.NAMESPACES,t=[];return e.forEach(e=>{for(let r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;if(!this.detect(e[r]))continue;let n=Ap(r);t.push(n)}}),t}getRecords(e,t){return Qu()}wrapRecord(e){return{object:e,columnValues:this.getRecordColumnValues(e),searchKeywords:this.getRecordKeywords(e),filterValues:this.getRecordFilterValues(e),color:this.getRecordColor(e)}}getRecordColumnValues(e){return{}}getRecordKeywords(e){return Qu()}getRecordFilterValues(e){return{}}getRecordColor(e){return null}}const YT=new WeakMap,JT=Ip??Mp,ZT=new WeakMap;function XT(){const e={},t=[],r=LS(this),n=this.store.schema.fields(r),i={name:"Attributes",properties:["id"],expand:!0},s=i.properties,o=[i];for(const a of n.values())switch(a.kind){case"attribute":s.push(a.name);break;case"belongsTo":case"hasMany":{let r=e[a.kind];void 0===r&&(r=e[a.kind]=[],o.push({name:a.kind,properties:r,expand:!0})),r.push(a.name),t.push(a.name);break}}return o.push({name:"Flags",properties:["isLoaded","hasDirtyAttributes","isSaving","isDeleted","isError","isNew","isValid"],expand:!1}),{propertyInfo:{includeOtherProperties:!0,groups:o,expensiveProperties:t}}}class eE extends GT{static{!function(e,t,r){let n={configurable:!0,enumerable:!0,writable:!0,initializer:null};for(let i of r)n=i(e,t,n)||n;void 0===n.initializer?Object.defineProperty(e,t,n):function(e,t,r){let n=YT.get(e);n||(n=new Map,YT.set(e,n)),n.set(t,r)}(e,t,n)}(this.prototype,"store",[JT("store")])}#J=void function(e,t){let r=function(e,t){var r;let n=e.prototype;for(;n;){let e=null==(r=YT.get(n))?void 0:r.get(t);if(e)return e;n=n.prototype}}(e.constructor,t);r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(e):void 0})}(this,"store");getFilters(){return[{name:"isNew",desc:"New"},{name:"isModified",desc:"Modified"},{name:"isClean",desc:"Clean"}]}_nameToClass(e){return this.store.modelFor(e)}watchModelTypes(e,t){const{store:r}=this,n=function(e){let t=ZT.get(e);return void 0===t&&(t=new Map,ZT.set(e,t)),t}(r),i=r.notifications.subscribe("resource",(i,o)=>{"added"===o&&this.watchTypeIfUnseen(r,n,i.type,e,t,s)}),s=[()=>{r.notifications.unsubscribe(i)}];Object.keys(r.identifierCache._cache.resourcesByType).forEach(e=>{n.set(e,!1)}),n.forEach((i,o)=>{this.watchTypeIfUnseen(r,n,o,e,t,s)});const o=()=>{s.forEach(e=>e()),n.forEach((e,t)=>{n.set(t,!1)}),this.releaseMethods.removeObject(o)};return this.releaseMethods.pushObject(o),o}watchTypeIfUnseen(e,t,r,n,i,s){if(!0!==t.get(r)){const o=e.modelFor(r);o.prototype._debugInfo=XT;const a=this.wrapModelType(o,r);s.push(this.observeModelType(r,i)),n([a]),t.set(r,!0)}}columnNameToDesc(e){return function(e){return ek.get(e)}((t=e,Zw.get(t)).replace(/_/g," ").trim());var t}columnsForType(e){const t=[{name:"id",desc:"Id"}];let r=0;return e.attributes.forEach((e,n)=>{if(r++>this.attributeLimit)return!1;const i=this.columnNameToDesc(n);t.push({name:n,desc:i})}),t}getRecords(e,t){if(arguments.length<2){const r=e._debugContainerKey;if(r){const e=r.match(/model:(.*)/);null!==e&&(t=e[1])}}return this.store.peekAll(t)}getRecordColumnValues(e){let t=0;const r={id:e.id};return e.eachAttribute(n=>{if(t++>this.attributeLimit)return!1;r[n]=e[n]}),r}getRecordKeywords(e){const t=[e.id];return e.eachAttribute(r=>{t.push(e[r])}),Qu(t)}getRecordFilterValues(e){return{isNew:e.isNew,isModified:e.hasDirtyAttributes&&!e.isNew,isClean:!e.hasDirtyAttributes}}getRecordColor(e){let t="black";return e.isNew?t="green":e.hasDirtyAttributes&&(t="blue"),t}observeRecord(e,t){const r=[],n=["id","isNew","hasDirtyAttributes"];return e.eachAttribute(e=>n.push(e)),n.forEach(n=>{const i=()=>{t(this.wrapRecord(e))};Di(e,n,i),r.push(function(){Ni(e,n,i)})}),function(){r.forEach(e=>e())}}}const tE=eE,rE=Object.freeze(Object.defineProperty({__proto__:null,default:tE},Symbol.toStringTag,{value:"Module"}));var nE,iE,sE;let oE=(nE=Ip("page-title"),iE=class extends b_{constructor(e){super(e),Iw(this,"tokens",sE,this),Mw(this,"tokenId",W(this)),this.tokens.push({id:this.tokenId})}compute(e,t){const r={...t,id:this.tokenId,title:e.join("")};return this.tokens.push(r),this.tokens.scheduleTitleUpdate(),""}willDestroy(){super.willDestroy(),this.tokens.remove(this.tokenId),this.tokens.scheduleTitleUpdate()}},sE=Pw(iE.prototype,"tokens",[nE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iE);function aE(e){return Wf({id:"sBvT23ai",block:'[[[8,[32,0],null,[["@model","@controller"],[[30,1],[30,0]]],null]],["@model"],[]]',moduleName:"/Users/aborovkov/anime-sync/node_modules/ember-route-template/dist/index.js",scope:()=>[e],isStrictMode:!0})}function lE(e,t){return Fn(e,t)}const cE=Cm,uE=aE($n(Wf({id:"SwANm4QO",block:'[[[1,"\\n    "],[1,[28,[32,0],["MyAnimeList Authentication"],null]],[1,"\\n\\n    "],[10,0],[14,0,"min-h-screen bg-gradient-to-br from-trakt-dark via-gray-900 to-mal-blue flex items-center justify-center"],[12],[1,"\\n      "],[10,0],[14,0,"bg-gray-800 rounded-lg p-8 max-w-md w-full mx-4"],[12],[1,"\\n\\n"],[41,[30,1,["error"]],[[[1,"          "],[10,0],[14,0,"text-center"],[12],[1,"\\n            "],[10,0],[14,0,"text-6xl mb-4"],[12],[1,""],[13],[1,"\\n            "],[10,"h1"],[14,0,"text-2xl font-bold text-white mb-4"],[12],[1,"Authentication Failed"],[13],[1,"\\n            "],[10,2],[14,0,"text-red-400 mb-6"],[12],[1,[30,1,["message"]]],[13],[1,"\\n            "],[10,3],[14,6,"/dashboard"],[14,0,"inline-block bg-mal-blue text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors"],[12],[1,"\\n              Back to Dashboard\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[1,"          "],[10,0],[14,0,"text-center"],[12],[1,"\\n            "],[10,0],[14,0,"text-6xl mb-4"],[12],[1,""],[13],[1,"\\n            "],[10,"h1"],[14,0,"text-2xl font-bold text-white mb-4"],[12],[1,"Successfully Connected!"],[13],[1,"\\n            "],[10,2],[14,0,"text-gray-300 mb-6"],[12],[1,"\\n              Your MyAnimeList account has been connected. Redirecting to dashboard...\\n            "],[13],[1,"\\n            "],[10,0],[14,0,"flex justify-center"],[12],[1,"\\n              "],[10,0],[14,0,"animate-spin rounded-full h-8 w-8 border-b-2 border-mal-blue"],[12],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@model"],["if"]]',moduleName:"/Users/aborovkov/anime-sync/app/templates/auth/mal-callback.gjs",scope:()=>[oE],isStrictMode:!0}),cE())),hE=Object.freeze(Object.defineProperty({__proto__:null,default:uE},Symbol.toStringTag,{value:"Module"}));class dE extends pd{static{yw(this.prototype,"oauth",[Ip])}#O=void _w(this,"oauth");static{yw(this.prototype,"router",[Ip])}#Z=void _w(this,"router");async model(e){const t=new URLSearchParams(window.location.search),r=t.get("code"),n=t.get("state"),i=t.get("error");if(i)return{error:!0,message:i};if(!r||!n)return{error:!0,message:"Missing authorization code or state"};try{return await this.oauth.handleMALCallback(r,n),{success:!0,service:"MyAnimeList"}}catch(s){return{error:!0,message:s.message}}}afterModel(e){e.success&&setTimeout(()=>{this.router.transitionTo("dashboard")},2e3)}}const pE=Object.freeze(Object.defineProperty({__proto__:null,default:dE},Symbol.toStringTag,{value:"Module"})),fE=aE($n(Wf({id:"blFDXEvC",block:'[[[1,"\\n    "],[1,[28,[32,0],["Trakt Authentication"],null]],[1,"\\n\\n    "],[10,0],[14,0,"min-h-screen bg-gradient-to-br from-trakt-dark via-gray-900 to-mal-blue flex items-center justify-center"],[12],[1,"\\n      "],[10,0],[14,0,"bg-gray-800 rounded-lg p-8 max-w-md w-full mx-4"],[12],[1,"\\n\\n"],[41,[30,1,["error"]],[[[1,"          "],[10,0],[14,0,"text-center"],[12],[1,"\\n            "],[10,0],[14,0,"text-6xl mb-4"],[12],[1,""],[13],[1,"\\n            "],[10,"h1"],[14,0,"text-2xl font-bold text-white mb-4"],[12],[1,"Authentication Failed"],[13],[1,"\\n            "],[10,2],[14,0,"text-red-400 mb-6"],[12],[1,[30,1,["message"]]],[13],[1,"\\n            "],[10,3],[14,6,"/dashboard"],[14,0,"inline-block bg-trakt-red text-white font-bold py-2 px-6 rounded-lg hover:bg-red-700 transition-colors"],[12],[1,"\\n              Back to Dashboard\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[1,"          "],[10,0],[14,0,"text-center"],[12],[1,"\\n            "],[10,0],[14,0,"text-6xl mb-4"],[12],[1,""],[13],[1,"\\n            "],[10,"h1"],[14,0,"text-2xl font-bold text-white mb-4"],[12],[1,"Successfully Connected!"],[13],[1,"\\n            "],[10,2],[14,0,"text-gray-300 mb-6"],[12],[1,"\\n              Your Trakt account has been connected. Redirecting to dashboard...\\n            "],[13],[1,"\\n            "],[10,0],[14,0,"flex justify-center"],[12],[1,"\\n              "],[10,0],[14,0,"animate-spin rounded-full h-8 w-8 border-b-2 border-trakt-red"],[12],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@model"],["if"]]',moduleName:"/Users/aborovkov/anime-sync/app/templates/auth/trakt-callback.gjs",scope:()=>[oE],isStrictMode:!0}),cE())),gE=Object.freeze(Object.defineProperty({__proto__:null,default:fE},Symbol.toStringTag,{value:"Module"}));class mE extends pd{static{yw(this.prototype,"oauth",[Ip])}#O=void _w(this,"oauth");static{yw(this.prototype,"router",[Ip])}#Z=void _w(this,"router");async model(e){const t=new URLSearchParams(window.location.search),r=t.get("code"),n=t.get("state"),i=t.get("error");if(i)return{error:!0,message:i};if(!r||!n)return{error:!0,message:"Missing authorization code or state"};try{return await this.oauth.handleTraktCallback(r,n),{success:!0,service:"Trakt"}}catch(s){return{error:!0,message:s.message}}}afterModel(e){e.success&&setTimeout(()=>{this.router.transitionTo("dashboard")},2e3)}}const yE=Object.freeze(Object.defineProperty({__proto__:null,default:mE},Symbol.toStringTag,{value:"Module"})),bE=new WeakMap,_E=new WeakMap;let vE=class{constructor(e,t){this.args=t,bE.set(this,!1),_E.set(this,!1)}args;get isDestroying(){return bE.get(this)||!1}get isDestroyed(){return _E.get(this)||!1}willDestroy(){}};class wE{owner;constructor(e){this.owner=e}createComponent(e,t){return new e(this.owner,t.named)}getContext(e){return e}}const kE=Pn(0,{destructor:!0,asyncLifecycleCallbacks:!1,updateHook:!1});function SE(e){e.isDestroyed||(Ue(e),function(e){_E.set(e,!0)}(e))}class xE extends wE{capabilities=kE;destroyComponent(e){e.isDestroying||(function(e){bE.set(e,!0)}(e),yo("actions",e,e.willDestroy),yo("destroy",this,SE,e))}}class AE extends vE{constructor(e,t){super(e,t),i(this,e)}}lE(e=>new xE(e),AE);const RE=Object.freeze(Object.defineProperty({__proto__:null,default:AE},Symbol.toStringTag,{value:"Module"}));function TE(e){return"object"==typeof e&&e&&"isTruthy"in e&&"boolean"==typeof e.isTruthy?e.isTruthy:Uu(e)?0!==e.length:!!e}class EE extends b_{compute(e){for(let t=0,r=e.length;t<r;t++)if(!1===TE(e[t]))return e[t];return e[e.length-1]}}function CE(e,t){return e===t}function OE(e,t,r){return r?.forceNumber&&("number"!=typeof e&&(e=Number(e)),"number"!=typeof t&&(t=Number(t))),e>t}function ME(...e){return e.every(e=>!TE(e))}class IE extends AE{get statusClass(){return this.args.isConnected?"bg-green-500/20 border-green-500":"bg-gray-700/50 border-gray-600"}get statusText(){return this.args.isConnected?"Connected":"Not Connected"}get statusIcon(){return this.args.isConnected?"":""}handleConnect(){this.args.onConnect&&this.args.onConnect()}static{bw(this.prototype,"handleConnect",[mc])}handleDisconnect(){this.args.onDisconnect&&this.args.onDisconnect()}static{bw(this.prototype,"handleDisconnect",[mc])}static{$n(Wf({id:"hG4Y90y3",block:'[[[1,"\\n    "],[10,0],[15,0,[29,["bg-gray-800 rounded-lg p-6 border-2 ",[30,0,["statusClass"]]," transition-all"]]],[12],[1,"\\n      "],[10,0],[14,0,"flex items-center justify-between mb-4"],[12],[1,"\\n        "],[10,"h3"],[14,0,"text-xl font-bold text-white"],[12],[1,[30,1]],[13],[1,"\\n        "],[10,0],[15,0,[29,["px-3 py-1 rounded-full text-sm font-medium ",[52,[30,2],"bg-green-500 text-white","bg-gray-600 text-gray-300"]]]],[12],[1,"\\n          "],[10,1],[14,0,"mr-1"],[12],[1,[30,0,["statusIcon"]]],[13],[1,"\\n          "],[1,[30,0,["statusText"]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,2],[14,0,"text-gray-400 mb-6"],[12],[1,[30,3]],[13],[1,"\\n\\n      "],[10,0],[14,0,"flex gap-3"],[12],[1,"\\n"],[41,[30,2],[[[1,"          "],[11,"button"],[24,0,"flex-1 bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors"],[24,4,"button"],[4,[32,0],["click",[30,0,["handleDisconnect"]]],null],[12],[1,"\\n            Disconnect\\n          "],[13],[1,"\\n"]],[]],[[[1,"          "],[11,"button"],[16,0,[29,["flex-1 ",[30,4]," text-white font-medium py-2 px-4 rounded-lg transition-colors"]]],[24,4,"button"],[4,[32,0],["click",[30,0,["handleConnect"]]],null],[12],[1,"\\n            Connect "],[1,[30,1]],[1,"\\n          "],[13],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@service","@isConnected","@description","@buttonClass"],["if"]]',moduleName:"/Users/aborovkov/anime-sync/app/components/connection-card.gjs",scope:()=>[pb],isStrictMode:!0}),this)}}class PE extends AE{static{yw(this.prototype,"oauth",[Ip])}#O=void _w(this,"oauth");static{yw(this.prototype,"storage",[Ip])}#C=void _w(this,"storage");static{yw(this.prototype,"router",[Ip])}#Z=void _w(this,"router");get isAuthenticatedTrakt(){return this.oauth.isAuthenticatedTrakt}get isAuthenticatedMAL(){return this.oauth.isAuthenticatedMAL}get hasRequiredKeys(){return this.storage.hasRequiredKeys()}get hasTraktKeys(){return this.storage.hasTraktKeys()}get hasMALKeys(){return this.storage.hasMALKeys()}get hasIdsMoeKey(){return!!this.storage.getUserApiKey("user_ids_moe_api_key")}async connectTrakt(){try{await this.oauth.initiateTraktAuth()}catch(e){alert(e.message)}}static{bw(this.prototype,"connectTrakt",[mc])}async connectMAL(){try{await this.oauth.initiateMALAuth()}catch(e){alert(e.message)}}static{bw(this.prototype,"connectMAL",[mc])}disconnectTrakt(){confirm("Are you sure you want to disconnect Trakt?")&&(this.oauth.logoutTrakt(),window.location.reload())}static{bw(this.prototype,"disconnectTrakt",[mc])}disconnectMAL(){confirm("Are you sure you want to disconnect MyAnimeList?")&&(this.oauth.logoutMAL(),window.location.reload())}static{bw(this.prototype,"disconnectMAL",[mc])}goToSync(){this.router.transitionTo("sync.preview")}static{bw(this.prototype,"goToSync",[mc])}static{$n(Wf({id:"u2dbwaoJ",block:'[[[1,"\\n      "],[1,[28,[32,0],["Dashboard"],null]],[1,"\\n\\n      "],[10,0],[14,0,"min-h-screen bg-gradient-to-br from-trakt-dark via-gray-900 to-mal-blue"],[12],[1,"\\n        "],[10,0],[14,0,"container mx-auto px-4 py-8"],[12],[1,"\\n\\n"],[1,"          "],[10,0],[14,0,"mb-8"],[12],[1,"\\n            "],[10,"h1"],[14,0,"text-4xl font-bold text-white mb-2"],[12],[1,"Dashboard"],[13],[1,"\\n            "],[10,2],[14,0,"text-gray-300"],[12],[1,"Manage your connections and sync your anime lists"],[13],[1,"\\n          "],[13],[1,"\\n\\n"],[41,[28,[32,1],[[30,0,["hasRequiredKeys"]]],null],[[[1,"            "],[10,0],[14,0,"mb-8"],[12],[1,"\\n              "],[10,0],[14,0,"bg-blue-900/30 border border-blue-500 rounded-lg p-6"],[12],[1,"\\n                "],[10,"h3"],[14,0,"text-blue-400 font-bold mb-2 flex items-center gap-2"],[12],[1,"\\n                  "],[10,1],[12],[1,""],[13],[1,"\\n                  API Configuration Required\\n                "],[13],[1,"\\n                "],[10,2],[14,0,"text-gray-300 mb-4"],[12],[1,"\\n                  Before you can connect your accounts, you need to configure your API credentials in Settings.\\n                "],[13],[1,"\\n                "],[10,0],[14,0,"flex flex-col gap-2 text-sm text-gray-400 mb-4"],[12],[1,"\\n                  "],[10,0],[14,0,"flex items-center gap-2"],[12],[1,"\\n                    "],[10,1],[12],[1,[52,[30,0,["hasTraktKeys"]],"",""]],[13],[1,"\\n                    "],[10,1],[12],[1,"Trakt API credentials"],[13],[1,"\\n                  "],[13],[1,"\\n                  "],[10,0],[14,0,"flex items-center gap-2"],[12],[1,"\\n                    "],[10,1],[12],[1,[52,[30,0,["hasMALKeys"]],"",""]],[13],[1,"\\n                    "],[10,1],[12],[1,"MyAnimeList API credentials"],[13],[1,"\\n                  "],[13],[1,"\\n                  "],[10,0],[14,0,"flex items-center gap-2"],[12],[1,"\\n                    "],[10,1],[12],[1,[52,[30,0,["hasIdsMoeKey"]],"",""]],[13],[1,"\\n                    "],[10,1],[12],[1,"ids.moe API key"],[13],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n                "],[8,[32,2],[[24,0,"inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors"]],[["@route"],["settings"]],[["default"],[[[[1,"\\n                  Configure API Keys in Settings \\n                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[1,"          "],[10,0],[14,0,"mb-8"],[12],[1,"\\n            "],[10,"h2"],[14,0,"text-2xl font-bold text-white mb-4"],[12],[1,"Connections"],[13],[1,"\\n            "],[10,0],[14,0,"grid md:grid-cols-2 gap-6"],[12],[1,"\\n\\n              "],[8,[32,3],null,[["@service","@description","@isConnected","@onConnect","@onDisconnect","@buttonClass"],["Trakt","Connect your Trakt.tv account to sync your watched anime.",[30,0,["isAuthenticatedTrakt"]],[30,0,["connectTrakt"]],[30,0,["disconnectTrakt"]],"bg-trakt-red hover:bg-red-700"]],null],[1,"\\n\\n              "],[8,[32,3],null,[["@service","@description","@isConnected","@onConnect","@onDisconnect","@buttonClass"],["MyAnimeList","Connect your MyAnimeList account to sync your anime list.",[30,0,["isAuthenticatedMAL"]],[30,0,["connectMAL"]],[30,0,["disconnectMAL"]],"bg-mal-blue hover:bg-blue-700"]],null],[1,"\\n\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n"],[41,[28,[32,4],[[30,0,["isAuthenticatedTrakt"]],[30,0,["isAuthenticatedMAL"]]],null],[[[1,"            "],[10,0],[14,0,"mb-8"],[12],[1,"\\n              "],[10,"h2"],[14,0,"text-2xl font-bold text-white mb-4"],[12],[1,"Sync Options"],[13],[1,"\\n              "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6"],[12],[1,"\\n                "],[10,2],[14,0,"text-gray-300 mb-6"],[12],[1,"\\n                  Both accounts are connected! You can now synchronize your anime lists.\\n                "],[13],[1,"\\n\\n                "],[10,0],[14,0,"grid md:grid-cols-2 gap-4"],[12],[1,"\\n\\n                  "],[11,"button"],[24,0,"bg-gradient-to-r from-trakt-red to-mal-lightblue hover:shadow-lg text-white font-bold py-4 px-6 rounded-lg transition-all flex items-center justify-center gap-2"],[24,4,"button"],[4,[32,5],["click",[30,0,["goToSync"]]],null],[12],[1,"\\n                    "],[10,1],[12],[1,""],[13],[1,"\\n                    Start Sync\\n                  "],[13],[1,"\\n\\n                  "],[8,[32,2],[[24,0,"bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 px-6 rounded-lg transition-colors flex items-center justify-center gap-2"]],[["@route"],["settings"]],[["default"],[[[[1,"\\n                    "],[10,1],[12],[1,""],[13],[1,"\\n                    Settings\\n                  "]],[]]]]],[1,"\\n\\n                "],[13],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[1,"            "],[10,0],[14,0,"mb-8"],[12],[1,"\\n              "],[10,0],[14,0,"bg-yellow-900/30 border border-yellow-600 rounded-lg p-6"],[12],[1,"\\n                "],[10,"h3"],[14,0,"text-yellow-400 font-bold mb-2 flex items-center gap-2"],[12],[1,"\\n                  "],[10,1],[12],[1,""],[13],[1,"\\n                  Connection Required\\n                "],[13],[1,"\\n                "],[10,2],[14,0,"text-gray-300"],[12],[1,"\\n                  Please connect both Trakt and MyAnimeList accounts to enable synchronization.\\n                "],[13],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]]],[1,"\\n"],[1,"          "],[10,0],[14,0,"grid md:grid-cols-3 gap-6"],[12],[1,"\\n\\n            "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6"],[12],[1,"\\n              "],[10,"h3"],[14,0,"text-gray-400 text-sm font-medium mb-2"],[12],[1,"Status"],[13],[1,"\\n              "],[10,2],[14,0,"text-2xl font-bold text-white"],[12],[1,"\\n"],[41,[28,[32,4],[[30,0,["isAuthenticatedTrakt"]],[30,0,["isAuthenticatedMAL"]]],null],[[[1,"                  Ready to Sync\\n"]],[]],[[[1,"                  Not Ready\\n"]],[]]],[1,"              "],[13],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6"],[12],[1,"\\n              "],[10,"h3"],[14,0,"text-gray-400 text-sm font-medium mb-2"],[12],[1,"Trakt"],[13],[1,"\\n              "],[10,2],[15,0,[29,["text-2xl font-bold ",[52,[30,0,["isAuthenticatedTrakt"]],"text-green-400","text-gray-500"]]]],[12],[1,"\\n                "],[1,[52,[30,0,["isAuthenticatedTrakt"]],"Connected","Disconnected"]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6"],[12],[1,"\\n              "],[10,"h3"],[14,0,"text-gray-400 text-sm font-medium mb-2"],[12],[1,"MyAnimeList"],[13],[1,"\\n              "],[10,2],[15,0,[29,["text-2xl font-bold ",[52,[30,0,["isAuthenticatedMAL"]],"text-green-400","text-gray-500"]]]],[12],[1,"\\n                "],[1,[52,[30,0,["isAuthenticatedMAL"]],"Connected","Disconnected"]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n\\n          "],[13],[1,"\\n\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "]],[],["if"]]',moduleName:"/Users/aborovkov/anime-sync/app/templates/dashboard.gjs",scope:()=>[oE,ME,Ub,IE,EE,pb],isStrictMode:!0}),this)}}const DE=aE(PE),NE=Object.freeze(Object.defineProperty({__proto__:null,default:DE},Symbol.toStringTag,{value:"Module"})),jE=Object.freeze(Object.defineProperty({__proto__:null,default:class extends pd{}},Symbol.toStringTag,{value:"Module"})),LE=$n(Wf({id:"31cLRpUm",block:'[[[1,"\\n  "],[1,[28,[32,0],["Trakt  MyAnimeList Sync"],null]],[1,"\\n\\n  "],[10,0],[14,0,"min-h-screen bg-gradient-to-br from-trakt-dark via-gray-900 to-mal-blue"],[12],[1,"\\n    "],[10,0],[14,0,"container mx-auto px-4 py-16"],[12],[1,"\\n\\n"],[1,"      "],[10,0],[14,0,"text-center mb-16"],[12],[1,"\\n        "],[10,"h1"],[14,0,"text-5xl md:text-6xl font-bold text-white mb-6"],[12],[1,"\\n          Trakt  MyAnimeList\\n          "],[10,1],[14,0,"block text-transparent bg-clip-text bg-gradient-to-r from-trakt-red to-mal-lightblue"],[12],[1,"\\n            Sync Made Easy\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,2],[14,0,"text-xl text-gray-300 mb-8 max-w-2xl mx-auto"],[12],[1,"\\n          Seamlessly synchronize your anime lists between Trakt.tv and MyAnimeList.\\n          Keep your watch history in sync across both platforms.\\n        "],[13],[1,"\\n        "],[8,[32,1],[[24,0,"inline-block bg-gradient-to-r from-trakt-red to-mal-lightblue text-white font-bold py-4 px-8 rounded-lg text-lg hover:shadow-lg hover:scale-105 transition-all duration-200"]],[["@route"],["dashboard"]],[["default"],[[[[1,"\\n          Get Started\\n        "]],[]]]]],[1,"\\n      "],[13],[1,"\\n\\n"],[1,"      "],[10,0],[14,0,"grid md:grid-cols-3 gap-8 mb-16"],[12],[1,"\\n\\n        "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors"],[12],[1,"\\n          "],[10,0],[14,0,"text-4xl mb-4"],[12],[1,""],[13],[1,"\\n          "],[10,"h3"],[14,0,"text-xl font-bold text-white mb-2"],[12],[1,"Bidirectional Sync"],[13],[1,"\\n          "],[10,2],[14,0,"text-gray-400"],[12],[1,"\\n            Transfer your anime lists in either direction. Trakt to MAL or MAL to Trakt - you choose.\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors"],[12],[1,"\\n          "],[10,0],[14,0,"text-4xl mb-4"],[12],[1,""],[13],[1,"\\n          "],[10,"h3"],[14,0,"text-xl font-bold text-white mb-2"],[12],[1,"Secure Authentication"],[13],[1,"\\n          "],[10,2],[14,0,"text-gray-400"],[12],[1,"\\n            OAuth 2.0 with PKCE flow. Your credentials stay safe and are never stored on our servers.\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors"],[12],[1,"\\n          "],[10,0],[14,0,"text-4xl mb-4"],[12],[1,""],[13],[1,"\\n          "],[10,"h3"],[14,0,"text-xl font-bold text-white mb-2"],[12],[1,"Smart Mapping"],[13],[1,"\\n          "],[10,2],[14,0,"text-gray-400"],[12],[1,"\\n            Automatic anime ID matching using anime-offline-database for accurate synchronization.\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors"],[12],[1,"\\n          "],[10,0],[14,0,"text-4xl mb-4"],[12],[1,""],[13],[1,"\\n          "],[10,"h3"],[14,0,"text-xl font-bold text-white mb-2"],[12],[1,"Preview Changes"],[13],[1,"\\n          "],[10,2],[14,0,"text-gray-400"],[12],[1,"\\n            Review all changes before syncing. You\'re always in control of what gets updated.\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors"],[12],[1,"\\n          "],[10,0],[14,0,"text-4xl mb-4"],[12],[1,""],[13],[1,"\\n          "],[10,"h3"],[14,0,"text-xl font-bold text-white mb-2"],[12],[1,"Offline Support"],[13],[1,"\\n          "],[10,2],[14,0,"text-gray-400"],[12],[1,"\\n            Smart caching with IndexedDB for faster performance and offline capabilities.\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors"],[12],[1,"\\n          "],[10,0],[14,0,"text-4xl mb-4"],[12],[1,""],[13],[1,"\\n          "],[10,"h3"],[14,0,"text-xl font-bold text-white mb-2"],[12],[1,"Rate Limited"],[13],[1,"\\n          "],[10,2],[14,0,"text-gray-400"],[12],[1,"\\n            Respects API limits automatically. No worries about getting blocked or throttled.\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n      "],[13],[1,"\\n\\n"],[1,"      "],[10,0],[14,0,"bg-gray-800 rounded-lg p-8 mb-16"],[12],[1,"\\n        "],[10,"h2"],[14,0,"text-3xl font-bold text-white mb-6 text-center"],[12],[1,"How It Works"],[13],[1,"\\n        "],[10,0],[14,0,"grid md:grid-cols-4 gap-6"],[12],[1,"\\n\\n          "],[10,0],[14,0,"text-center"],[12],[1,"\\n            "],[10,0],[14,0,"bg-trakt-red text-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-xl"],[12],[1,"\\n              1\\n            "],[13],[1,"\\n            "],[10,"h4"],[14,0,"text-white font-bold mb-2"],[12],[1,"Connect"],[13],[1,"\\n            "],[10,2],[14,0,"text-gray-400 text-sm"],[12],[1,"Link your Trakt and MyAnimeList accounts"],[13],[1,"\\n          "],[13],[1,"\\n\\n          "],[10,0],[14,0,"text-center"],[12],[1,"\\n            "],[10,0],[14,0,"bg-mal-blue text-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-xl"],[12],[1,"\\n              2\\n            "],[13],[1,"\\n            "],[10,"h4"],[14,0,"text-white font-bold mb-2"],[12],[1,"Analyze"],[13],[1,"\\n            "],[10,2],[14,0,"text-gray-400 text-sm"],[12],[1,"We compare your lists and find differences"],[13],[1,"\\n          "],[13],[1,"\\n\\n          "],[10,0],[14,0,"text-center"],[12],[1,"\\n            "],[10,0],[14,0,"bg-trakt-red text-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-xl"],[12],[1,"\\n              3\\n            "],[13],[1,"\\n            "],[10,"h4"],[14,0,"text-white font-bold mb-2"],[12],[1,"Preview"],[13],[1,"\\n            "],[10,2],[14,0,"text-gray-400 text-sm"],[12],[1,"Review what will be synced before proceeding"],[13],[1,"\\n          "],[13],[1,"\\n\\n          "],[10,0],[14,0,"text-center"],[12],[1,"\\n            "],[10,0],[14,0,"bg-mal-blue text-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-xl"],[12],[1,"\\n              4\\n            "],[13],[1,"\\n            "],[10,"h4"],[14,0,"text-white font-bold mb-2"],[12],[1,"Sync"],[13],[1,"\\n            "],[10,2],[14,0,"text-gray-400 text-sm"],[12],[1,"Sit back while we sync your anime lists"],[13],[1,"\\n          "],[13],[1,"\\n\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n"],[1,"      "],[10,0],[14,0,"text-center"],[12],[1,"\\n        "],[10,"h2"],[14,0,"text-3xl font-bold text-white mb-4"],[12],[1,"Ready to get started?"],[13],[1,"\\n        "],[10,2],[14,0,"text-gray-300 mb-6"],[12],[1,"Connect your accounts and start syncing in minutes."],[13],[1,"\\n        "],[8,[32,1],[[24,0,"inline-block bg-white text-gray-900 font-bold py-3 px-6 rounded-lg hover:bg-gray-100 transition-colors"]],[["@route"],["dashboard"]],[["default"],[[[[1,"\\n          Go to Dashboard \\n        "]],[]]]]],[1,"\\n      "],[13],[1,"\\n\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[],[]]',moduleName:"/Users/aborovkov/anime-sync/app/templates/index.gjs",scope:()=>[oE,Ub],isStrictMode:!0}),cE()),qE=Object.freeze(Object.defineProperty({__proto__:null,default:LE},Symbol.toStringTag,{value:"Module"})),FE=Object.freeze(Object.defineProperty({__proto__:null,default:class extends pd{}},Symbol.toStringTag,{value:"Module"}));class zE extends AE{static{yw(this.prototype,"traktCopied",[_s],function(){return!1})}#X=void _w(this,"traktCopied");static{yw(this.prototype,"malCopied",[_s],function(){return!1})}#ee=void _w(this,"malCopied");get traktRedirectUri(){return`${ew.APP.APP_URL}/auth/trakt-callback`}get malRedirectUri(){return`${ew.APP.APP_URL}/auth/mal-callback`}async copyTraktUri(){try{await navigator.clipboard.writeText(this.traktRedirectUri),this.traktCopied=!0,setTimeout(()=>{this.traktCopied=!1},2e3)}catch(e){console.error("Failed to copy Trakt redirect URI:",e)}}static{bw(this.prototype,"copyTraktUri",[mc])}async copyMalUri(){try{await navigator.clipboard.writeText(this.malRedirectUri),this.malCopied=!0,setTimeout(()=>{this.malCopied=!1},2e3)}catch(e){console.error("Failed to copy MAL redirect URI:",e)}}static{bw(this.prototype,"copyMalUri",[mc])}static{$n(Wf({id:"d62gohoh",block:'[[[1,"\\n    "],[10,0],[14,0,"bg-gray-700 rounded-lg p-4 mb-4"],[12],[1,"\\n      "],[10,"h4"],[14,0,"text-white font-medium mb-3"],[12],[1,"Redirect URIs for App Registration"],[13],[1,"\\n      "],[10,2],[14,0,"text-gray-300 text-sm mb-4"],[12],[1,"\\n        Use these redirect URIs when registering your API applications:\\n      "],[13],[1,"\\n\\n"],[1,"      "],[10,0],[14,0,"mb-3"],[12],[1,"\\n        "],[10,"label"],[14,0,"block text-gray-400 text-sm font-medium mb-1"],[12],[1,"\\n          Trakt Redirect URI\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"flex gap-2"],[12],[1,"\\n          "],[10,"input"],[15,2,[30,0,["traktRedirectUri"]]],[14,"readonly",""],[14,0,"flex-1 bg-gray-800 border border-gray-600 text-white rounded px-3 py-2 text-sm font-mono"],[14,4,"text"],[12],[13],[1,"\\n          "],[11,"button"],[24,0,"bg-trakt-red hover:bg-red-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors"],[24,4,"button"],[4,[32,0],["click",[30,0,["copyTraktUri"]]],null],[12],[1,"\\n            "],[1,[52,[30,0,["traktCopied"]],"Copied!","Copy"]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n"],[1,"      "],[10,0],[12],[1,"\\n        "],[10,"label"],[14,0,"block text-gray-400 text-sm font-medium mb-1"],[12],[1,"\\n          MAL Redirect URI\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"flex gap-2"],[12],[1,"\\n          "],[10,"input"],[15,2,[30,0,["malRedirectUri"]]],[14,"readonly",""],[14,0,"flex-1 bg-gray-800 border border-gray-600 text-white rounded px-3 py-2 text-sm font-mono"],[14,4,"text"],[12],[13],[1,"\\n          "],[11,"button"],[24,0,"bg-mal-blue hover:bg-blue-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors"],[24,4,"button"],[4,[32,0],["click",[30,0,["copyMalUri"]]],null],[12],[1,"\\n            "],[1,[52,[30,0,["malCopied"]],"Copied!","Copy"]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[],["if"]]',moduleName:"/Users/aborovkov/anime-sync/app/components/redirect-uri-helper.gjs",scope:()=>[pb],isStrictMode:!0}),this)}}class UE extends AE{static{yw(this.prototype,"storage",[Ip])}#C=void _w(this,"storage");static{yw(this.prototype,"traktClientId",[_s],function(){return""})}#te=void _w(this,"traktClientId");static{yw(this.prototype,"traktClientSecret",[_s],function(){return""})}#re=void _w(this,"traktClientSecret");static{yw(this.prototype,"malClientId",[_s],function(){return""})}#ne=void _w(this,"malClientId");static{yw(this.prototype,"malClientSecret",[_s],function(){return""})}#ie=void _w(this,"malClientSecret");static{yw(this.prototype,"idsMoeApiKey",[_s],function(){return""})}#se=void _w(this,"idsMoeApiKey");static{yw(this.prototype,"saveStatus",[_s],function(){return""})}#oe=void _w(this,"saveStatus");static{yw(this.prototype,"errorMessage",[_s],function(){return""})}#ae=void _w(this,"errorMessage");constructor(){super(...arguments),this.loadKeys()}loadKeys(){this.traktClientId=this.storage.getUserApiKey("user_trakt_client_id")||"",this.traktClientSecret=this.storage.getUserApiKey("user_trakt_client_secret")||"",this.malClientId=this.storage.getUserApiKey("user_mal_client_id")||"",this.malClientSecret=this.storage.getUserApiKey("user_mal_client_secret")||"",this.idsMoeApiKey=this.storage.getUserApiKey("user_ids_moe_api_key")||""}get hasTraktKeys(){return this.storage.hasTraktKeys()}get hasMALKeys(){return this.storage.hasMALKeys()}get hasIdsMoeKey(){return!!this.storage.getUserApiKey("user_ids_moe_api_key")}get allRequiredKeysConfigured(){return this.hasTraktKeys&&this.hasMALKeys}updateTraktClientId(e){this.traktClientId=e.target.value.trim()}static{bw(this.prototype,"updateTraktClientId",[mc])}updateTraktClientSecret(e){this.traktClientSecret=e.target.value.trim()}static{bw(this.prototype,"updateTraktClientSecret",[mc])}updateMalClientId(e){this.malClientId=e.target.value.trim()}static{bw(this.prototype,"updateMalClientId",[mc])}updateMalClientSecret(e){this.malClientSecret=e.target.value.trim()}static{bw(this.prototype,"updateMalClientSecret",[mc])}updateIdsMoeApiKey(e){this.idsMoeApiKey=e.target.value.trim()}static{bw(this.prototype,"updateIdsMoeApiKey",[mc])}async saveKeys(){this.saveStatus="saving",this.errorMessage="";try{if(!this.traktClientId||!this.traktClientSecret)throw new Error("Trakt Client ID and Client Secret are required");if(!this.malClientId||!this.malClientSecret)throw new Error("MAL Client ID and Client Secret are required");if(!this.idsMoeApiKey)throw new Error("ids.moe API key is required");this.storage.setUserApiKey("user_trakt_client_id",this.traktClientId),this.storage.setUserApiKey("user_trakt_client_secret",this.traktClientSecret),this.storage.setUserApiKey("user_mal_client_id",this.malClientId),this.storage.setUserApiKey("user_mal_client_secret",this.malClientSecret),this.storage.setUserApiKey("user_ids_moe_api_key",this.idsMoeApiKey),this.saveStatus="saved",setTimeout(()=>{this.saveStatus=""},3e3)}catch(e){this.saveStatus="error",this.errorMessage=e.message}}static{bw(this.prototype,"saveKeys",[mc])}clearKeys(){confirm("Are you sure you want to clear all API keys? You will need to re-enter them.")&&(this.storage.removeUserApiKey("user_trakt_client_id"),this.storage.removeUserApiKey("user_trakt_client_secret"),this.storage.removeUserApiKey("user_mal_client_id"),this.storage.removeUserApiKey("user_mal_client_secret"),this.storage.removeUserApiKey("user_ids_moe_api_key"),this.loadKeys(),this.saveStatus="",this.errorMessage="")}static{bw(this.prototype,"clearKeys",[mc])}static{$n(Wf({id:"W8Any9i5",block:'[[[1,"\\n    "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6"],[12],[1,"\\n\\n"],[41,[30,0,["allRequiredKeysConfigured"]],[[[1,"        "],[10,0],[14,0,"mb-4 bg-green-900 border border-green-700 text-green-100 px-4 py-3 rounded"],[12],[1,"\\n          All required API keys are configured\\n        "],[13],[1,"\\n"]],[]],[[[1,"        "],[10,0],[14,0,"mb-4 bg-yellow-900 border border-yellow-700 text-yellow-100 px-4 py-3 rounded"],[12],[1,"\\n          Please configure your API keys to use this application\\n        "],[13],[1,"\\n"]],[]]],[1,"\\n"],[1,"      "],[10,0],[14,0,"mb-6"],[12],[1,"\\n        "],[10,"h3"],[14,0,"text-lg font-bold text-white mb-2"],[12],[1,"API Credentials"],[13],[1,"\\n        "],[10,2],[14,0,"text-gray-300 text-sm mb-4"],[12],[1,"\\n          This application requires your own API credentials. Your keys are stored locally in your browser and never sent to our servers (except when making authorized API calls to Trakt, MAL, and ids.moe).\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n"],[1,"      "],[8,[32,0],null,null,null],[1,"\\n\\n"],[1,"      "],[10,0],[14,0,"mb-6 pb-6 border-b border-gray-700"],[12],[1,"\\n        "],[10,0],[14,0,"flex items-center mb-3"],[12],[1,"\\n          "],[10,"h4"],[14,0,"text-white font-medium flex-1"],[12],[1,"Trakt API Keys"],[13],[1,"\\n"],[41,[30,0,["hasTraktKeys"]],[[[1,"            "],[10,1],[14,0,"text-green-400 text-sm"],[12],[1,"Configured"],[13],[1,"\\n"]],[]],[[[1,"            "],[10,1],[14,0,"text-yellow-400 text-sm"],[12],[1,"Not configured"],[13],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n        "],[10,2],[14,0,"text-gray-400 text-sm mb-3"],[12],[1,"\\n          Register your app at\\n          "],[10,3],[14,6,"https://trakt.tv/oauth/applications"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"text-trakt-red hover:underline"],[12],[1,"\\n            trakt.tv/oauth/applications\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"mb-3"],[12],[1,"\\n          "],[10,"label"],[14,0,"block text-gray-300 text-sm font-medium mb-1"],[12],[1,"\\n            Client ID\\n          "],[13],[1,"\\n          "],[11,"input"],[16,2,[30,0,["traktClientId"]]],[24,"placeholder","Enter your Trakt Client ID"],[24,0,"w-full bg-gray-700 border border-gray-600 text-white rounded px-3 py-2 focus:outline-none focus:border-trakt-red"],[24,4,"text"],[4,[32,1],["input",[30,0,["updateTraktClientId"]]],null],[12],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[12],[1,"\\n          "],[10,"label"],[14,0,"block text-gray-300 text-sm font-medium mb-1"],[12],[1,"\\n            Client Secret\\n          "],[13],[1,"\\n          "],[11,"input"],[16,2,[30,0,["traktClientSecret"]]],[24,"placeholder","Enter your Trakt Client Secret"],[24,0,"w-full bg-gray-700 border border-gray-600 text-white rounded px-3 py-2 focus:outline-none focus:border-trakt-red"],[24,4,"password"],[4,[32,1],["input",[30,0,["updateTraktClientSecret"]]],null],[12],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n"],[1,"      "],[10,0],[14,0,"mb-6 pb-6 border-b border-gray-700"],[12],[1,"\\n        "],[10,0],[14,0,"flex items-center mb-3"],[12],[1,"\\n          "],[10,"h4"],[14,0,"text-white font-medium flex-1"],[12],[1,"MyAnimeList API Keys"],[13],[1,"\\n"],[41,[30,0,["hasMALKeys"]],[[[1,"            "],[10,1],[14,0,"text-green-400 text-sm"],[12],[1,"Configured"],[13],[1,"\\n"]],[]],[[[1,"            "],[10,1],[14,0,"text-yellow-400 text-sm"],[12],[1,"Not configured"],[13],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n        "],[10,2],[14,0,"text-gray-400 text-sm mb-3"],[12],[1,"\\n          Register your app at\\n          "],[10,3],[14,6,"https://myanimelist.net/apiconfig"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"text-mal-blue hover:underline"],[12],[1,"\\n            myanimelist.net/apiconfig\\n          "],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[14,0,"mb-3"],[12],[1,"\\n          "],[10,"label"],[14,0,"block text-gray-300 text-sm font-medium mb-1"],[12],[1,"\\n            Client ID\\n          "],[13],[1,"\\n          "],[11,"input"],[16,2,[30,0,["malClientId"]]],[24,"placeholder","Enter your MAL Client ID"],[24,0,"w-full bg-gray-700 border border-gray-600 text-white rounded px-3 py-2 focus:outline-none focus:border-mal-blue"],[24,4,"text"],[4,[32,1],["input",[30,0,["updateMalClientId"]]],null],[12],[13],[1,"\\n        "],[13],[1,"\\n\\n        "],[10,0],[12],[1,"\\n          "],[10,"label"],[14,0,"block text-gray-300 text-sm font-medium mb-1"],[12],[1,"\\n            Client Secret\\n          "],[13],[1,"\\n          "],[11,"input"],[16,2,[30,0,["malClientSecret"]]],[24,"placeholder","Enter your MAL Client Secret"],[24,0,"w-full bg-gray-700 border border-gray-600 text-white rounded px-3 py-2 focus:outline-none focus:border-mal-blue"],[24,4,"password"],[4,[32,1],["input",[30,0,["updateMalClientSecret"]]],null],[12],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n"],[1,"      "],[10,0],[14,0,"mb-6"],[12],[1,"\\n        "],[10,0],[14,0,"flex items-center mb-3"],[12],[1,"\\n          "],[10,"h4"],[14,0,"text-white font-medium flex-1"],[12],[1,"ids.moe API Key"],[13],[1,"\\n"],[41,[30,0,["hasIdsMoeKey"]],[[[1,"            "],[10,1],[14,0,"text-green-400 text-sm"],[12],[1,"Configured"],[13],[1,"\\n"]],[]],[[[1,"            "],[10,1],[14,0,"text-yellow-400 text-sm"],[12],[1,"Not configured"],[13],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n        "],[10,2],[14,0,"text-gray-400 text-sm mb-3"],[12],[1,"\\n          Get your API key at\\n          "],[10,3],[14,6,"https://ids.moe/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"text-blue-400 hover:underline"],[12],[1,"\\n            ids.moe\\n          "],[13],[1,"\\n          (required for accurate anime ID matching)\\n        "],[13],[1,"\\n\\n        "],[10,0],[12],[1,"\\n          "],[10,"label"],[14,0,"block text-gray-300 text-sm font-medium mb-1"],[12],[1,"\\n            API Key\\n          "],[13],[1,"\\n          "],[11,"input"],[16,2,[30,0,["idsMoeApiKey"]]],[24,"placeholder","Enter your ids.moe API key"],[24,0,"w-full bg-gray-700 border border-gray-600 text-white rounded px-3 py-2 focus:outline-none focus:border-blue-500"],[24,4,"password"],[4,[32,1],["input",[30,0,["updateIdsMoeApiKey"]]],null],[12],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n"],[41,[28,[32,2],[[30,0,["saveStatus"]],"error"],null],[[[1,"        "],[10,0],[14,0,"mb-4 bg-red-900 border border-red-700 text-red-100 px-4 py-3 rounded"],[12],[1,"\\n          "],[1,[30,0,["errorMessage"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[1,"      "],[10,0],[14,0,"flex gap-3"],[12],[1,"\\n        "],[11,"button"],[16,"disabled",[28,[32,2],[[30,0,["saveStatus"]],"saving"],null]],[24,0,"bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium py-2 px-6 rounded-lg transition-colors"],[24,4,"button"],[4,[32,1],["click",[30,0,["saveKeys"]]],null],[12],[1,"\\n"],[41,[28,[32,2],[[30,0,["saveStatus"]],"saving"],null],[[[1,"            Saving...\\n"]],[]],[[[41,[28,[32,2],[[30,0,["saveStatus"]],"saved"],null],[[[1,"            Saved!\\n"]],[]],[[[1,"            Save API Keys\\n          "]],[]]]],[]]],[1,"        "],[13],[1,"\\n\\n"],[41,[30,0,["allRequiredKeysConfigured"]],[[[1,"          "],[11,"button"],[24,0,"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-6 rounded-lg transition-colors"],[24,4,"button"],[4,[32,1],["click",[30,0,["clearKeys"]]],null],[12],[1,"\\n            Clear All Keys\\n          "],[13],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n\\n    "],[13],[1,"\\n  "]],[],["if"]]',moduleName:"/Users/aborovkov/anime-sync/app/components/api-key-config.gjs",scope:()=>[zE,pb,CE],isStrictMode:!0}),this)}}class BE extends AE{static{yw(this.prototype,"oauth",[Ip])}#O=void _w(this,"oauth");static{yw(this.prototype,"storage",[Ip])}#C=void _w(this,"storage");static{yw(this.prototype,"cache",[Ip])}#M=void _w(this,"cache");get isAuthenticatedTrakt(){return this.oauth.isAuthenticatedTrakt}get isAuthenticatedMAL(){return this.oauth.isAuthenticatedMAL}async connectTrakt(){await this.oauth.initiateTraktAuth()}static{bw(this.prototype,"connectTrakt",[mc])}async connectMAL(){await this.oauth.initiateMALAuth()}static{bw(this.prototype,"connectMAL",[mc])}disconnectTrakt(){confirm("Are you sure you want to disconnect Trakt? This will remove all stored tokens.")&&(this.oauth.logoutTrakt(),window.location.reload())}static{bw(this.prototype,"disconnectTrakt",[mc])}disconnectMAL(){confirm("Are you sure you want to disconnect MyAnimeList? This will remove all stored tokens.")&&(this.oauth.logoutMAL(),window.location.reload())}static{bw(this.prototype,"disconnectMAL",[mc])}async clearCache(){confirm("Are you sure you want to clear all cached data? This will require re-fetching data from APIs.")&&(await this.cache.clearAll(),alert("Cache cleared successfully!"))}static{bw(this.prototype,"clearCache",[mc])}clearAll(){confirm("Are you sure you want to clear ALL data including tokens and cache? You will need to reconnect your accounts.")&&(this.oauth.logoutAll(),this.storage.clearAll(),window.location.reload())}static{bw(this.prototype,"clearAll",[mc])}static{$n(Wf({id:"XOWudBlt",block:'[[[1,"\\n      "],[1,[28,[32,0],["Settings"],null]],[1,"\\n\\n      "],[10,0],[14,0,"min-h-screen bg-gradient-to-br from-trakt-dark via-gray-900 to-mal-blue"],[12],[1,"\\n        "],[10,0],[14,0,"container mx-auto px-4 py-8"],[12],[1,"\\n\\n"],[1,"          "],[10,0],[14,0,"mb-8"],[12],[1,"\\n            "],[8,[32,1],[[24,0,"text-gray-400 hover:text-white mb-4 inline-block"]],[["@route"],["dashboard"]],[["default"],[[[[1,"\\n               Back to Dashboard\\n            "]],[]]]]],[1,"\\n            "],[10,"h1"],[14,0,"text-4xl font-bold text-white mb-2"],[12],[1,"Settings"],[13],[1,"\\n            "],[10,2],[14,0,"text-gray-300"],[12],[1,"Manage your connections and application settings"],[13],[1,"\\n          "],[13],[1,"\\n\\n"],[1,"          "],[10,0],[14,0,"mb-8"],[12],[1,"\\n            "],[10,"h2"],[14,0,"text-2xl font-bold text-white mb-4"],[12],[1,"API Configuration"],[13],[1,"\\n            "],[8,[32,2],null,null,null],[1,"\\n          "],[13],[1,"\\n\\n"],[1,"          "],[10,0],[14,0,"mb-8"],[12],[1,"\\n            "],[10,"h2"],[14,0,"text-2xl font-bold text-white mb-4"],[12],[1,"Account Connections"],[13],[1,"\\n            "],[10,0],[14,0,"grid md:grid-cols-2 gap-6"],[12],[1,"\\n\\n              "],[8,[32,3],null,[["@service","@description","@isConnected","@onConnect","@onDisconnect","@buttonClass"],["Trakt","Connect your Trakt.tv account to sync your watched anime.",[30,0,["isAuthenticatedTrakt"]],[30,0,["connectTrakt"]],[30,0,["disconnectTrakt"]],"bg-trakt-red hover:bg-red-700"]],null],[1,"\\n\\n              "],[8,[32,3],null,[["@service","@description","@isConnected","@onConnect","@onDisconnect","@buttonClass"],["MyAnimeList","Connect your MyAnimeList account to sync your anime list.",[30,0,["isAuthenticatedMAL"]],[30,0,["connectMAL"]],[30,0,["disconnectMAL"]],"bg-mal-blue hover:bg-blue-700"]],null],[1,"\\n\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n"],[1,"          "],[10,0],[14,0,"mb-8"],[12],[1,"\\n            "],[10,"h2"],[14,0,"text-2xl font-bold text-white mb-4"],[12],[1,"Data Management"],[13],[1,"\\n            "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6"],[12],[1,"\\n\\n              "],[10,0],[14,0,"mb-6"],[12],[1,"\\n                "],[10,"h3"],[14,0,"text-lg font-bold text-white mb-2"],[12],[1,"Clear Cache"],[13],[1,"\\n                "],[10,2],[14,0,"text-gray-400 mb-4 text-sm"],[12],[1,"\\n                  Remove cached API responses and mapping data. Your account connections will remain intact.\\n                "],[13],[1,"\\n                "],[11,"button"],[24,0,"bg-yellow-600 hover:bg-yellow-700 text-white font-medium py-2 px-4 rounded-lg transition-colors"],[24,4,"button"],[4,[32,4],["click",[30,0,["clearCache"]]],null],[12],[1,"\\n                  Clear Cache\\n                "],[13],[1,"\\n              "],[13],[1,"\\n\\n              "],[10,0],[14,0,"border-t border-gray-700 pt-6"],[12],[1,"\\n                "],[10,"h3"],[14,0,"text-lg font-bold text-white mb-2"],[12],[1,"Clear All Data"],[13],[1,"\\n                "],[10,2],[14,0,"text-gray-400 mb-4 text-sm"],[12],[1,"\\n                  Remove all stored data including tokens and cache. You will need to reconnect your accounts.\\n                "],[13],[1,"\\n                "],[11,"button"],[24,0,"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors"],[24,4,"button"],[4,[32,4],["click",[30,0,["clearAll"]]],null],[12],[1,"\\n                  Clear All Data\\n                "],[13],[1,"\\n              "],[13],[1,"\\n\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n"],[1,"          "],[10,0],[12],[1,"\\n            "],[10,"h2"],[14,0,"text-2xl font-bold text-white mb-4"],[12],[1,"About"],[13],[1,"\\n            "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6"],[12],[1,"\\n              "],[10,2],[14,0,"text-gray-300 mb-4"],[12],[1,"\\n                Trakt  MyAnimeList Sync is a client-side application for synchronizing anime lists between Trakt.tv and MyAnimeList.\\n              "],[13],[1,"\\n              "],[10,0],[14,0,"grid md:grid-cols-2 gap-4 text-sm"],[12],[1,"\\n                "],[10,0],[12],[1,"\\n                  "],[10,"h4"],[14,0,"text-gray-400 font-medium mb-1"],[12],[1,"Version"],[13],[1,"\\n                  "],[10,2],[14,0,"text-white"],[12],[1,"1.0.0"],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[12],[1,"\\n                  "],[10,"h4"],[14,0,"text-gray-400 font-medium mb-1"],[12],[1,"Storage"],[13],[1,"\\n                  "],[10,2],[14,0,"text-white"],[12],[1,"localStorage & IndexedDB"],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[12],[1,"\\n                  "],[10,"h4"],[14,0,"text-gray-400 font-medium mb-1"],[12],[1,"Authentication"],[13],[1,"\\n                  "],[10,2],[14,0,"text-white"],[12],[1,"OAuth 2.0 with PKCE"],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[12],[1,"\\n                  "],[10,"h4"],[14,0,"text-gray-400 font-medium mb-1"],[12],[1,"Open Source"],[13],[1,"\\n                  "],[10,2],[14,0,"text-white"],[12],[1,"MIT License"],[13],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "]],[],[]]',moduleName:"/Users/aborovkov/anime-sync/app/templates/settings.gjs",scope:()=>[oE,Ub,UE,IE,pb],isStrictMode:!0}),this)}}const $E=aE(BE),HE=Object.freeze(Object.defineProperty({__proto__:null,default:$E},Symbol.toStringTag,{value:"Module"})),VE=Object.freeze(Object.defineProperty({__proto__:null,default:class extends pd{}},Symbol.toStringTag,{value:"Module"})),WE=ty;class KE extends AE{static{yw(this.prototype,"syncEngine",[Ip])}#le=void _w(this,"syncEngine");static{yw(this.prototype,"trakt",[Ip])}#I=void _w(this,"trakt");static{yw(this.prototype,"router",[Ip])}#Z=void _w(this,"router");static{yw(this.prototype,"cache",[Ip])}#M=void _w(this,"cache");static{yw(this.prototype,"direction",[_s],function(){return null})}#ce=void _w(this,"direction");static{yw(this.prototype,"operations",[_s],function(){return[]})}#ue=void _w(this,"operations");static{yw(this.prototype,"loading",[_s],function(){return!1})}#he=void _w(this,"loading");static{yw(this.prototype,"error",[_s],function(){return null})}#de=void _w(this,"error");static{yw(this.prototype,"userLists",[_s],function(){return[]})}#pe=void _w(this,"userLists");static{yw(this.prototype,"selectedLists",[_s],function(){return new Set})}#fe=void _w(this,"selectedLists");static{yw(this.prototype,"traktTargetLists",[_s],function(){return[]})}#ge=void _w(this,"traktTargetLists");static{yw(this.prototype,"selectedTargetList",[_s],function(){return null})}#me=void _w(this,"selectedTargetList");static{yw(this.prototype,"newListName",[_s],function(){return""})}#ye=void _w(this,"newListName");async selectDirection(e){if(this.direction=e,"trakt-to-mal"===e){this.loading=!0;try{const e=await this.trakt.getUserLists(),t=await Promise.all(e.map(async e=>{const t=await this.trakt.getListItems("me",e.ids.slug),r=await this.syncEngine.isListSynced(e.ids.slug);return{...e,actual_item_count:t.length,synced:r}}));this.userLists=t,this.selectedLists=new Set}catch(t){this.error=`Failed to fetch lists: ${t.message}`}finally{this.loading=!1}}else if("mal-to-trakt"===e){this.loading=!0;try{const e=await this.trakt.getUserLists();this.traktTargetLists=e,this.selectedTargetList=null,this.newListName=""}catch(t){this.error=`Failed to fetch Trakt lists: ${t.message}`}finally{this.loading=!1}}}static{bw(this.prototype,"selectDirection",[mc])}toggleList(e){this.selectedLists.has(e)?this.selectedLists.delete(e):this.selectedLists.add(e),this.selectedLists=new Set(this.selectedLists)}static{bw(this.prototype,"toggleList",[mc])}async createNewList(){if(this.newListName.trim()){this.loading=!0,this.error=null;try{const e=await this.trakt.createList(this.newListName.trim(),"Synced from MyAnimeList");this.traktTargetLists=[...this.traktTargetLists,e],this.selectedTargetList=e.ids.slug,this.newListName="";const t="me-lists";await this.cache.remove("traktCache",t)}catch(e){this.error=`Failed to create list: ${e.message}`}finally{this.loading=!1}}else this.error="Please enter a list name"}static{bw(this.prototype,"createNewList",[mc])}async analyzeSync(){if(this.loading=!0,this.error=null,"trakt-to-mal"===this.direction){if(0===this.selectedLists.size)return this.error="Please select at least one list to sync",void(this.loading=!1);try{const e=Array.from(this.selectedLists);this.operations=await this.syncEngine.analyzeDifferences(this.direction,e)}catch(e){this.error=e.message}finally{this.loading=!1}}else{if(!this.selectedTargetList)return this.error="Please select a target list or create a new one",void(this.loading=!1);try{this.operations=await this.syncEngine.analyzeDifferences(this.direction,["watched"])}catch(e){this.error=e.message}finally{this.loading=!1}}}static{bw(this.prototype,"analyzeSync",[mc])}startSync(){this.syncEngine.pendingOperations=this.operations,this.syncEngine.syncDirection=this.direction,this.syncEngine.syncedListIds=Array.from(this.selectedLists),"mal-to-trakt"===this.direction?this.syncEngine.targetTraktListId=this.selectedTargetList:this.syncEngine.targetTraktListId=null,this.router.transitionTo("sync.progress")}static{bw(this.prototype,"startSync",[mc])}cancel(){this.direction=null,this.operations=[],this.error=null,this.selectedLists=new Set,this.selectedTargetList=null,this.newListName=""}static{bw(this.prototype,"cancel",[mc])}get hasOperations(){return this.operations&&this.operations.length>0}get syncableOperations(){return this.operations.filter(e=>"unmapped"!==e.type)}get unmappedCount(){return this.operations.filter(e=>"unmapped"===e.type).length}get progressPercentage(){return this.syncEngine.syncTotal?Math.round(this.syncEngine.syncProgress/this.syncEngine.syncTotal*100):0}isListSelected(e){return this.selectedLists.has(e)}static{bw(this.prototype,"isListSelected",[mc])}updateNewListName(e){this.newListName=e.target.value}static{bw(this.prototype,"updateNewListName",[mc])}updateSelectedTargetList(e){this.selectedTargetList=e.target.value}static{bw(this.prototype,"updateSelectedTargetList",[mc])}static{$n(Wf({id:"Pqupmcc2",block:'[[[1,"\\n      "],[1,[28,[32,0],["Sync Preview"],null]],[1,"\\n\\n      "],[10,0],[14,0,"min-h-screen bg-gradient-to-br from-trakt-dark via-gray-900 to-mal-blue"],[12],[1,"\\n        "],[10,0],[14,0,"container mx-auto px-4 py-8"],[12],[1,"\\n\\n"],[1,"          "],[10,0],[14,0,"mb-8"],[12],[1,"\\n            "],[8,[32,1],[[24,0,"text-gray-400 hover:text-white mb-4 inline-block"]],[["@route"],["dashboard"]],[["default"],[[[[1,"\\n               Back to Dashboard\\n            "]],[]]]]],[1,"\\n            "],[10,"h1"],[14,0,"text-4xl font-bold text-white mb-2"],[12],[1,"Sync Preview"],[13],[1,"\\n            "],[10,2],[14,0,"text-gray-300"],[12],[1,"Choose sync direction and preview changes"],[13],[1,"\\n          "],[13],[1,"\\n\\n"],[41,[51,[30,0,["direction"]]],[[[1,"            "],[10,0],[14,0,"max-w-2xl mx-auto"],[12],[1,"\\n              "],[10,"h2"],[14,0,"text-2xl font-bold text-white mb-6 text-center"],[12],[1,"Choose Sync Direction"],[13],[1,"\\n\\n              "],[10,0],[14,0,"grid md:grid-cols-2 gap-6"],[12],[1,"\\n\\n                "],[11,"button"],[24,0,"bg-gray-800 hover:bg-gray-750 rounded-lg p-8 border-2 border-transparent hover:border-trakt-red transition-all group"],[24,4,"button"],[4,[32,2],["click",[28,[32,3],[[30,0,["selectDirection"]],"trakt-to-mal"],null]],null],[12],[1,"\\n                  "],[10,0],[14,0,"text-6xl mb-4"],[12],[1,""],[13],[1,"\\n                  "],[10,"h3"],[14,0,"text-xl font-bold text-white mb-2"],[12],[1,"Trakt  MyAnimeList"],[13],[1,"\\n                  "],[10,2],[14,0,"text-gray-400"],[12],[1,"\\n                    Sync your watched anime from Trakt to MyAnimeList\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n\\n                "],[11,"button"],[24,0,"bg-gray-800 hover:bg-gray-750 rounded-lg p-8 border-2 border-transparent hover:border-mal-blue transition-all group"],[24,4,"button"],[4,[32,2],["click",[28,[32,3],[[30,0,["selectDirection"]],"mal-to-trakt"],null]],null],[12],[1,"\\n                  "],[10,0],[14,0,"text-6xl mb-4"],[12],[1,""],[13],[1,"\\n                  "],[10,"h3"],[14,0,"text-xl font-bold text-white mb-2"],[12],[1,"MyAnimeList  Trakt"],[13],[1,"\\n                  "],[10,2],[14,0,"text-gray-400"],[12],[1,"\\n                    Sync your anime list from MyAnimeList to Trakt\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[32,4],[[30,0,["direction"]],[28,[32,5],[[30,0,["direction"]],"trakt-to-mal"],null],[28,[32,6],[[30,0,["hasOperations"]]],null]],null],[[[1,"            "],[10,0],[14,0,"max-w-2xl mx-auto mt-8"],[12],[1,"\\n              "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6"],[12],[1,"\\n                "],[10,"h2"],[14,0,"text-2xl font-bold text-white mb-4"],[12],[1,"Select Trakt Lists to Sync"],[13],[1,"\\n                "],[10,2],[14,0,"text-gray-300 mb-6 text-sm"],[12],[1,"\\n                  Choose which Trakt lists you want to sync to MyAnimeList\\n                "],[13],[1,"\\n\\n"],[41,[30,0,["userLists","length"]],[[[1,"                  "],[10,0],[14,0,"space-y-3 mb-6 max-h-96 overflow-y-auto"],[12],[1,"\\n"],[42,[28,[31,3],[[28,[31,3],[[30,0,["userLists"]]],null]],null],null,[[[1,"                      "],[10,"label"],[14,0,"flex items-center gap-3 cursor-pointer p-3 rounded-lg hover:bg-gray-700/50 transition-colors"],[12],[1,"\\n                        "],[11,"input"],[16,"checked",[28,[30,0,["isListSelected"]],[[30,1,["ids","slug"]]],null]],[24,0,"w-5 h-5 rounded border-gray-600 bg-gray-700 text-trakt-red focus:ring-trakt-red flex-shrink-0"],[24,4,"checkbox"],[4,[32,2],["change",[28,[32,3],[[30,0,["toggleList"]],[30,1,["ids","slug"]]],null]],null],[12],[13],[1,"\\n                        "],[10,0],[14,0,"flex-1 min-w-0"],[12],[1,"\\n                          "],[10,0],[14,0,"flex items-center gap-2"],[12],[1,"\\n                            "],[10,0],[14,0,"text-white font-medium truncate"],[12],[1,[30,1,["name"]]],[13],[1,"\\n"],[41,[30,1,["synced"]],[[[1,"                              "],[10,1],[14,0,"text-green-400 text-sm flex-shrink-0"],[14,"title","Already synced"],[12],[1,""],[13],[1,"\\n"]],[]],null],[1,"                          "],[13],[1,"\\n                          "],[10,0],[14,0,"text-gray-400 text-sm"],[12],[1,"\\n                            "],[1,[30,1,["actual_item_count"]]],[1," items\\n"],[41,[30,1,["description"]],[[[1,"                               "],[1,[30,1,["description"]]],[1,"\\n"]],[]],null],[1,"                          "],[13],[1,"\\n                        "],[13],[1,"\\n                      "],[13],[1,"\\n"]],[1]],null],[1,"                  "],[13],[1,"\\n"]],[]],[[[1,"                  "],[10,0],[14,0,"bg-yellow-900/30 border border-yellow-600 rounded-lg p-4 mb-6"],[12],[1,"\\n                    "],[10,2],[14,0,"text-yellow-400 text-sm"],[12],[1,"\\n                      No custom lists found. You can create lists on Trakt.tv and they will appear here.\\n                    "],[13],[1,"\\n                  "],[13],[1,"\\n"]],[]]],[1,"\\n                "],[10,0],[14,0,"flex gap-4"],[12],[1,"\\n                  "],[11,"button"],[24,0,"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors"],[24,4,"button"],[4,[32,2],["click",[30,0,["cancel"]]],null],[12],[1,"\\n                    Back\\n                  "],[13],[1,"\\n                  "],[11,"button"],[16,"disabled",[28,[32,5],[[30,0,["selectedLists","size"]],0],null]],[24,0,"flex-1 bg-gradient-to-r from-trakt-red to-mal-lightblue hover:shadow-lg text-white font-bold py-3 px-6 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"],[24,4,"button"],[4,[32,2],["click",[30,0,["analyzeSync"]]],null],[12],[1,"\\n                    Analyze ("],[1,[30,0,["selectedLists","size"]]],[1," selected)\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[32,4],[[30,0,["direction"]],[28,[32,5],[[30,0,["direction"]],"mal-to-trakt"],null],[28,[32,6],[[30,0,["hasOperations"]]],null]],null],[[[1,"            "],[10,0],[14,0,"max-w-2xl mx-auto mt-8"],[12],[1,"\\n              "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6"],[12],[1,"\\n                "],[10,"h2"],[14,0,"text-2xl font-bold text-white mb-4"],[12],[1,"Select Target Trakt List"],[13],[1,"\\n                "],[10,2],[14,0,"text-gray-300 mb-6 text-sm"],[12],[1,"\\n                  Choose where to add your MAL anime in Trakt\\n                "],[13],[1,"\\n\\n"],[41,[30,0,["traktTargetLists","length"]],[[[1,"                  "],[10,0],[14,0,"mb-6"],[12],[1,"\\n                    "],[10,"label"],[14,0,"block text-sm font-medium text-gray-400 mb-2"],[12],[1,"Select Existing List"],[13],[1,"\\n                    "],[11,"select"],[24,0,"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-mal-blue focus:border-transparent"],[4,[32,2],["change",[30,0,["updateSelectedTargetList"]]],null],[12],[1,"\\n                      "],[10,"option"],[14,2,""],[12],[1,"-- Select a list --"],[13],[1,"\\n"],[42,[28,[31,3],[[28,[31,3],[[30,0,["traktTargetLists"]]],null]],null],null,[[[1,"                        "],[10,"option"],[15,2,[30,2,["ids","slug"]]],[15,"selected",[28,[32,5],[[30,0,["selectedTargetList"]],[30,2,["ids","slug"]]],null]],[12],[1,"\\n                          "],[1,[30,2,["name"]]],[1," ("],[1,[30,2,["item_count"]]],[1," items)\\n                        "],[13],[1,"\\n"]],[2]],null],[1,"                    "],[13],[1,"\\n                  "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[1,"                "],[10,0],[14,0,"mb-6"],[12],[1,"\\n                  "],[10,"label"],[14,0,"block text-sm font-medium text-gray-400 mb-2"],[12],[1,"Or Create New List"],[13],[1,"\\n                  "],[10,0],[14,0,"flex gap-2"],[12],[1,"\\n                    "],[11,"input"],[24,"placeholder","Enter new list name..."],[16,2,[30,0,["newListName"]]],[24,0,"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:ring-2 focus:ring-mal-blue focus:border-transparent"],[24,4,"text"],[4,[32,2],["input",[30,0,["updateNewListName"]]],null],[12],[13],[1,"\\n                    "],[11,"button"],[16,"disabled",[28,[32,6],[[30,0,["newListName"]]],null]],[24,0,"bg-mal-blue hover:bg-mal-lightblue text-white font-medium px-6 py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"],[24,4,"button"],[4,[32,2],["click",[30,0,["createNewList"]]],null],[12],[1,"\\n                      Create\\n                    "],[13],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n\\n                "],[10,0],[14,0,"flex gap-4"],[12],[1,"\\n                  "],[11,"button"],[24,0,"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors"],[24,4,"button"],[4,[32,2],["click",[30,0,["cancel"]]],null],[12],[1,"\\n                    Back\\n                  "],[13],[1,"\\n                  "],[11,"button"],[16,"disabled",[28,[32,6],[[30,0,["selectedTargetList"]]],null]],[24,0,"flex-1 bg-gradient-to-r from-mal-blue to-trakt-red hover:shadow-lg text-white font-bold py-3 px-6 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"],[24,4,"button"],[4,[32,2],["click",[30,0,["analyzeSync"]]],null],[12],[1,"\\n                    Analyze\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["loading"]],[[[1,"            "],[10,0],[14,0,"max-w-2xl mx-auto bg-gray-800 rounded-lg p-12 text-center"],[12],[1,"\\n              "],[10,0],[14,0,"flex justify-center mb-4"],[12],[1,"\\n                "],[10,0],[14,0,"animate-spin rounded-full h-16 w-16 border-b-2 border-white"],[12],[13],[1,"\\n              "],[13],[1,"\\n              "],[10,"h3"],[14,0,"text-xl font-bold text-white mb-2"],[12],[1,"Analyzing your lists..."],[13],[1,"\\n              "],[10,2],[14,0,"text-gray-400 mb-4"],[12],[1,[30,0,["syncEngine","currentOperation"]]],[13],[1,"\\n"],[41,[28,[32,7],[[30,0,["syncEngine","syncTotal"]],0],null],[[[1,"                "],[10,0],[14,0,"w-full bg-gray-700 rounded-full h-2 mb-2"],[12],[1,"\\n                  "],[10,0],[14,0,"bg-gradient-to-r from-trakt-red to-mal-lightblue h-2 rounded-full transition-all"],[15,5,[29,["width: ",[30,0,["progressPercentage"]],"%"]]],[12],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,2],[14,0,"text-sm text-gray-400"],[12],[1,"\\n                  "],[1,[30,0,["syncEngine","syncProgress"]]],[1," / "],[1,[30,0,["syncEngine","syncTotal"]]],[1," items processed\\n                "],[13],[1,"\\n"]],[]],[[[1,"                "],[10,2],[14,0,"text-gray-400"],[12],[1,"This may take a few moments"],[13],[1,"\\n"]],[]]],[1,"            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["error"]],[[[1,"            "],[10,0],[14,0,"max-w-2xl mx-auto bg-red-900/30 border border-red-600 rounded-lg p-6"],[12],[1,"\\n              "],[10,"h3"],[14,0,"text-red-400 font-bold mb-2 flex items-center gap-2"],[12],[1,"\\n                "],[10,1],[12],[1,""],[13],[1,"\\n                Error\\n              "],[13],[1,"\\n              "],[10,2],[14,0,"text-gray-300 mb-4"],[12],[1,[30,0,["error"]]],[13],[1,"\\n              "],[11,"button"],[24,0,"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors"],[24,4,"button"],[4,[32,2],["click",[28,[32,3],[[30,0,["analyzeSync"]],[30,0,["direction"]]],null]],null],[12],[1,"\\n                Try Again\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["hasOperations"]],[[[1,"            "],[10,0],[14,0,"mb-8"],[12],[1,"\\n\\n"],[1,"              "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6 mb-6"],[12],[1,"\\n                "],[10,"h2"],[14,0,"text-2xl font-bold text-white mb-4"],[12],[1,"Summary"],[13],[1,"\\n                "],[10,0],[14,0,"grid md:grid-cols-3 gap-4"],[12],[1,"\\n\\n                  "],[10,0],[14,0,"bg-gray-700 rounded-lg p-4"],[12],[1,"\\n                    "],[10,"h4"],[14,0,"text-gray-400 text-sm font-medium mb-1"],[12],[1,"Total Items"],[13],[1,"\\n                    "],[10,2],[14,0,"text-2xl font-bold text-white"],[12],[1,[30,0,["operations","length"]]],[13],[1,"\\n                  "],[13],[1,"\\n\\n                  "],[10,0],[14,0,"bg-gray-700 rounded-lg p-4"],[12],[1,"\\n                    "],[10,"h4"],[14,0,"text-gray-400 text-sm font-medium mb-1"],[12],[1,"Will Sync"],[13],[1,"\\n                    "],[10,2],[14,0,"text-2xl font-bold text-green-400"],[12],[1,[30,0,["syncableOperations","length"]]],[13],[1,"\\n                  "],[13],[1,"\\n\\n                  "],[10,0],[14,0,"bg-gray-700 rounded-lg p-4"],[12],[1,"\\n                    "],[10,"h4"],[14,0,"text-gray-400 text-sm font-medium mb-1"],[12],[1,"No Mapping"],[13],[1,"\\n                    "],[10,2],[14,0,"text-2xl font-bold text-yellow-400"],[12],[1,[30,0,["unmappedCount"]]],[13],[1,"\\n                  "],[13],[1,"\\n\\n                "],[13],[1,"\\n              "],[13],[1,"\\n\\n"],[1,"              "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6 mb-6"],[12],[1,"\\n                "],[10,"h3"],[14,0,"text-xl font-bold text-white mb-4"],[12],[1,"Changes Preview"],[13],[1,"\\n                "],[10,0],[14,0,"space-y-2 max-h-96 overflow-y-auto"],[12],[1,"\\n\\n"],[42,[28,[31,3],[[28,[31,3],[[30,0,["syncableOperations"]]],null]],null],null,[[[1,"                    "],[10,0],[14,0,"bg-gray-700 rounded p-4 flex items-center justify-between"],[12],[1,"\\n                      "],[10,0],[14,0,"flex-1"],[12],[1,"\\n                        "],[10,"h4"],[14,0,"text-white font-medium"],[12],[1,[30,3,["entry","title"]]],[13],[1,"\\n                      "],[13],[1,"\\n                      "],[10,1],[14,0,"text-2xl"],[12],[1,"\\n                        "],[41,[28,[32,5],[[30,3,["action"]],"add_to_mal"],null],[[[1,""]],[]],null],[1,"\\n                        "],[41,[28,[32,5],[[30,3,["action"]],"update_mal"],null],[[[1,""]],[]],null],[1,"\\n                        "],[41,[28,[32,5],[[30,3,["action"]],"add_to_trakt"],null],[[[1,""]],[]],null],[1,"\\n                        "],[41,[28,[32,5],[[30,3,["action"]],"update_trakt"],null],[[[1,""]],[]],null],[1,"\\n                      "],[13],[1,"\\n                    "],[13],[1,"\\n"]],[3]],null],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n\\n"],[41,[30,0,["unmappedCount"]],[[[1,"                "],[10,0],[14,0,"bg-yellow-900/30 border border-yellow-600 rounded-lg p-6 mb-6"],[12],[1,"\\n                  "],[10,"h3"],[14,0,"text-xl font-bold text-yellow-400 mb-2 flex items-center gap-2"],[12],[1,"\\n                    "],[10,1],[12],[1,""],[13],[1,"\\n                    No Mapping Found ("],[1,[30,0,["unmappedCount"]]],[1," items)\\n                  "],[13],[1,"\\n                  "],[10,2],[14,0,"text-gray-300 mb-4 text-sm"],[12],[1,"\\n                    These items couldn\'t be automatically matched. They will be skipped during sync.\\n                  "],[13],[1,"\\n                  "],[10,"details"],[14,0,"cursor-pointer"],[12],[1,"\\n                    "],[10,"summary"],[14,0,"text-yellow-400 hover:text-yellow-300 font-medium mb-2"],[12],[1,"\\n                      Show unmapped items\\n                    "],[13],[1,"\\n                    "],[10,0],[14,0,"space-y-2 mt-4 max-h-64 overflow-y-auto"],[12],[1,"\\n"],[42,[28,[31,3],[[28,[31,3],[[30,0,["operations"]]],null]],null],null,[[[41,[28,[32,5],[[30,4,["type"]],"unmapped"],null],[[[1,"                          "],[10,0],[14,0,"bg-gray-800/50 rounded p-3"],[12],[1,"\\n                            "],[10,"h4"],[14,0,"text-white font-medium text-sm"],[12],[1,[30,4,["entry","title"]]],[13],[1,"\\n                            "],[10,2],[14,0,"text-xs text-gray-400 mt-1"],[12],[1,"\\n                              Could not find matching anime on "],[41,[28,[32,5],[[30,0,["direction"]],"trakt-to-mal"],null],[[[1,"MyAnimeList"]],[]],[[[1,"Trakt"]],[]]],[1,"\\n                            "],[13],[1,"\\n                          "],[13],[1,"\\n"]],[]],null]],[4]],null],[1,"                    "],[13],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[1,"              "],[10,0],[14,0,"flex gap-4 justify-end"],[12],[1,"\\n                "],[11,"button"],[24,0,"bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors"],[24,4,"button"],[4,[32,2],["click",[30,0,["cancel"]]],null],[12],[1,"\\n                  Cancel\\n                "],[13],[1,"\\n                "],[11,"button"],[24,0,"bg-gradient-to-r from-trakt-red to-mal-lightblue hover:shadow-lg text-white font-bold py-3 px-6 rounded-lg transition-all"],[24,4,"button"],[4,[32,2],["click",[30,0,["startSync"]]],null],[12],[1,"\\n                  Start Sync ("],[1,[30,0,["syncableOperations","length"]]],[1," items)\\n                "],[13],[1,"\\n              "],[13],[1,"\\n\\n            "],[13],[1,"\\n"]],[]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "]],["list","list","op","op"],["unless","if","each","-track-array"]]',moduleName:"/Users/aborovkov/anime-sync/app/templates/sync/preview.gjs",scope:()=>[oE,Ub,pb,WE,EE,CE,ME,OE],isStrictMode:!0}),this)}}const QE=aE(KE),GE=Object.freeze(Object.defineProperty({__proto__:null,default:QE},Symbol.toStringTag,{value:"Module"}));class YE extends pd{static{yw(this.prototype,"oauth",[Ip])}#O=void _w(this,"oauth");static{yw(this.prototype,"router",[Ip])}#Z=void _w(this,"router");beforeModel(){this.oauth.isAuthenticatedTrakt&&this.oauth.isAuthenticatedMAL||this.router.transitionTo("dashboard")}}const JE=Object.freeze(Object.defineProperty({__proto__:null,default:YE},Symbol.toStringTag,{value:"Module"}));class ZE extends AE{static{yw(this.prototype,"syncEngine",[Ip])}#le=void _w(this,"syncEngine");static{yw(this.prototype,"router",[Ip])}#Z=void _w(this,"router");static{yw(this.prototype,"results",[_s],function(){return null})}#be=void _w(this,"results");static{yw(this.prototype,"syncing",[_s],function(){return!1})}#_e=void _w(this,"syncing");static{yw(this.prototype,"hasStarted",[_s],function(){return!1})}#ve=void _w(this,"hasStarted");startSync(e){this.syncing||this.hasStarted||e?.operations&&0!==e.operations.length&&vo(async()=>{this.hasStarted=!0,this.syncing=!0;try{this.results=await this.syncEngine.executeSyncOperations(e.operations,()=>{})}catch(t){this.results={error:t.message}}finally{this.syncing=!1,setTimeout(()=>{this.syncEngine.pendingOperations=null,this.syncEngine.syncDirection=null,this.syncEngine.syncedListIds=[],this.syncEngine.targetTraktListId=null,this.router.transitionTo("sync.results")},1e3)}})}static{bw(this.prototype,"startSync",[mc])}get shouldAutoStart(){return!this.syncing&&!this.hasStarted}get progressPercent(){return this.syncEngine.syncTotal?Math.round(this.syncEngine.syncProgress/this.syncEngine.syncTotal*100):0}static{$n(Wf({id:"PCva8xLp",block:'[[[1,"\\n      "],[1,[28,[32,0],["Syncing..."],null]],[1,"\\n\\n"],[41,[30,0,["shouldAutoStart"]],[[[1,"        "],[1,[28,[30,0,["startSync"]],[[30,1]],null]],[1,"\\n"]],[]],null],[1,"\\n      "],[10,0],[14,0,"min-h-screen bg-gradient-to-br from-trakt-dark via-gray-900 to-mal-blue flex items-center justify-center"],[12],[1,"\\n        "],[10,0],[14,0,"max-w-2xl w-full mx-4"],[12],[1,"\\n\\n          "],[10,0],[14,0,"bg-gray-800 rounded-lg p-8"],[12],[1,"\\n\\n"],[1,"            "],[10,0],[14,0,"text-center mb-8"],[12],[1,"\\n              "],[10,0],[14,0,"text-6xl mb-4"],[12],[1,""],[13],[1,"\\n              "],[10,"h1"],[14,0,"text-3xl font-bold text-white mb-2"],[12],[1,"Syncing Your Lists"],[13],[1,"\\n              "],[10,2],[14,0,"text-gray-300"],[12],[1,"\\n                Please wait while we sync your anime lists...\\n              "],[13],[1,"\\n            "],[13],[1,"\\n\\n"],[1,"            "],[10,0],[14,0,"mb-6"],[12],[1,"\\n              "],[10,0],[14,0,"flex justify-between text-sm text-gray-400 mb-2"],[12],[1,"\\n                "],[10,1],[12],[1,"Progress"],[13],[1,"\\n                "],[10,1],[12],[1,[30,0,["syncEngine","syncProgress"]]],[1," / "],[1,[30,0,["syncEngine","syncTotal"]]],[13],[1,"\\n              "],[13],[1,"\\n              "],[10,0],[14,0,"w-full bg-gray-700 rounded-full h-4 overflow-hidden"],[12],[1,"\\n                "],[10,0],[14,0,"bg-gradient-to-r from-trakt-red to-mal-lightblue h-full transition-all duration-300 flex items-center justify-center text-xs text-white font-bold"],[15,5,[29,["width: ",[30,0,["progressPercent"]],"%"]]],[12],[1,"\\n"],[41,[28,[32,1],[[30,0,["progressPercent"]],10],null],[[[1,"                    "],[1,[30,0,["progressPercent"]]],[1,"%\\n"]],[]],null],[1,"                "],[13],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n\\n"],[41,[30,0,["syncEngine","currentOperation"]],[[[1,"              "],[10,0],[14,0,"bg-gray-700 rounded-lg p-4 mb-6"],[12],[1,"\\n                "],[10,"h3"],[14,0,"text-sm font-medium text-gray-400 mb-1"],[12],[1,"Currently Processing"],[13],[1,"\\n                "],[10,2],[14,0,"text-white font-medium"],[12],[1,"\\n                  "],[1,[30,0,["syncEngine","currentOperation","entry","title"]]],[1,"\\n                "],[13],[1,"\\n                "],[10,2],[14,0,"text-sm text-gray-400"],[12],[1,"\\n                  "],[1,[30,0,["syncEngine","currentOperation","action"]]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[1,"            "],[10,0],[14,0,"text-center text-gray-400 text-sm"],[12],[1,"\\n              "],[10,2],[12],[1,"Do not close this window or navigate away"],[13],[1,"\\n              "],[10,2],[14,0,"mt-1"],[12],[1,"This may take a few minutes depending on your list size"],[13],[1,"\\n            "],[13],[1,"\\n\\n"],[41,[51,[30,0,["syncing"]]],[[[1,"              "],[10,0],[14,0,"mt-6 p-4 bg-green-900/30 border border-green-600 rounded-lg text-center"],[12],[1,"\\n                "],[10,2],[14,0,"text-green-400 font-medium"],[12],[1," Sync Complete!"],[13],[1,"\\n                "],[10,2],[14,0,"text-gray-300 text-sm mt-1"],[12],[1,"Redirecting to results..."],[13],[1,"\\n              "],[13],[1,"\\n"]],[]],null],[1,"\\n          "],[13],[1,"\\n\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "]],["@model"],["if","unless"]]',moduleName:"/Users/aborovkov/anime-sync/app/templates/sync/progress.gjs",scope:()=>[oE,OE],isStrictMode:!0}),this)}}const XE=aE(ZE),eC=Object.freeze(Object.defineProperty({__proto__:null,default:XE},Symbol.toStringTag,{value:"Module"}));class tC extends pd{static{yw(this.prototype,"oauth",[Ip])}#O=void _w(this,"oauth");static{yw(this.prototype,"router",[Ip])}#Z=void _w(this,"router");static{yw(this.prototype,"syncEngine",[Ip])}#le=void _w(this,"syncEngine");beforeModel(){this.oauth.isAuthenticatedTrakt&&this.oauth.isAuthenticatedMAL||this.router.transitionTo("dashboard"),this.syncEngine.pendingOperations&&0!==this.syncEngine.pendingOperations.length||this.router.transitionTo("sync.preview")}async model(){return{direction:this.syncEngine.syncDirection,operations:this.syncEngine.pendingOperations}}}const rC=Object.freeze(Object.defineProperty({__proto__:null,default:tC},Symbol.toStringTag,{value:"Module"}));class nC extends AE{static{$n(Wf({id:"Yloepnty",block:'[[[1,"\\n    "],[1,[28,[32,0],["Sync Results"],null]],[1,"\\n\\n    "],[10,0],[14,0,"min-h-screen bg-gradient-to-br from-trakt-dark via-gray-900 to-mal-blue"],[12],[1,"\\n      "],[10,0],[14,0,"container mx-auto px-4 py-8"],[12],[1,"\\n\\n        "],[10,0],[14,0,"max-w-4xl mx-auto"],[12],[1,"\\n\\n"],[41,[30,1,["results"]],[[[1,"\\n"],[1,"            "],[10,0],[14,0,"text-center mb-8"],[12],[1,"\\n              "],[10,0],[14,0,"text-6xl mb-4"],[12],[1,"\\n"],[41,[30,1,["results","error"]],[[[1,"                  \\n"]],[]],[[[1,"                  \\n"]],[]]],[1,"              "],[13],[1,"\\n              "],[10,"h1"],[14,0,"text-4xl font-bold text-white mb-2"],[12],[1,"\\n"],[41,[30,1,["results","error"]],[[[1,"                  Sync Failed\\n"]],[]],[[[1,"                  Sync Complete!\\n"]],[]]],[1,"              "],[13],[1,"\\n              "],[10,2],[14,0,"text-gray-300"],[12],[1,"\\n"],[41,[30,1,["results","error"]],[[[1,"                  An error occurred during synchronization\\n"]],[]],[[[1,"                  Your anime lists have been synchronized\\n"]],[]]],[1,"              "],[13],[1,"\\n            "],[13],[1,"\\n\\n"],[41,[30,1,["results","error"]],[[[1,"              "],[10,0],[14,0,"bg-red-900/30 border border-red-600 rounded-lg p-6 mb-8"],[12],[1,"\\n                "],[10,"h3"],[14,0,"text-red-400 font-bold mb-2"],[12],[1,"Error Details"],[13],[1,"\\n                "],[10,2],[14,0,"text-gray-300"],[12],[1,[30,1,["results","error"]]],[13],[1,"\\n              "],[13],[1,"\\n"]],[]],[[[1,"\\n"],[1,"              "],[10,0],[14,0,"grid md:grid-cols-3 gap-6 mb-8"],[12],[1,"\\n\\n                "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6"],[12],[1,"\\n                  "],[10,"h3"],[14,0,"text-gray-400 text-sm font-medium mb-2"],[12],[1,"Successful"],[13],[1,"\\n                  "],[10,2],[14,0,"text-3xl font-bold text-green-400"],[12],[1,"\\n                    "],[1,[30,1,["results","successful"]]],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n\\n                "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6"],[12],[1,"\\n                  "],[10,"h3"],[14,0,"text-gray-400 text-sm font-medium mb-2"],[12],[1,"Failed"],[13],[1,"\\n                  "],[10,2],[14,0,"text-3xl font-bold text-red-400"],[12],[1,"\\n                    "],[1,[30,1,["results","failed"]]],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n\\n                "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6"],[12],[1,"\\n                  "],[10,"h3"],[14,0,"text-gray-400 text-sm font-medium mb-2"],[12],[1,"Skipped"],[13],[1,"\\n                  "],[10,2],[14,0,"text-3xl font-bold text-yellow-400"],[12],[1,"\\n                    "],[1,[30,1,["results","skipped"]]],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n\\n              "],[13],[1,"\\n\\n"],[41,[30,1,["results","details"]],[[[1,"                "],[10,0],[14,0,"bg-gray-800 rounded-lg p-6 mb-8"],[12],[1,"\\n                  "],[10,"h2"],[14,0,"text-2xl font-bold text-white mb-4"],[12],[1,"Operation Details"],[13],[1,"\\n                  "],[10,0],[14,0,"space-y-2 max-h-96 overflow-y-auto"],[12],[1,"\\n\\n"],[42,[28,[31,2],[[28,[31,2],[[30,1,["results","details"]]],null]],null],null,[[[1,"                      "],[10,0],[14,0,"bg-gray-700 rounded p-4 flex items-center justify-between"],[12],[1,"\\n                        "],[10,0],[14,0,"flex-1"],[12],[1,"\\n                          "],[10,"h4"],[14,0,"text-white font-medium"],[12],[1,[30,2,["entry","title"]]],[13],[1,"\\n                          "],[10,2],[14,0,"text-sm text-gray-400"],[12],[1,"\\n                            "],[1,[30,2,["action"]]],[1,"\\n"],[41,[30,2,["error"]],[[[1,"                              - "],[10,1],[14,0,"text-red-400"],[12],[1,[30,2,["error"]]],[13],[1,"\\n"]],[]],null],[1,"                          "],[13],[1,"\\n                        "],[13],[1,"\\n                        "],[10,1],[14,0,"text-xl ml-4"],[12],[1,"\\n"],[41,[28,[32,1],[[30,2,["status"]],"success"],null],[[[1,"                            "],[10,1],[14,0,"text-green-400"],[12],[1,""],[13],[1,"\\n"]],[]],[[[41,[28,[32,1],[[30,2,["status"]],"error"],null],[[[1,"                            "],[10,1],[14,0,"text-red-400"],[12],[1,""],[13],[1,"\\n"]],[]],[[[1,"                            "],[10,1],[14,0,"text-yellow-400"],[12],[1,""],[13],[1,"\\n                          "]],[]]]],[]]],[1,"                        "],[13],[1,"\\n                      "],[13],[1,"\\n"]],[2]],null],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"\\n"]],[]]],[1,"\\n"],[1,"            "],[10,0],[14,0,"flex gap-4 justify-center"],[12],[1,"\\n              "],[8,[32,2],[[24,0,"bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors"]],[["@route"],["dashboard"]],[["default"],[[[[1,"\\n                Back to Dashboard\\n              "]],[]]]]],[1,"\\n              "],[8,[32,2],[[24,0,"bg-gradient-to-r from-trakt-red to-mal-lightblue hover:shadow-lg text-white font-bold py-3 px-6 rounded-lg transition-all"]],[["@route"],["sync.preview"]],[["default"],[[[[1,"\\n                Sync Again\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n\\n"]],[]],[[[1,"\\n"],[1,"            "],[10,0],[14,0,"bg-gray-800 rounded-lg p-12 text-center"],[12],[1,"\\n              "],[10,0],[14,0,"text-6xl mb-4"],[12],[1,""],[13],[1,"\\n              "],[10,"h2"],[14,0,"text-2xl font-bold text-white mb-4"],[12],[1,"No Results Available"],[13],[1,"\\n              "],[10,2],[14,0,"text-gray-300 mb-6"],[12],[1,"\\n                There are no sync results to display. Please start a sync operation first.\\n              "],[13],[1,"\\n              "],[8,[32,2],[[24,0,"inline-block bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors"]],[["@route"],["dashboard"]],[["default"],[[[[1,"\\n                Go to Dashboard\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n\\n"]],[]]],[1,"\\n        "],[13],[1,"\\n\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@model","detail"],["if","each","-track-array"]]',moduleName:"/Users/aborovkov/anime-sync/app/templates/sync/results.gjs",scope:()=>[oE,CE,Ub],isStrictMode:!0}),this)}}const iC=aE(nC),sC=Object.freeze(Object.defineProperty({__proto__:null,default:iC},Symbol.toStringTag,{value:"Module"}));class oC extends pd{static{yw(this.prototype,"syncEngine",[Ip])}#le=void _w(this,"syncEngine");async model(){return{results:this.syncEngine.lastSyncResults}}}const aC=Object.freeze(Object.defineProperty({__proto__:null,default:oC},Symbol.toStringTag,{value:"Module"})),lC=$n(Wf({id:"9aJP0oB3",block:'[[[1,"\\n  "],[1,[28,[32,0],["Trakt  MyAnimeList Sync"],null]],[1,"\\n\\n  "],[46,[28,[31,1],null,null],null,null,null],[1,"\\n"]],[],["component","-outlet"]]',moduleName:"/Users/aborovkov/anime-sync/app/templates/application.gjs",scope:()=>[oE],isStrictMode:!0}),cE()),cC=Object.freeze(Object.defineProperty({__proto__:null,default:lC},Symbol.toStringTag,{value:"Module"})),uC=Object.assign({},Xv,{"trakt-mal-sync/app":e,"trakt-mal-sync/config/environment":tw,"trakt-mal-sync/deprecation-workflow":rw,"trakt-mal-sync/router":cw,"trakt-mal-sync/services/cache":uw,"trakt-mal-sync/services/mal":ww,"trakt-mal-sync/services/mapping":Sw,"trakt-mal-sync/services/oauth":Aw,"trakt-mal-sync/services/storage":Rw,"trakt-mal-sync/services/sync-engine":Ew,"trakt-mal-sync/services/trakt":Ow,"trakt-mal-sync/utils/rate-limiter":gw,"trakt-mal-sync/services/page-title":$w,"trakt-mal-sync/initializers/ember-data":sk,"trakt-mal-sync/services/store":zT,"trakt-mal-sync/transforms/date":BT,"trakt-mal-sync/transforms/number":$T,"trakt-mal-sync/transforms/string":HT,"trakt-mal-sync/transforms/boolean":VT,"trakt-mal-sync/data-adapter":rE,"trakt-mal-sync/templates/auth/mal-callback":hE,"trakt-mal-sync/routes/auth/mal-callback":pE,"trakt-mal-sync/templates/auth/trakt-callback":gE,"trakt-mal-sync/routes/auth/trakt-callback":yE,"trakt-mal-sync/templates/dashboard":NE,"trakt-mal-sync/routes/dashboard":jE,"trakt-mal-sync/templates/index":qE,"trakt-mal-sync/routes/index":FE,"trakt-mal-sync/templates/settings":HE,"trakt-mal-sync/routes/settings":VE,"trakt-mal-sync/templates/sync/preview":GE,"trakt-mal-sync/routes/sync/preview":JE,"trakt-mal-sync/templates/sync/progress":eC,"trakt-mal-sync/routes/sync/progress":rC,"trakt-mal-sync/templates/sync/results":sC,"trakt-mal-sync/routes/sync/results":aC,"trakt-mal-sync/templates/application":cC},{});class hC{constructor(e,t,r){this.limit=e,this.func=t,this.store=r,this.size=0,this.misses=0,this.hits=0,this.store=r||new Map}get(e){let t=this.store.get(e);return this.store.has(e)?(this.hits++,this.store.get(e)):(this.misses++,t=this.set(e,this.func(e)),t)}set(e,t){return this.limit>this.size&&(this.size++,this.store.set(e,t)),t}purge(){this.store.clear(),this.size=0,this.hits=0,this.misses=0}}const dC=/[ _]/g,pC=new hC(1e3,e=>{return(t=e,kC.get(t)).replace(dC,"-");var t}),fC=/^(\-|_)+(.)?/,gC=/(.)(\-|\_|\.|\s)+(.)?/g,mC=/(^|\/|\.)([a-z])/g,yC=new hC(1e3,e=>{const t=(e,t,r)=>r?`_${r.toUpperCase()}`:"",r=(e,t,r,n)=>t+(n?n.toUpperCase():""),n=e.split("/");for(let i=0;i<n.length;i++)n[i]=n[i].replace(fC,t).replace(gC,r);return n.join("/").replace(mC,e=>e.toUpperCase())}),bC=/([a-z\d])([A-Z]+)/g,_C=/\-|\s+/g,vC=new hC(1e3,e=>e.replace(bC,"$1_$2").replace(_C,"_").toLowerCase()),wC=/([a-z\d])([A-Z])/g,kC=new hC(1e3,e=>e.replace(wC,"$1_$2").toLowerCase());class SC{constructor(e){this._entries=e||globalThis.requirejs.entries}moduleNames(){return Object.keys(this._entries)}has(e){return e in this._entries}get(...e){return globalThis.require(...e)}}class xC{static moduleBasedResolver=!0;moduleBasedResolver=!0;_deprecatedPodModulePrefix=!1;_normalizeCache=Object.create(null);static create(e){return new this(e)}moduleNameLookupPatterns=[this.podBasedModuleName,this.podBasedComponentsInSubdir,this.mainModuleName,this.defaultModuleName,this.nestedColocationComponentModuleName];static withModules(e){return class extends(this){static explicitModules=e}}constructor(e){if(Object.assign(this,e),!this._moduleRegistry){let e=this.constructor.explicitModules;e?this._moduleRegistry={moduleNames:()=>Object.keys(e),has:t=>Boolean(e[t]),get:t=>e[t],addModules(t){e=Object.assign({},e,t)}}:(void 0===globalThis.requirejs.entries&&(globalThis.requirejs.entries=globalThis.requirejs._eak_seen),this._moduleRegistry=new SC)}this.pluralizedTypes=this.pluralizedTypes||Object.create(null),this.pluralizedTypes.config||(this.pluralizedTypes.config="config")}makeToString(e,t){return this.namespace.modulePrefix+"@"+t+":"}shouldWrapInClassFactory(){return!1}parseName(e){if(!0===e.parsedName)return e;let t,r,n,i=e.split("@");if(3===i.length){if(0===i[0].length){t=`@${i[1]}`;let e=i[2].split(":");r=e[0],n=e[1]}else t=`@${i[1]}`,r=i[0].slice(0,-1),n=i[2];"template:components"===r&&(n=`components/${n}`,r="template")}else if(2===i.length){let e=i[0].split(":");if(2===e.length)0===e[1].length?(r=e[0],n=`@${i[1]}`):(t=e[1],r=e[0],n=i[1]);else{let e=i[1].split(":");t=i[0],r=e[0],n=e[1]}"template"===r&&0===t.lastIndexOf("components/",0)&&(n=`components/${n}`,t=t.slice(11))}else i=e.split(":"),r=i[0],n=i[1];let s=n,o=this.namespace;return{parsedName:!0,fullName:e,prefix:t||this.prefix({type:r}),type:r,fullNameWithoutType:s,name:n,root:o,resolveMethodName:"resolve"+(a=r,yC.get(a))};var a}resolveOther(e){AC("`modulePrefix` must be defined",this.namespace.modulePrefix);let t=this.findModuleName(e);if(t){let n=this._extractDefaultExport(t,e);if(void 0===n)throw new Error(` Expected to find: '${e.fullName}' within '${t}' but got 'undefined'. Did you forget to 'export default' within '${t}'?`);return this.shouldWrapInClassFactory(n,e)&&(r=n,n={create:e=>"function"==typeof r.extend?r.extend(e):r}),n}var r}normalize(e){return this._normalizeCache[e]||(this._normalizeCache[e]=this._normalize(e))}resolve(e){if("resolver:current"===e)return{create:()=>this};let t,r=this.parseName(e),n=r.resolveMethodName;return"function"==typeof this[n]&&(t=this[n](r)),null==t&&(t=this.resolveOther(r)),t}addModules(e){if(!this._moduleRegistry.addModules)throw new Error("addModules is only supported when your Resolver has been configured to use static modules via Resolver.withModules()");this._moduleRegistry.addModules(e)}_normalize(e){let t=e.split(":");if(t.length>1){let e=t[0];return"component"===e||"helper"===e||"modifier"===e||"template"===e&&0===t[1].indexOf("components/")?e+":"+t[1].replace(/_/g,"-"):e+":"+(r=t[1].replace(/\./g,"/"),pC.get(r))}return e;var r}pluralize(e){return this.pluralizedTypes[e]||(this.pluralizedTypes[e]=e+"s")}podBasedLookupWithPrefix(e,t){let r=t.fullNameWithoutType;return"template"===t.type&&(r=r.replace(/^components\//,"")),e+"/"+r+"/"+t.type}podBasedModuleName(e){let t=this.namespace.podModulePrefix||this.namespace.modulePrefix;return this.podBasedLookupWithPrefix(t,e)}podBasedComponentsInSubdir(e){let t=this.namespace.podModulePrefix||this.namespace.modulePrefix;if(t+="/components","component"===e.type||/^components/.test(e.fullNameWithoutType))return this.podBasedLookupWithPrefix(t,e)}resolveEngine(e){let t=e.fullNameWithoutType+"/engine";if(this._moduleRegistry.has(t))return this._extractDefaultExport(t)}resolveRouteMap(e){let t=e.fullNameWithoutType,r=t+"/routes";if(this._moduleRegistry.has(r)){let e=this._extractDefaultExport(r);return AC(`The route map for ${t} should be wrapped by 'buildRoutes' before exporting.`,e.isRouteMap),e}}resolveTemplate(e){return this.resolveOther(e)}mainModuleName(e){if("main"===e.fullNameWithoutType)return e.prefix+"/"+e.type}defaultModuleName(e){return e.prefix+"/"+this.pluralize(e.type)+"/"+e.fullNameWithoutType}nestedColocationComponentModuleName(e){if("component"===e.type)return e.prefix+"/"+this.pluralize(e.type)+"/"+e.fullNameWithoutType+"/index"}prefix(e){let t=this.namespace.modulePrefix;return this.namespace[e.type+"Prefix"]&&(t=this.namespace[e.type+"Prefix"]),t}findModuleName(e){let t,r=this.moduleNameLookupPatterns;for(let n=0,i=r.length;n<i;n++){let i=r[n].call(this,e);if(i&&(i=this.chooseModuleName(i)),i&&this._moduleRegistry.has(i)&&(t=i),t)return t}}chooseModuleName(e){let t=(r=e,vC.get(r));var r;if(e!==t&&this._moduleRegistry.has(e)&&this._moduleRegistry.has(t))throw new TypeError(`Ambiguous module names: '${e}' and '${t}'`);return this._moduleRegistry.has(e)?e:this._moduleRegistry.has(t)?t:void 0}knownForType(e){let t=this._moduleRegistry.moduleNames(),r=Object.create(null);for(let n=0,i=t.length;n<i;n++){let i=t[n],s=this.translateToContainerFullname(e,i);s&&(r[s]=!0)}return r}translateToContainerFullname(e,t){let r=this.prefix({type:e}),n=r+"/",i="/"+e,s=t.indexOf(n),o=t.indexOf(i);if(0===s&&o===t.length-i.length&&t.length>n.length+i.length)return e+":"+t.slice(s+n.length,o);let a=r+"/"+this.pluralize(e)+"/";return 0===t.indexOf(a)&&t.length>a.length?e+":"+t.slice(a.length):void 0}_extractDefaultExport(e){let t=this._moduleRegistry.get(e,null,null,!0);return t&&t.default&&(t=t.default),t}}function AC(e,t){if(!t)throw new Error(e)}function RC(e,t){let r=e.load(t);if(!r)throw new Error(t+" must export an initializer.");let n=r.default;if(!n)throw new Error(t+" must have a default export");return n.name||(n.name=t.slice(t.lastIndexOf("/")+1)),n}const TC={};function EC(e){!function(e){globalThis.emberInspectorApps||(globalThis.emberInspectorApps=[]),globalThis.emberInspectorApps.push({app:e,name:`app-${globalThis.emberInspectorApps.length}`,loadCompatInspector:()=>function(e,t){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),i=e?.nonce||e?.getAttribute("nonce");n=t.map(e=>{if((e=function(e){return"/"+e}(e))in TC)return;TC[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,i&&n.setAttribute("nonce",i),document.head.appendChild(n),t?new Promise((t,r)=>{n.addEventListener("load",t),n.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}),r=Promise.all(n.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))}var n;function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(e=>{for(const t of e||[])"rejected"===t.status&&i(t.reason);return import("./modules-4-12-M8QidixD.js").catch(i)})}(0,[])}),globalThis.dispatchEvent&&globalThis.dispatchEvent(new Event("Ember"))}(e)}class CC extends Jv{modulePrefix=ew.modulePrefix;podModulePrefix=ew.podModulePrefix;Resolver=xC.withModules(uC);inspector=EC(this)}!function(e,t,r){var n=t+"/initializers/",i=t+"/instance-initializers/",s=[],o=[];let a;a=r?{names:()=>Object.keys(r),load:e=>r[e]}:{names(){let e=globalThis.requirejs;if(!e||!e._eak_seen)throw new Error("No global AMD loader found. To use loadInitializers without a global AMD loader you must provide explicit modules");return Object.keys(e._eak_seen)},load:e=>globalThis.require(e,null,null,!0)};for(let l of a.names())l.startsWith(n)&&!l.endsWith("-test")?s.push(l):l.startsWith(i)&&!l.endsWith("-test")&&o.push(l);!function(e,t,r){for(let n of r)e.initializer(RC(t,n))}(e,a,s),function(e,t,r){for(let n of r)e.instanceInitializer(RC(t,n))}(e,a,o)}(CC,ew.modulePrefix,uC),CC.create(ew.APP);export{Bi as $,Pi as A,Jo as B,di as C,ys as D,Di as E,hp as F,gu as G,fu as H,rs as I,Qi as J,Yi as K,gs as L,ts as M,Go as N,ss as O,Vi as P,is as Q,os as R,Ii as S,ws as T,_i as U,bi as V,Gi as W,Si as X,ea as Y,Xo as Z,ps as _,S as a,Yl as a$,Jl as a0,Ci as a1,us as a2,bs as a3,vi as a4,ns as a5,qt as a6,ui as a7,na as a8,ms as a9,Pn as aA,g_ as aB,Hn as aC,lE as aD,$n as aE,Vu as aF,w as aG,b as aH,k as aI,_ as aJ,m as aK,v as aL,Ye as aM,Ke as aN,We as aO,tt as aP,et as aQ,Xe as aR,Oa as aS,Ca as aT,Ea as aU,qa as aV,Gl as aW,Ra as aX,za as aY,ja as aZ,Da as a_,mi as aa,ii as ab,hi as ac,Ki as ad,ei as ae,Oi as af,ra as ag,ta as ah,ku as ai,Ti as aj,Zo as ak,Ni as al,yu as am,_u as an,zi as ao,Ei as ap,wi as aq,ia as ar,Zl as as,sa as at,ni as au,ri as av,_s as aw,Pa as ax,Ib as ay,Hb as az,A as b,Wl as b$,Jn as b0,H as b1,Z as b2,Y as b3,pe as b4,ye as b5,V as b6,K as b7,Ho as b8,L as b9,Mc as bA,xc as bB,vc as bC,jc as bD,Pc as bE,Nc as bF,Ac as bG,wc as bH,bc as bI,Rc as bJ,Tc as bK,Ba as bL,hl as bM,gl as bN,yl as bO,Dl as bP,Vl as bQ,Hl as bR,Ha as bS,Ql as bT,xl as bU,pl as bV,Ml as bW,vl as bX,kl as bY,Rl as bZ,Kl as b_,me as ba,q as bb,Kn as bc,ce as bd,ne as be,se as bf,$o as bg,ie as bh,Qn as bi,de as bj,ue as bk,be as bl,he as bm,we as bn,z as bo,ae as bp,pu as bq,Uv as br,du as bs,qc as bt,fb as bu,tu as bv,Ic as bw,Ec as bx,Cc as by,_c as bz,Me as c,bl as c0,El as c1,Tl as c2,Sl as c3,Zv as c4,jv as c5,Gu as c6,eT as c7,Xu as c8,yc as c9,Fa as ca,Gc as cb,uc as cc,zc as cd,dc as ce,HR as cf,WR as cg,ko as ch,Dp as ci,o as cj,Xn as ck,RE as cl,Vn as cm,Yr as cn,db as co,_r as cp,rr as cq,qe as d,Ue as e,Oe as f,He as g,$e as h,D as i,jt as j,Lt as k,Uc as l,W as m,hs as n,Ma as o,Zi as p,Yo as q,Fe as r,R as s,cs as t,ze as u,ds as v,Ia as w,ji as x,wu as y,Ri as z};
